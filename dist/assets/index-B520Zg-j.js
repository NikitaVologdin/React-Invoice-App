import{c as Va,a as id,b as KC,r as G,u as xS,d as QC,e as YC,R as Xo,P as $C}from"./redux-ZhucQE2l.js";import{r as XC,a as RS,g as CS}from"./react-DJG_os-6.js";import{u as Vr,O as IS,L as cc,a as Oa,b as WC,c as ZC,d as JC,R as tI}from"./router-CQ0KdOA-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Mp={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function eI(){if(hT)return wu;hT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return wu.Fragment=t,wu.jsx=n,wu.jsxs=n,wu}var fT;function nI(){return fT||(fT=1,Mp.exports=eI()),Mp.exports}var A=nI(),Pp={exports:{}},xu={},kp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function iI(){return dT||(dT=1,function(e){function t(W,lt){var ht=W.length;W.push(lt);t:for(;0<ht;){var Dt=ht-1>>>1,Tt=W[Dt];if(0<a(Tt,lt))W[Dt]=lt,W[ht]=Tt,ht=Dt;else break t}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var lt=W[0],ht=W.pop();if(ht!==lt){W[0]=ht;t:for(var Dt=0,Tt=W.length,pt=Tt>>>1;Dt<pt;){var U=2*(Dt+1)-1,Y=W[U],ot=U+1,ut=W[ot];if(0>a(Y,ht))ot<Tt&&0>a(ut,Y)?(W[Dt]=ut,W[ot]=ht,Dt=ot):(W[Dt]=Y,W[U]=ht,Dt=U);else if(ot<Tt&&0>a(ut,ht))W[Dt]=ut,W[ot]=ht,Dt=ot;else break t}}return lt}function a(W,lt){var ht=W.sortIndex-lt.sortIndex;return ht!==0?ht:W.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,S=!1,I=!1,j=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function tt(W){for(var lt=n(p);lt!==null;){if(lt.callback===null)r(p);else if(lt.startTime<=W)r(p),lt.sortIndex=lt.expirationTime,t(m,lt);else break;lt=n(p)}}function X(W){if(j=!1,tt(W),!I)if(n(m)!==null)I=!0,at||(at=!0,F());else{var lt=n(p);lt!==null&&ne(X,lt.startTime-W)}}var at=!1,N=-1,x=5,C=-1;function O(){return k?!0:!(e.unstable_now()-C<x)}function P(){if(k=!1,at){var W=e.unstable_now();C=W;var lt=!0;try{t:{I=!1,j&&(j=!1,Z(N),N=-1),S=!0;var ht=b;try{e:{for(tt(W),_=n(m);_!==null&&!(_.expirationTime>W&&O());){var Dt=_.callback;if(typeof Dt=="function"){_.callback=null,b=_.priorityLevel;var Tt=Dt(_.expirationTime<=W);if(W=e.unstable_now(),typeof Tt=="function"){_.callback=Tt,tt(W),lt=!0;break e}_===n(m)&&r(m),tt(W)}else r(m);_=n(m)}if(_!==null)lt=!0;else{var pt=n(p);pt!==null&&ne(X,pt.startTime-W),lt=!1}}break t}finally{_=null,b=ht,S=!1}lt=void 0}}finally{lt?F():at=!1}}}var F;if(typeof K=="function")F=function(){K(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,_t=V.port2;V.port1.onmessage=P,F=function(){_t.postMessage(null)}}else F=function(){M(P,0)};function ne(W,lt){N=M(function(){W(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var ht=b;b=lt;try{return W()}finally{b=ht}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(W,lt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ht=b;b=W;try{return lt()}finally{b=ht}},e.unstable_scheduleCallback=function(W,lt,ht){var Dt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Dt+ht:Dt):ht=Dt,W){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=ht+Tt,W={id:y++,callback:lt,priorityLevel:W,startTime:ht,expirationTime:Tt,sortIndex:-1},ht>Dt?(W.sortIndex=ht,t(p,W),n(m)===null&&W===n(p)&&(j?(Z(N),N=-1):j=!0,ne(X,ht-Dt))):(W.sortIndex=Tt,t(m,W),I||S||(I=!0,at||(at=!0,F()))),W},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(W){var lt=b;return function(){var ht=b;b=lt;try{return W.apply(this,arguments)}finally{b=ht}}}}(Lp)),Lp}var mT;function rI(){return mT||(mT=1,kp.exports=iI()),kp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function sI(){if(pT)return xu;pT=1;var e=rI(),t=XC(),n=RS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,u=g;break}if(w===u){T=!0,u=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=d;break}if(w===u){T=!0,u=g,o=d;break}w=w.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),K=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function _t(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case X:return"Suspense";case at:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case K:return(i.displayName||"Context")+".Provider";case Z:return(i._context.displayName||"Context")+".Consumer";case tt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:_t(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return _t(i(s))}catch{}}return null}var ne=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Dt=[],Tt=-1;function pt(i){return{current:i}}function U(i){0>Tt||(i.current=Dt[Tt],Dt[Tt]=null,Tt--)}function Y(i,s){Tt++,Dt[Tt]=i.current,i.current=s}var ot=pt(null),ut=pt(null),gt=pt(null),Rt=pt(null);function jt(i,s){switch(Y(gt,s),Y(ut,i),Y(ot,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?UE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=UE(s),i=FE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(ot),Y(ot,i)}function Mt(){U(ot),U(ut),U(gt)}function Nt(i){i.memoizedState!==null&&Y(Rt,i);var s=ot.current,o=FE(s,i.type);s!==o&&(Y(ut,i),Y(ot,o))}function Jt(i){ut.current===i&&(U(ot),U(ut)),Rt.current===i&&(U(Rt),Eu._currentValue=ht)}var fe=Object.prototype.hasOwnProperty,Pe=e.unstable_scheduleCallback,cn=e.unstable_cancelCallback,de=e.unstable_shouldYield,ce=e.unstable_requestPaint,ke=e.unstable_now,Fa=e.unstable_getCurrentPriorityLevel,kr=e.unstable_ImmediatePriority,_n=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,Dn=e.unstable_LowPriority,Wi=e.unstable_IdlePriority,ui=e.log,Gn=e.unstable_setDisableYieldValue,Qt=null,Bt=null;function Tn(i){if(typeof ui=="function"&&Gn(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Qt,i)}catch{}}var Ge=Math.clz32?Math.clz32:Ls,Ba=Math.log,kd=Math.LN2;function Ls(i){return i>>>=0,i===0?32:31-(Ba(i)/kd|0)|0}var js=256,Us=4194304;function ci(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function za(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=ci(u):(T&=w,T!==0?d=ci(T):o||(o=w&~i,o!==0&&(d=ci(o))))):(w=u&~g,w!==0?d=ci(w):T!==0?d=ci(T):o||(o=u&~i,o!==0&&(d=ci(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Fs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function El(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var i=js;return js<<=1,(js&4194048)===0&&(js=256),i}function bl(){var i=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),i}function Zi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ji(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Al(i,s,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,D=i.expirationTimes,H=i.hiddenUpdates;for(o=T&~o;0<o;){var et=31-Ge(o),it=1<<et;w[et]=0,D[et]=-1;var Q=H[et];if(Q!==null)for(H[et]=null,et=0;et<Q.length;et++){var $=Q[et];$!==null&&($.lane&=-536870913)}o&=~it}u!==0&&Ti(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function Ti(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ge(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Sl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ge(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Lr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function qa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function jr(){var i=lt.p;return i!==0?i:(i=window.event,i===void 0?32:sT(i.type))}function Dc(i,s){var o=lt.p;try{return lt.p=i,s()}finally{lt.p=o}}var me=Math.random().toString(36).slice(2),Le="__reactFiber$"+me,Ie="__reactProps$"+me,Kn="__reactContainer$"+me,wl="__reactEvents$"+me,Ld="__reactListeners$"+me,Ur="__reactHandles$"+me,Nc="__reactResources$"+me,Bs="__reactMarker$"+me;function Fr(i){delete i[Le],delete i[Ie],delete i[wl],delete i[Ld],delete i[Ur]}function tr(i){var s=i[Le];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Kn]||o[Le]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=HE(i);i!==null;){if(o=i[Le])return o;i=HE(i)}return s}i=o,o=i.parentNode}return null}function bi(i){if(i=i[Le]||i[Kn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ai(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function bn(i){var s=i[Nc];return s||(s=i[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Se(i){i[Bs]=!0}var xl=new Set,Ha={};function hi(i,s){er(i,s),er(i+"Capture",s)}function er(i,s){for(Ha[i]=s,i=0;i<s.length;i++)xl.add(s[i])}var Vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oc={},zs={};function Mc(i){return fe.call(zs,i)?!0:fe.call(Oc,i)?!1:Vc.test(i)?zs[i]=!0:(Oc[i]=!0,!1)}function Br(i,s,o){if(Mc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Si(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ze(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var qs,Pc;function nr(i){if(qs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);qs=s&&s[1]||"",Pc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qs+i+Pc}var Ga=!1;function Ka(i,s){if(!i||Ga)return"";Ga=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch($){var Q=$}Reflect.construct(i,[],it)}else{try{it.call()}catch($){Q=$}i.call(it.prototype)}}else{try{throw Error()}catch($){Q=$}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var D=T.split(`
`),H=w.split(`
`);for(d=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(u===D.length||d===H.length)for(u=D.length-1,d=H.length-1;1<=u&&0<=d&&D[u]!==H[d];)d--;for(;1<=u&&0<=d;u--,d--)if(D[u]!==H[d]){if(u!==1||d!==1)do if(u--,d--,0>d||D[u]!==H[d]){var et=`
`+D[u].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=u&&0<=d);break}}}finally{Ga=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?nr(o):""}function Rl(i){switch(i.tag){case 26:case 27:case 5:return nr(i.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return Ka(i.type,!1);case 11:return Ka(i.type.render,!1);case 1:return Ka(i.type,!0);case 31:return nr("Activity");default:return""}}function Qa(i){try{var s="";do s+=Rl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function An(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jd(i){var s=Cl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ya(i){i._valueTracker||(i._valueTracker=jd(i))}function Il(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Cl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ud=/[\n"\\]/g;function De(i){return i.replace(Ud,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function kn(i,s,o,u,d,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+An(s)):i.value!==""+An(s)&&(i.value=""+An(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?zr(i,T,An(s)):o!=null?zr(i,T,An(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+An(w):i.removeAttribute("name")}function Gs(i,s,o,u,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+An(o):"",s=s!=null?""+An(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function zr(i,s,o){s==="number"&&Hs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ir(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+An(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function ie(i,s,o){if(s!=null&&(s=""+An(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+An(o):""}function Ks(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ne(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=An(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Qn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Qs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Dl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&kc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&kc(i,g,s[g])}function Nl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(i){return Bd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var rr=null;function Yn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sr=null,ar=null;function Vl(i){var s=bi(i);if(s&&(i=s.stateNode)){var o=i[Ie]||null;t:switch(i=s.stateNode,s.type){case"input":if(kn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+De(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Ie]||null;if(!d)throw Error(r(90));kn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Il(u)}break t;case"textarea":ie(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&ir(i,!!o.multiple,s,!1)}}}var wi=!1;function Lc(i,s,o){if(wi)return i(s,o);wi=!0;try{var u=i(s);return u}finally{if(wi=!1,(sr!==null||ar!==null)&&(Dh(),sr&&(s=sr,i=ar,ar=sr=null,Vl(s),i)))for(s=0;s<i.length;s++)Vl(i[s])}}function Ys(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ie]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(fi)try{var $s={};Object.defineProperty($s,"passive",{get:function(){$n=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{$n=!1}var xi=null,qr=null,or=null;function Ol(){if(or)return or;var i,s=qr,o=s.length,u,d="value"in xi?xi.value:xi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return or=d.slice(i,1<u?1-u:void 0)}function Ri(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ci(){return!0}function Ml(){return!1}function Ke(i){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ci:Ml,this.isPropagationStopped=Ml,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),s}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Ke(Wt),Xs=y({},Wt,{view:0,detail:0}),jc=Ke(Xs),Wa,Za,Ii,Ws=y({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(Wa=i.screenX-Ii.screenX,Za=i.screenY-Ii.screenY):Za=Wa=0,Ii=i),Wa)},movementY:function(i){return"movementY"in i?i.movementY:Za}}),Xn=Ke(Ws),Uc=y({},Ws,{dataTransfer:0}),zd=Ke(Uc),Zs=y({},Xs,{relatedTarget:0}),Ja=Ke(Zs),Pl=y({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Ke(Pl),Fc=y({},Wt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),eo=Ke(Fc),qd=y({},Wt,{data:0}),kl=Ke(qd),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=zc[i])?!!s[i]:!1}function ta(){return Ll}var qc=y({},Xs,{key:function(i){if(i.key){var s=Js[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ri(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?Ri(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ri(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),no=Ke(qc),Hc=y({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Ke(Hc),lr=y({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Gc=Ke(lr),Kc=y({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Ke(Kc),Yc=y({},Ws,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Ke(Yc),Sn=y({},Wt,{newState:0,oldState:0}),$c=Ke(Sn),Xc=[9,13,27,32],Di=fi&&"CompositionEvent"in window,h=null;fi&&"documentMode"in document&&(h=document.documentMode);var v=fi&&"TextEvent"in window&&!h,E=fi&&(!Di||h&&8<h&&11>=h),R=" ",z=!1;function J(i,s){switch(i){case"keyup":return Xc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zt=!1;function je(i,s){switch(i){case"compositionend":return ct(s);case"keypress":return s.which!==32?null:(z=!0,R);case"textInput":return i=s.data,i===R&&z?null:i;default:return null}}function qt(i,s){if(zt)return i==="compositionend"||!Di&&J(i,s)?(i=Ol(),or=qr=xi=null,zt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Qe[i.type]:s==="textarea"}function ur(i,s,o,u){sr?ar?ar.push(u):ar=[u]:sr=u,s=kh(s,"onChange"),0<s.length&&(o=new Xa("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Je=null,Ni=null;function Ul(i){ME(i,0)}function Wc(i){var s=Ai(i);if(Il(s))return i}function e0(i,s){if(i==="change")return s}var n0=!1;if(fi){var Hd;if(fi){var Gd="oninput"in document;if(!Gd){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),Gd=typeof i0.oninput=="function"}Hd=Gd}else Hd=!1;n0=Hd&&(!document.documentMode||9<document.documentMode)}function r0(){Je&&(Je.detachEvent("onpropertychange",s0),Ni=Je=null)}function s0(i){if(i.propertyName==="value"&&Wc(Ni)){var s=[];ur(s,Ni,i,Yn(i)),Lc(Ul,s)}}function b2(i,s,o){i==="focusin"?(r0(),Je=s,Ni=o,Je.attachEvent("onpropertychange",s0)):i==="focusout"&&r0()}function A2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wc(Ni)}function S2(i,s){if(i==="click")return Wc(s)}function w2(i,s){if(i==="input"||i==="change")return Wc(s)}function x2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ln=typeof Object.is=="function"?Object.is:x2;function Fl(i,s){if(Ln(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!fe.call(s,d)||!Ln(i[d],s[d]))return!1}return!0}function a0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function o0(i,s){var o=a0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=a0(o)}}function l0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?l0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function u0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Hs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Hs(i.document)}return s}function Kd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var R2=fi&&"documentMode"in document&&11>=document.documentMode,ro=null,Qd=null,Bl=null,Yd=!1;function c0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||ro==null||ro!==Hs(u)||(u=ro,"selectionStart"in u&&Kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bl&&Fl(Bl,u)||(Bl=u,u=kh(Qd,"onSelect"),0<u.length&&(s=new Xa("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=ro)))}function ea(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var so={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},$d={},h0={};fi&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function na(i){if($d[i])return $d[i];if(!so[i])return i;var s=so[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in h0)return $d[i]=s[o];return i}var f0=na("animationend"),d0=na("animationiteration"),m0=na("animationstart"),C2=na("transitionrun"),I2=na("transitionstart"),D2=na("transitioncancel"),p0=na("transitionend"),g0=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function di(i,s){g0.set(i,s),hi(s,[i])}var y0=new WeakMap;function Wn(i,s){if(typeof i=="object"&&i!==null){var o=y0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Qa(s)},y0.set(i,s),s)}return{value:i,source:s,stack:Qa(s)}}var Zn=[],ao=0,Wd=0;function Zc(){for(var i=ao,s=Wd=ao=0;s<i;){var o=Zn[s];Zn[s++]=null;var u=Zn[s];Zn[s++]=null;var d=Zn[s];Zn[s++]=null;var g=Zn[s];if(Zn[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&v0(o,d,g)}}function Jc(i,s,o,u){Zn[ao++]=i,Zn[ao++]=s,Zn[ao++]=o,Zn[ao++]=u,Wd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Zd(i,s,o,u){return Jc(i,s,o,u),th(i)}function oo(i,s){return Jc(i,null,null,s),th(i)}function v0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Ge(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function th(i){if(50<fu)throw fu=0,rp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var lo={};function N2(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,s,o,u){return new N2(i,s,o,u)}function Jd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cr(i,s){var o=i.alternate;return o===null?(o=jn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function _0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function eh(i,s,o,u,d,g){var T=0;if(u=i,typeof i=="function")Jd(i)&&(T=1);else if(typeof i=="string")T=OC(i,o,ot.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=jn(31,o,s,d),i.elementType=C,i.lanes=g,i;case I:return ia(o.children,d,g,s);case j:T=8,d|=24;break;case k:return i=jn(12,o,s,d|2),i.elementType=k,i.lanes=g,i;case X:return i=jn(13,o,s,d),i.elementType=X,i.lanes=g,i;case at:return i=jn(19,o,s,d),i.elementType=at,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case K:T=10;break t;case Z:T=9;break t;case tt:T=11;break t;case N:T=14;break t;case x:T=16,u=null;break t}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=jn(T,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function ia(i,s,o,u){return i=jn(7,i,u,s),i.lanes=o,i}function tm(i,s,o){return i=jn(6,i,null,s),i.lanes=o,i}function em(i,s,o){return s=jn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var uo=[],co=0,nh=null,ih=0,Jn=[],ti=0,ra=null,hr=1,fr="";function sa(i,s){uo[co++]=ih,uo[co++]=nh,nh=i,ih=s}function E0(i,s,o){Jn[ti++]=hr,Jn[ti++]=fr,Jn[ti++]=ra,ra=i;var u=hr;i=fr;var d=32-Ge(u)-1;u&=~(1<<d),o+=1;var g=32-Ge(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,hr=1<<32-Ge(s)+d|o<<d|u,fr=g+i}else hr=1<<g|o<<d|u,fr=i}function nm(i){i.return!==null&&(sa(i,1),E0(i,1,0))}function im(i){for(;i===nh;)nh=uo[--co],uo[co]=null,ih=uo[--co],uo[co]=null;for(;i===ra;)ra=Jn[--ti],Jn[ti]=null,fr=Jn[--ti],Jn[ti]=null,hr=Jn[--ti],Jn[ti]=null}var wn=null,Ee=null,Yt=!1,aa=null,Vi=!1,rm=Error(r(519));function oa(i){var s=Error(r(418,""));throw Hl(Wn(s,i)),rm}function T0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Le]=i,s[Ie]=u,o){case"dialog":Lt("cancel",s),Lt("close",s);break;case"iframe":case"object":case"embed":Lt("load",s);break;case"video":case"audio":for(o=0;o<mu.length;o++)Lt(mu[o],s);break;case"source":Lt("error",s);break;case"img":case"image":case"link":Lt("error",s),Lt("load",s);break;case"details":Lt("toggle",s);break;case"input":Lt("invalid",s),Gs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ya(s);break;case"select":Lt("invalid",s);break;case"textarea":Lt("invalid",s),Ks(s,u.value,u.defaultValue,u.children),Ya(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||jE(s.textContent,o)?(u.popover!=null&&(Lt("beforetoggle",s),Lt("toggle",s)),u.onScroll!=null&&Lt("scroll",s),u.onScrollEnd!=null&&Lt("scrollend",s),u.onClick!=null&&(s.onclick=Lh),s=!0):s=!1,s||oa(i)}function b0(i){for(wn=i.return;wn;)switch(wn.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:wn=wn.return}}function zl(i){if(i!==wn)return!1;if(!Yt)return b0(i),Yt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ep(i.type,i.memoizedProps)),o=!o),o&&Ee&&oa(i),b0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Ee=pi(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Ee=null}}else s===27?(s=Ee,ss(i.type)?(i=Sp,Sp=null,Ee=i):Ee=s):Ee=wn?pi(i.stateNode.nextSibling):null;return!0}function ql(){Ee=wn=null,Yt=!1}function A0(){var i=aa;return i!==null&&(On===null?On=i:On.push.apply(On,i),aa=null),i}function Hl(i){aa===null?aa=[i]:aa.push(i)}var sm=pt(null),la=null,dr=null;function Hr(i,s,o){Y(sm,s._currentValue),s._currentValue=o}function mr(i){i._currentValue=sm.current,U(sm)}function am(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function om(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var D=0;D<s.length;D++)if(w.context===s[D]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),am(g.return,o,i),u||(T=null);break t}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),am(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Gl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var w=d.type;Ln(d.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(d===Rt.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}d=d.return}i!==null&&om(s,i,o,u),s.flags|=262144}function rh(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){la=i,dr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return S0(la,i)}function sh(i,s){return la===null&&ua(i),S0(i,s)}function S0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},dr===null){if(i===null)throw Error(r(308));dr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else dr=dr.next=s;return o}var V2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},O2=e.unstable_scheduleCallback,M2=e.unstable_NormalPriority,Fe={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new V2,data:new Map,refCount:0}}function Kl(i){i.refCount--,i.refCount===0&&O2(M2,function(){i.controller.abort()})}var Ql=null,um=0,ho=0,fo=null;function P2(i,s){if(Ql===null){var o=Ql=[];um=0,ho=hp(),fo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return um++,s.then(w0,w0),s}function w0(){if(--um===0&&Ql!==null){fo!==null&&(fo.status="fulfilled");var i=Ql;Ql=null,ho=0,fo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function k2(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var x0=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&P2(i,s),x0!==null&&x0(i,s)};var ca=pt(null);function cm(){var i=ca.current;return i!==null?i:le.pooledCache}function ah(i,s){s===null?Y(ca,ca.current):Y(ca,s.pool)}function R0(){var i=cm();return i===null?null:{parent:Fe._currentValue,pool:i}}var Yl=Error(r(460)),C0=Error(r(474)),oh=Error(r(542)),hm={then:function(){}};function I0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function lh(){}function D0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(lh,lh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,V0(i),i;default:if(typeof s.status=="string")s.then(lh,lh);else{if(i=le,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,V0(i),i}throw $l=s,Yl}}var $l=null;function N0(){if($l===null)throw Error(r(459));var i=$l;return $l=null,i}function V0(i){if(i===Yl||i===oh)throw Error(r(483))}var Gr=!1;function fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Kr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Qr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(te&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=th(i),v0(i,null,o),s}return Jc(i,u,s,o),th(i)}function Xl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Sl(i,o)}}function mm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var pm=!1;function Wl(){if(pm){var i=fo;if(i!==null)throw i}}function Zl(i,s,o,u){pm=!1;var d=i.updateQueue;Gr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var D=w,H=D.next;D.next=null,T===null?g=H:T.next=H,T=D;var et=i.alternate;et!==null&&(et=et.updateQueue,w=et.lastBaseUpdate,w!==T&&(w===null?et.firstBaseUpdate=H:w.next=H,et.lastBaseUpdate=D))}if(g!==null){var it=d.baseState;T=0,et=H=D=null,w=g;do{var Q=w.lane&-536870913,$=Q!==w.lane;if($?(Ht&Q)===Q:(u&Q)===Q){Q!==0&&Q===ho&&(pm=!0),et!==null&&(et=et.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var wt=i,Et=w;Q=s;var ae=o;switch(Et.tag){case 1:if(wt=Et.payload,typeof wt=="function"){it=wt.call(ae,it,Q);break t}it=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Et.payload,Q=typeof wt=="function"?wt.call(ae,it,Q):wt,Q==null)break t;it=y({},it,Q);break t;case 2:Gr=!0}}Q=w.callback,Q!==null&&(i.flags|=64,$&&(i.flags|=8192),$=d.callbacks,$===null?d.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},et===null?(H=et=$,D=it):et=et.next=$,T|=Q;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;$=w,w=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);et===null&&(D=it),d.baseState=D,d.firstBaseUpdate=H,d.lastBaseUpdate=et,g===null&&(d.shared.lanes=0),es|=T,i.lanes=T,i.memoizedState=it}}function O0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function M0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)O0(o[i],s)}var mo=pt(null),uh=pt(0);function P0(i,s){i=Tr,Y(uh,i),Y(mo,s),Tr=i|s.baseLanes}function gm(){Y(uh,Tr),Y(mo,mo.current)}function ym(){Tr=uh.current,U(mo),U(uh)}var Yr=0,Vt=null,re=null,Ne=null,ch=!1,po=!1,ha=!1,hh=0,Jl=0,go=null,L2=0;function we(){throw Error(r(321))}function vm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Ln(i[o],s[o]))return!1;return!0}function _m(i,s,o,u,d,g){return Yr=g,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?v_:__,ha=!1,g=o(u,d),ha=!1,po&&(g=L0(s,o,u,d)),k0(i),g}function k0(i){W.H=yh;var s=re!==null&&re.next!==null;if(Yr=0,Ne=re=Vt=null,ch=!1,Jl=0,go=null,s)throw Error(r(300));i===null||Ye||(i=i.dependencies,i!==null&&rh(i)&&(Ye=!0))}function L0(i,s,o,u){Vt=i;var d=0;do{if(po&&(go=null),Jl=0,po=!1,25<=d)throw Error(r(301));if(d+=1,Ne=re=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=H2,g=s(o,u)}while(po);return g}function j2(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?tu(s):s,i=i.useState()[0],(re!==null?re.memoizedState:null)!==i&&(Vt.flags|=1024),s}function Em(){var i=hh!==0;return hh=0,i}function Tm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function bm(i){if(ch){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ch=!1}Yr=0,Ne=re=Vt=null,po=!1,Jl=hh=0,go=null}function Nn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Vt.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function Ve(){if(re===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=re.next;var s=Ne===null?Vt.memoizedState:Ne.next;if(s!==null)Ne=s,re=i;else{if(i===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));re=i,i={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Ne===null?Vt.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var s=Jl;return Jl+=1,go===null&&(go=[]),i=D0(go,i,s),s=Vt,(Ne===null?s.memoizedState:Ne.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?v_:__),i}function fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===K)return hn(i)}throw Error(r(438,String(i)))}function Sm(i){var s=null,o=Vt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Vt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Am(),Vt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=O;return s.index++,o}function pr(i,s){return typeof s=="function"?s(i):s}function dh(i){var s=Ve();return wm(s,re,i)}function wm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var w=T=null,D=null,H=s,et=!1;do{var it=H.lane&-536870913;if(it!==H.lane?(Ht&it)===it:(Yr&it)===it){var Q=H.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),it===ho&&(et=!0);else if((Yr&Q)===Q){H=H.next,Q===ho&&(et=!0);continue}else it={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(w=D=it,T=g):D=D.next=it,Vt.lanes|=Q,es|=Q;it=H.action,ha&&o(g,it),g=H.hasEagerState?H.eagerState:o(g,it)}else Q={lane:it,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(w=D=Q,T=g):D=D.next=Q,Vt.lanes|=it,es|=it;H=H.next}while(H!==null&&H!==s);if(D===null?T=g:D.next=w,!Ln(g,i.memoizedState)&&(Ye=!0,et&&(o=fo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=D,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function xm(i){var s=Ve(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Ln(g,s.memoizedState)||(Ye=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function j0(i,s,o){var u=Vt,d=Ve(),g=Yt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Ln((re||d).memoizedState,o);T&&(d.memoizedState=o,Ye=!0),d=d.queue;var w=B0.bind(null,u,d,i);if(eu(2048,8,w,[i]),d.getSnapshot!==s||T||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,yo(9,mh(),F0.bind(null,u,d,o,s),null),le===null)throw Error(r(349));g||(Yr&124)!==0||U0(u,s,o)}return o}function U0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Vt.updateQueue,s===null?(s=Am(),Vt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function F0(i,s,o,u){s.value=o,s.getSnapshot=u,z0(s)&&q0(i)}function B0(i,s,o){return o(function(){z0(s)&&q0(i)})}function z0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Ln(i,o)}catch{return!0}}function q0(i){var s=oo(i,2);s!==null&&qn(s,i,2)}function Rm(i){var s=Nn();if(typeof i=="function"){var o=i;if(i=o(),ha){Tn(!0);try{o()}finally{Tn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:i},s}function H0(i,s,o,u){return i.baseState=o,wm(i,re,typeof u=="function"?u:pr)}function U2(i,s,o,u,d){if(gh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,G0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function G0(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=W.T,T={};W.T=T;try{var w=o(d,u),D=W.S;D!==null&&D(T,w),K0(i,s,w)}catch(H){Cm(i,s,H)}finally{W.T=g}}else try{g=o(d,u),K0(i,s,g)}catch(H){Cm(i,s,H)}}function K0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Q0(i,s,u)},function(u){return Cm(i,s,u)}):Q0(i,s,o)}function Q0(i,s,o){s.status="fulfilled",s.value=o,Y0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,G0(i,o)))}function Cm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Y0(s),s=s.next;while(s!==u)}i.action=null}function Y0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function $0(i,s){return s}function X0(i,s){if(Yt){var o=le.formState;if(o!==null){t:{var u=Vt;if(Yt){if(Ee){e:{for(var d=Ee,g=Vi;d.nodeType!==8;){if(!g){d=null;break e}if(d=pi(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Ee=pi(d.nextSibling),u=d.data==="F!";break t}}oa(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:s},o.queue=u,o=p_.bind(null,Vt,u),u.dispatch=o,u=Rm(!1),g=Om.bind(null,Vt,!1,u.queue),u=Nn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=U2.bind(null,Vt,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function W0(i){var s=Ve();return Z0(s,re,i)}function Z0(i,s,o){if(s=wm(i,s,$0)[0],i=dh(pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=tu(s)}catch(T){throw T===Yl?oh:T}else u=s;s=Ve();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Vt.flags|=2048,yo(9,mh(),F2.bind(null,d,o),null)),[u,g,i]}function F2(i,s){i.action=s}function J0(i){var s=Ve(),o=re;if(o!==null)return Z0(s,o,i);Ve(),s=s.memoizedState,o=Ve();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function yo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Vt.updateQueue,s===null&&(s=Am(),Vt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function mh(){return{destroy:void 0,resource:void 0}}function t_(){return Ve().memoizedState}function ph(i,s,o,u){var d=Nn();u=u===void 0?null:u,Vt.flags|=i,d.memoizedState=yo(1|s,mh(),o,u)}function eu(i,s,o,u){var d=Ve();u=u===void 0?null:u;var g=d.memoizedState.inst;re!==null&&u!==null&&vm(u,re.memoizedState.deps)?d.memoizedState=yo(s,g,o,u):(Vt.flags|=i,d.memoizedState=yo(1|s,g,o,u))}function e_(i,s){ph(8390656,8,i,s)}function n_(i,s){eu(2048,8,i,s)}function i_(i,s){return eu(4,2,i,s)}function r_(i,s){return eu(4,4,i,s)}function s_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function a_(i,s,o){o=o!=null?o.concat([i]):null,eu(4,4,s_.bind(null,s,i),o)}function Im(){}function o_(i,s){var o=Ve();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&vm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function l_(i,s){var o=Ve();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&vm(s,u[1]))return u[0];if(u=i(),ha){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u}function Dm(i,s,o){return o===void 0||(Yr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=hE(),Vt.lanes|=i,es|=i,o)}function u_(i,s,o,u){return Ln(o,s)?o:mo.current!==null?(i=Dm(i,o,u),Ln(i,s)||(Ye=!0),i):(Yr&42)===0?(Ye=!0,i.memoizedState=o):(i=hE(),Vt.lanes|=i,es|=i,s)}function c_(i,s,o,u,d){var g=lt.p;lt.p=g!==0&&8>g?g:8;var T=W.T,w={};W.T=w,Om(i,!1,s,o);try{var D=d(),H=W.S;if(H!==null&&H(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var et=k2(D,u);nu(i,s,et,zn(i))}else nu(i,s,u,zn(i))}catch(it){nu(i,s,{then:function(){},status:"rejected",reason:it},zn())}finally{lt.p=g,W.T=T}}function B2(){}function Nm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=h_(i).queue;c_(i,d,s,ht,o===null?B2:function(){return f_(i),o(u)})}function h_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:ht},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function f_(i){var s=h_(i).next.queue;nu(i,s,{},zn())}function Vm(){return hn(Eu)}function d_(){return Ve().memoizedState}function m_(){return Ve().memoizedState}function z2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=zn();i=Kr(o);var u=Qr(s,i,o);u!==null&&(qn(u,s,o),Xl(u,s,o)),s={cache:lm()},i.payload=s;return}s=s.return}}function q2(i,s,o){var u=zn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},gh(i)?g_(s,o):(o=Zd(i,s,o,u),o!==null&&(qn(o,i,u),y_(o,s,u)))}function p_(i,s,o){var u=zn();nu(i,s,o,u)}function nu(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(i))g_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,Ln(w,T))return Jc(i,s,d,0),le===null&&Zc(),!1}catch{}finally{}if(o=Zd(i,s,d,u),o!==null)return qn(o,i,u),y_(o,s,u),!0}return!1}function Om(i,s,o,u){if(u={lane:2,revertLane:hp(),action:u,hasEagerState:!1,eagerState:null,next:null},gh(i)){if(s)throw Error(r(479))}else s=Zd(i,o,u,2),s!==null&&qn(s,i,2)}function gh(i){var s=i.alternate;return i===Vt||s!==null&&s===Vt}function g_(i,s){po=ch=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function y_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Sl(i,o)}}var yh={readContext:hn,use:fh,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},v_={readContext:hn,use:fh,useCallback:function(i,s){return Nn().memoizedState=[i,s===void 0?null:s],i},useContext:hn,useEffect:e_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,ph(4194308,4,s_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ph(4194308,4,i,s)},useInsertionEffect:function(i,s){ph(4,2,i,s)},useMemo:function(i,s){var o=Nn();s=s===void 0?null:s;var u=i();if(ha){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Nn();if(o!==void 0){var d=o(s);if(ha){Tn(!0);try{o(s)}finally{Tn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=q2.bind(null,Vt,i),[u.memoizedState,i]},useRef:function(i){var s=Nn();return i={current:i},s.memoizedState=i},useState:function(i){i=Rm(i);var s=i.queue,o=p_.bind(null,Vt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(i,s){var o=Nn();return Dm(o,i,s)},useTransition:function(){var i=Rm(!1);return i=c_.bind(null,Vt,i.queue,!0,!1),Nn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Vt,d=Nn();if(Yt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),le===null)throw Error(r(349));(Ht&124)!==0||U0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,e_(B0.bind(null,u,g,i),[i]),u.flags|=2048,yo(9,mh(),F0.bind(null,u,g,o,s),null),o},useId:function(){var i=Nn(),s=le.identifierPrefix;if(Yt){var o=fr,u=hr;o=(u&~(1<<32-Ge(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=hh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=L2++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Vm,useFormState:X0,useActionState:X0,useOptimistic:function(i){var s=Nn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Om.bind(null,Vt,!0,o),o.dispatch=s,[i,s]},useMemoCache:Sm,useCacheRefresh:function(){return Nn().memoizedState=z2.bind(null,Vt)}},__={readContext:hn,use:fh,useCallback:o_,useContext:hn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:r_,useMemo:l_,useReducer:dh,useRef:t_,useState:function(){return dh(pr)},useDebugValue:Im,useDeferredValue:function(i,s){var o=Ve();return u_(o,re.memoizedState,i,s)},useTransition:function(){var i=dh(pr)[0],s=Ve().memoizedState;return[typeof i=="boolean"?i:tu(i),s]},useSyncExternalStore:j0,useId:d_,useHostTransitionStatus:Vm,useFormState:W0,useActionState:W0,useOptimistic:function(i,s){var o=Ve();return H0(o,re,i,s)},useMemoCache:Sm,useCacheRefresh:m_},H2={readContext:hn,use:fh,useCallback:o_,useContext:hn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:r_,useMemo:l_,useReducer:xm,useRef:t_,useState:function(){return xm(pr)},useDebugValue:Im,useDeferredValue:function(i,s){var o=Ve();return re===null?Dm(o,i,s):u_(o,re.memoizedState,i,s)},useTransition:function(){var i=xm(pr)[0],s=Ve().memoizedState;return[typeof i=="boolean"?i:tu(i),s]},useSyncExternalStore:j0,useId:d_,useHostTransitionStatus:Vm,useFormState:J0,useActionState:J0,useOptimistic:function(i,s){var o=Ve();return re!==null?H0(o,re,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:m_},vo=null,iu=0;function vh(i){var s=iu;return iu+=1,vo===null&&(vo=[]),D0(vo,i,s)}function ru(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function _h(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function E_(i){var s=i._init;return s(i._payload)}function T_(i){function s(B,L){if(i){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function o(B,L){if(!i)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function d(B,L){return B=cr(B,L),B.index=0,B.sibling=null,B}function g(B,L,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function w(B,L,q,nt){return L===null||L.tag!==6?(L=tm(q,B.mode,nt),L.return=B,L):(L=d(L,q),L.return=B,L)}function D(B,L,q,nt){var mt=q.type;return mt===I?et(B,L,q.props.children,nt,q.key):L!==null&&(L.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&E_(mt)===L.type)?(L=d(L,q.props),ru(L,q),L.return=B,L):(L=eh(q.type,q.key,q.props,null,B.mode,nt),ru(L,q),L.return=B,L)}function H(B,L,q,nt){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=em(q,B.mode,nt),L.return=B,L):(L=d(L,q.children||[]),L.return=B,L)}function et(B,L,q,nt,mt){return L===null||L.tag!==7?(L=ia(q,B.mode,nt,mt),L.return=B,L):(L=d(L,q),L.return=B,L)}function it(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=tm(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return q=eh(L.type,L.key,L.props,null,B.mode,q),ru(q,L),q.return=B,q;case S:return L=em(L,B.mode,q),L.return=B,L;case x:var nt=L._init;return L=nt(L._payload),it(B,L,q)}if(ne(L)||F(L))return L=ia(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return it(B,vh(L),q);if(L.$$typeof===K)return it(B,sh(B,L),q);_h(B,L)}return null}function Q(B,L,q,nt){var mt=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return mt!==null?null:w(B,L,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===mt?D(B,L,q,nt):null;case S:return q.key===mt?H(B,L,q,nt):null;case x:return mt=q._init,q=mt(q._payload),Q(B,L,q,nt)}if(ne(q)||F(q))return mt!==null?null:et(B,L,q,nt,null);if(typeof q.then=="function")return Q(B,L,vh(q),nt);if(q.$$typeof===K)return Q(B,L,sh(B,q),nt);_h(B,q)}return null}function $(B,L,q,nt,mt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return B=B.get(q)||null,w(L,B,""+nt,mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case b:return B=B.get(nt.key===null?q:nt.key)||null,D(L,B,nt,mt);case S:return B=B.get(nt.key===null?q:nt.key)||null,H(L,B,nt,mt);case x:var Pt=nt._init;return nt=Pt(nt._payload),$(B,L,q,nt,mt)}if(ne(nt)||F(nt))return B=B.get(q)||null,et(L,B,nt,mt,null);if(typeof nt.then=="function")return $(B,L,q,vh(nt),mt);if(nt.$$typeof===K)return $(B,L,q,sh(L,nt),mt);_h(L,nt)}return null}function wt(B,L,q,nt){for(var mt=null,Pt=null,yt=L,bt=L=0,Xe=null;yt!==null&&bt<q.length;bt++){yt.index>bt?(Xe=yt,yt=null):Xe=yt.sibling;var Kt=Q(B,yt,q[bt],nt);if(Kt===null){yt===null&&(yt=Xe);break}i&&yt&&Kt.alternate===null&&s(B,yt),L=g(Kt,L,bt),Pt===null?mt=Kt:Pt.sibling=Kt,Pt=Kt,yt=Xe}if(bt===q.length)return o(B,yt),Yt&&sa(B,bt),mt;if(yt===null){for(;bt<q.length;bt++)yt=it(B,q[bt],nt),yt!==null&&(L=g(yt,L,bt),Pt===null?mt=yt:Pt.sibling=yt,Pt=yt);return Yt&&sa(B,bt),mt}for(yt=u(yt);bt<q.length;bt++)Xe=$(yt,B,bt,q[bt],nt),Xe!==null&&(i&&Xe.alternate!==null&&yt.delete(Xe.key===null?bt:Xe.key),L=g(Xe,L,bt),Pt===null?mt=Xe:Pt.sibling=Xe,Pt=Xe);return i&&yt.forEach(function(cs){return s(B,cs)}),Yt&&sa(B,bt),mt}function Et(B,L,q,nt){if(q==null)throw Error(r(151));for(var mt=null,Pt=null,yt=L,bt=L=0,Xe=null,Kt=q.next();yt!==null&&!Kt.done;bt++,Kt=q.next()){yt.index>bt?(Xe=yt,yt=null):Xe=yt.sibling;var cs=Q(B,yt,Kt.value,nt);if(cs===null){yt===null&&(yt=Xe);break}i&&yt&&cs.alternate===null&&s(B,yt),L=g(cs,L,bt),Pt===null?mt=cs:Pt.sibling=cs,Pt=cs,yt=Xe}if(Kt.done)return o(B,yt),Yt&&sa(B,bt),mt;if(yt===null){for(;!Kt.done;bt++,Kt=q.next())Kt=it(B,Kt.value,nt),Kt!==null&&(L=g(Kt,L,bt),Pt===null?mt=Kt:Pt.sibling=Kt,Pt=Kt);return Yt&&sa(B,bt),mt}for(yt=u(yt);!Kt.done;bt++,Kt=q.next())Kt=$(yt,B,bt,Kt.value,nt),Kt!==null&&(i&&Kt.alternate!==null&&yt.delete(Kt.key===null?bt:Kt.key),L=g(Kt,L,bt),Pt===null?mt=Kt:Pt.sibling=Kt,Pt=Kt);return i&&yt.forEach(function(GC){return s(B,GC)}),Yt&&sa(B,bt),mt}function ae(B,L,q,nt){if(typeof q=="object"&&q!==null&&q.type===I&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var mt=q.key;L!==null;){if(L.key===mt){if(mt=q.type,mt===I){if(L.tag===7){o(B,L.sibling),nt=d(L,q.props.children),nt.return=B,B=nt;break t}}else if(L.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&E_(mt)===L.type){o(B,L.sibling),nt=d(L,q.props),ru(nt,q),nt.return=B,B=nt;break t}o(B,L);break}else s(B,L);L=L.sibling}q.type===I?(nt=ia(q.props.children,B.mode,nt,q.key),nt.return=B,B=nt):(nt=eh(q.type,q.key,q.props,null,B.mode,nt),ru(nt,q),nt.return=B,B=nt)}return T(B);case S:t:{for(mt=q.key;L!==null;){if(L.key===mt)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){o(B,L.sibling),nt=d(L,q.children||[]),nt.return=B,B=nt;break t}else{o(B,L);break}else s(B,L);L=L.sibling}nt=em(q,B.mode,nt),nt.return=B,B=nt}return T(B);case x:return mt=q._init,q=mt(q._payload),ae(B,L,q,nt)}if(ne(q))return wt(B,L,q,nt);if(F(q)){if(mt=F(q),typeof mt!="function")throw Error(r(150));return q=mt.call(q),Et(B,L,q,nt)}if(typeof q.then=="function")return ae(B,L,vh(q),nt);if(q.$$typeof===K)return ae(B,L,sh(B,q),nt);_h(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(o(B,L.sibling),nt=d(L,q),nt.return=B,B=nt):(o(B,L),nt=tm(q,B.mode,nt),nt.return=B,B=nt),T(B)):o(B,L)}return function(B,L,q,nt){try{iu=0;var mt=ae(B,L,q,nt);return vo=null,mt}catch(yt){if(yt===Yl||yt===oh)throw yt;var Pt=jn(29,yt,null,B.mode);return Pt.lanes=nt,Pt.return=B,Pt}finally{}}}var _o=T_(!0),b_=T_(!1),ei=pt(null),Oi=null;function $r(i){var s=i.alternate;Y(Be,Be.current&1),Y(ei,i),Oi===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(Oi=i)}function A_(i){if(i.tag===22){if(Y(Be,Be.current),Y(ei,i),Oi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Oi=i)}}else Xr()}function Xr(){Y(Be,Be.current),Y(ei,ei.current)}function gr(i){U(ei),Oi===i&&(Oi=null),U(Be)}var Be=pt(0);function Eh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ap(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Mm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Pm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=zn(),d=Kr(u);d.payload=s,o!=null&&(d.callback=o),s=Qr(i,d,u),s!==null&&(qn(s,i,u),Xl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=zn(),d=Kr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Qr(i,d,u),s!==null&&(qn(s,i,u),Xl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=zn(),u=Kr(o);u.tag=2,s!=null&&(u.callback=s),s=Qr(i,u,o),s!==null&&(qn(s,i,o),Xl(s,i,o))}};function S_(i,s,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Fl(o,u)||!Fl(d,g):!0}function w_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Pm.enqueueReplaceState(s,s.state,null)}function fa(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function x_(i){Th(i)}function R_(i){console.error(i)}function C_(i){Th(i)}function bh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function I_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function km(i,s,o){return o=Kr(o),o.tag=3,o.payload={element:null},o.callback=function(){bh(i,s)},o}function D_(i){return i=Kr(i),i.tag=3,i}function N_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){I_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){I_(s,o,u),typeof d!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function G2(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Gl(s,o,d,!0),o=ei.current,o!==null){switch(o.tag){case 13:return Oi===null?ap():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===hm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),lp(i,u,d)),!1;case 22:return o.flags|=65536,u===hm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),lp(i,u,d)),!1}throw Error(r(435,o.tag))}return lp(i,u,d),ap(),!1}if(Yt)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==rm&&(i=Error(r(422),{cause:u}),Hl(Wn(i,o)))):(u!==rm&&(s=Error(r(423),{cause:u}),Hl(Wn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Wn(u,o),d=km(i.stateNode,u,d),mm(i,d),Te!==4&&(Te=2)),!1;var g=Error(r(520),{cause:u});if(g=Wn(g,o),hu===null?hu=[g]:hu.push(g),Te!==4&&(Te=2),s===null)return!0;u=Wn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=km(o.stateNode,u,i),mm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ns===null||!ns.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=D_(d),N_(d,i,o,u),mm(o,d),!1}o=o.return}while(o!==null);return!1}var V_=Error(r(461)),Ye=!1;function tn(i,s,o,u){s.child=i===null?b_(s,null,o,u):_o(s,i.child,o,u)}function O_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ua(s),u=_m(i,s,o,T,g,d),w=Em(),i!==null&&!Ye?(Tm(i,s,d),yr(i,s,d)):(Yt&&w&&nm(s),s.flags|=1,tn(i,s,u,d),s.child)}function M_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Jd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,P_(i,s,g,u,d)):(i=eh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Hm(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(T,u)&&i.ref===s.ref)return yr(i,s,d)}return s.flags|=1,i=cr(g,u),i.ref=s.ref,i.return=s,s.child=i}function P_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Fl(g,u)&&i.ref===s.ref)if(Ye=!1,s.pendingProps=u=g,Hm(i,d))(i.flags&131072)!==0&&(Ye=!0);else return s.lanes=i.lanes,yr(i,s,d)}return Lm(i,s,o,u,d)}function k_(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return L_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ah(s,g!==null?g.cachePool:null),g!==null?P0(s,g):gm(),A_(s);else return s.lanes=s.childLanes=536870912,L_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(ah(s,g.cachePool),P0(s,g),Xr(),s.memoizedState=null):(i!==null&&ah(s,null),gm(),Xr());return tn(i,s,d,o),s.child}function L_(i,s,o,u){var d=cm();return d=d===null?null:{parent:Fe._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&ah(s,null),gm(),A_(s),i!==null&&Gl(i,s,u,!0),null}function Ah(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Lm(i,s,o,u,d){return ua(s),o=_m(i,s,o,u,void 0,d),u=Em(),i!==null&&!Ye?(Tm(i,s,d),yr(i,s,d)):(Yt&&u&&nm(s),s.flags|=1,tn(i,s,o,d),s.child)}function j_(i,s,o,u,d,g){return ua(s),s.updateQueue=null,o=L0(s,u,o,d),k0(i),u=Em(),i!==null&&!Ye?(Tm(i,s,g),yr(i,s,g)):(Yt&&u&&nm(s),s.flags|=1,tn(i,s,o,g),s.child)}function U_(i,s,o,u,d){if(ua(s),s.stateNode===null){var g=lo,T=o.contextType;typeof T=="object"&&T!==null&&(g=hn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Pm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},fm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?hn(T):lo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Mm(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Pm.enqueueReplaceState(g,g.state,null),Zl(s,u,g,d),Wl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,D=fa(o,w);g.props=D;var H=g.context,et=o.contextType;T=lo,typeof et=="object"&&et!==null&&(T=hn(et));var it=o.getDerivedStateFromProps;et=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,et||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||H!==T)&&w_(s,g,u,T),Gr=!1;var Q=s.memoizedState;g.state=Q,Zl(s,u,g,d),Wl(),H=s.memoizedState,w||Q!==H||Gr?(typeof it=="function"&&(Mm(s,o,it,u),H=s.memoizedState),(D=Gr||S_(s,o,D,u,Q,H,T))?(et||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),g.props=u,g.state=H,g.context=T,u=D):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,dm(i,s),T=s.memoizedProps,et=fa(o,T),g.props=et,it=s.pendingProps,Q=g.context,H=o.contextType,D=lo,typeof H=="object"&&H!==null&&(D=hn(H)),w=o.getDerivedStateFromProps,(H=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==it||Q!==D)&&w_(s,g,u,D),Gr=!1,Q=s.memoizedState,g.state=Q,Zl(s,u,g,d),Wl();var $=s.memoizedState;T!==it||Q!==$||Gr||i!==null&&i.dependencies!==null&&rh(i.dependencies)?(typeof w=="function"&&(Mm(s,o,w,u),$=s.memoizedState),(et=Gr||S_(s,o,et,u,Q,$,D)||i!==null&&i.dependencies!==null&&rh(i.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,$,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,$,D)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=D,u=et):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ah(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=_o(s,i.child,null,d),s.child=_o(s,null,o,d)):tn(i,s,o,d),s.memoizedState=g.state,i=s.child):i=yr(i,s,d),i}function F_(i,s,o,u){return ql(),s.flags|=256,tn(i,s,o,u),s.child}var jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(i){return{baseLanes:i,cachePool:R0()}}function Fm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ni),i}function B_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Be.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Yt){if(d?$r(s):Xr(),Yt){var w=Ee,D;if(D=w){t:{for(D=w,w=Vi;D.nodeType!==8;){if(!w){w=null;break t}if(D=pi(D.nextSibling),D===null){w=null;break t}}w=D}w!==null?(s.memoizedState={dehydrated:w,treeContext:ra!==null?{id:hr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},D=jn(18,null,null,0),D.stateNode=w,D.return=s,s.child=D,wn=s,Ee=null,D=!0):D=!1}D||oa(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Ap(w)?s.lanes=32:s.lanes=536870912,null;gr(s)}return w=u.children,u=u.fallback,d?(Xr(),d=s.mode,w=Sh({mode:"hidden",children:w},d),u=ia(u,d,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,d=s.child,d.memoizedState=Um(o),d.childLanes=Fm(i,T,o),s.memoizedState=jm,u):($r(s),Bm(s,w))}if(D=i.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(g)s.flags&256?($r(s),s.flags&=-257,s=zm(i,s,o)):s.memoizedState!==null?(Xr(),s.child=i.child,s.flags|=128,s=null):(Xr(),d=u.fallback,w=s.mode,u=Sh({mode:"visible",children:u.children},w),d=ia(d,w,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,_o(s,i.child,null,o),u=s.child,u.memoizedState=Um(o),u.childLanes=Fm(i,T,o),s.memoizedState=jm,s=d);else if($r(s),Ap(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var H=T.dgst;T=H,u=Error(r(419)),u.stack="",u.digest=T,Hl({value:u,source:null,stack:null}),s=zm(i,s,o)}else if(Ye||Gl(i,s,o,!1),T=(o&i.childLanes)!==0,Ye||T){if(T=le,T!==null&&(u=o&-o,u=(u&42)!==0?1:Lr(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,oo(i,u),qn(T,i,u),V_;w.data==="$?"||ap(),s=zm(i,s,o)}else w.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,Ee=pi(w.nextSibling),wn=s,Yt=!0,aa=null,Vi=!1,i!==null&&(Jn[ti++]=hr,Jn[ti++]=fr,Jn[ti++]=ra,hr=i.id,fr=i.overflow,ra=s),s=Bm(s,u.children),s.flags|=4096);return s}return d?(Xr(),d=u.fallback,w=s.mode,D=i.child,H=D.sibling,u=cr(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,H!==null?d=cr(H,d):(d=ia(d,w,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,w=i.child.memoizedState,w===null?w=Um(o):(D=w.cachePool,D!==null?(H=Fe._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=R0(),w={baseLanes:w.baseLanes|o,cachePool:D}),d.memoizedState=w,d.childLanes=Fm(i,T,o),s.memoizedState=jm,u):($r(s),o=i.child,i=o.sibling,o=cr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Bm(i,s){return s=Sh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Sh(i,s){return i=jn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function zm(i,s,o){return _o(s,i.child,null,o),i=Bm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function z_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),am(i.return,s,o)}function qm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function q_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(tn(i,s,u.children,o),u=Be.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&z_(i,o,s);else if(i.tag===19)z_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Y(Be,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Eh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),qm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Eh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}qm(s,!0,o,null,g);break;case"together":qm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),es|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Gl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=cr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=cr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Hm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&rh(i)))}function K2(i,s,o){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Hr(s,Fe,i.memoizedState.cache),ql();break;case 27:case 5:Nt(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Hr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?($r(s),s.flags|=128,null):(o&s.child.childLanes)!==0?B_(i,s,o):($r(s),i=yr(i,s,o),i!==null?i.sibling:null);$r(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Gl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return q_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Y(Be,Be.current),u)break;return null;case 22:case 23:return s.lanes=0,k_(i,s,o);case 24:Hr(s,Fe,i.memoizedState.cache)}return yr(i,s,o)}function H_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ye=!0;else{if(!Hm(i,o)&&(s.flags&128)===0)return Ye=!1,K2(i,s,o);Ye=(i.flags&131072)!==0}else Ye=!1,Yt&&(s.flags&1048576)!==0&&E0(s,ih,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Jd(u)?(i=fa(u,i),s.tag=1,s=U_(null,s,u,i,o)):(s.tag=0,s=Lm(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===tt){s.tag=11,s=O_(null,s,u,i,o);break t}else if(d===N){s.tag=14,s=M_(null,s,u,i,o);break t}}throw s=_t(u)||u,Error(r(306,s,""))}}return s;case 0:return Lm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=fa(u,s.pendingProps),U_(i,s,u,d,o);case 3:t:{if(jt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,dm(i,s),Zl(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Hr(s,Fe,u),u!==g.cache&&om(s,[Fe],o,!0),Wl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=F_(i,s,u,o);break t}else if(u!==d){d=Wn(Error(r(424)),s),Hl(d),s=F_(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ee=pi(i.firstChild),wn=s,Yt=!0,aa=null,Vi=!0,o=b_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ql(),u===d){s=yr(i,s,o);break t}tn(i,s,u,o)}s=s.child}return s;case 26:return Ah(i,s),i===null?(o=YE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Yt||(o=s.type,i=s.pendingProps,u=jh(gt.current).createElement(o),u[Le]=s,u[Ie]=i,nn(u,o,i),Se(u),s.stateNode=u):s.memoizedState=YE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Nt(s),i===null&&Yt&&(u=s.stateNode=GE(s.type,s.pendingProps,gt.current),wn=s,Vi=!0,d=Ee,ss(s.type)?(Sp=d,Ee=pi(u.firstChild)):Ee=d),tn(i,s,s.pendingProps.children,o),Ah(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Yt&&((d=u=Ee)&&(u=EC(u,s.type,s.pendingProps,Vi),u!==null?(s.stateNode=u,wn=s,Ee=pi(u.firstChild),Vi=!1,d=!0):d=!1),d||oa(s)),Nt(s),d=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Ep(d,g)?u=null:T!==null&&Ep(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=_m(i,s,j2,null,null,o),Eu._currentValue=d),Ah(i,s),tn(i,s,u,o),s.child;case 6:return i===null&&Yt&&((i=o=Ee)&&(o=TC(o,s.pendingProps,Vi),o!==null?(s.stateNode=o,wn=s,Ee=null,i=!0):i=!1),i||oa(s)),null;case 13:return B_(i,s,o);case 4:return jt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=_o(s,null,u,o):tn(i,s,u,o),s.child;case 11:return O_(i,s,s.type,s.pendingProps,o);case 7:return tn(i,s,s.pendingProps,o),s.child;case 8:return tn(i,s,s.pendingProps.children,o),s.child;case 12:return tn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Hr(s,s.type,u.value),tn(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ua(s),d=hn(d),u=u(d),s.flags|=1,tn(i,s,u,o),s.child;case 14:return M_(i,s,s.type,s.pendingProps,o);case 15:return P_(i,s,s.type,s.pendingProps,o);case 19:return q_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=Sh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=cr(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return k_(i,s,o);case 24:return ua(s),u=hn(Fe),i===null?(d=cm(),d===null&&(d=le,g=lm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},fm(s),Hr(s,Fe,d)):((i.lanes&o)!==0&&(dm(i,s),Zl(s,null,null,o),Wl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Hr(s,Fe,u)):(u=g.cache,Hr(s,Fe,u),u!==d.cache&&om(s,[Fe],o,!0))),tn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function vr(i){i.flags|=4}function G_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!JE(s)){if(s=ei.current,s!==null&&((Ht&4194048)===Ht?Oi!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||s!==Oi))throw $l=hm,C0;i.flags|=8192}}function wh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?bl():536870912,i.lanes|=s,Ao|=s)}function su(i,s){if(!Yt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ye(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function Q2(i,s,o){var u=s.pendingProps;switch(im(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(s),null;case 1:return ye(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),mr(Fe),Mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(zl(s)?vr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,A0())),ye(s),null;case 26:return o=s.memoizedState,i===null?(vr(s),o!==null?(ye(s),G_(s,o)):(ye(s),s.flags&=-16777217)):o?o!==i.memoizedState?(vr(s),ye(s),G_(s,o)):(ye(s),s.flags&=-16777217):(i.memoizedProps!==u&&vr(s),ye(s),s.flags&=-16777217),null;case 27:Jt(s),o=gt.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&vr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ye(s),null}i=ot.current,zl(s)?T0(s):(i=GE(d,u,o),s.stateNode=i,vr(s))}return ye(s),null;case 5:if(Jt(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&vr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ye(s),null}if(i=ot.current,zl(s))T0(s);else{switch(d=jh(gt.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Le]=s,i[Ie]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch(nn(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&vr(s)}}return ye(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&vr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=gt.current,zl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=wn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Le]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||jE(i.nodeValue,o)),i||oa(s)}else i=jh(i).createTextNode(u),i[Le]=s,s.stateNode=i}return ye(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=zl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Le]=s}else ql(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ye(s),d=!1}else d=A0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(gr(s),s):(gr(s),null)}if(gr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),wh(s,s.updateQueue),ye(s),null;case 4:return Mt(),i===null&&pp(s.stateNode.containerInfo),ye(s),null;case 10:return mr(s.type),ye(s),null;case 19:if(U(Be),d=s.memoizedState,d===null)return ye(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)su(d,!1);else{if(Te!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Eh(i),g!==null){for(s.flags|=128,su(d,!1),i=g.updateQueue,s.updateQueue=i,wh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)_0(o,i),o=o.sibling;return Y(Be,Be.current&1|2),s.child}i=i.sibling}d.tail!==null&&ke()>Ch&&(s.flags|=128,u=!0,su(d,!1),s.lanes=4194304)}else{if(!u)if(i=Eh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,wh(s,i),su(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Yt)return ye(s),null}else 2*ke()-d.renderingStartTime>Ch&&o!==536870912&&(s.flags|=128,u=!0,su(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=ke(),s.sibling=null,i=Be.current,Y(Be,u?i&1|2:i&1),s):(ye(s),null);case 22:case 23:return gr(s),ym(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ye(s),s.subtreeFlags&6&&(s.flags|=8192)):ye(s),o=s.updateQueue,o!==null&&wh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&U(ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),mr(Fe),ye(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Y2(i,s){switch(im(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return mr(Fe),Mt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Jt(s),null;case 13:if(gr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ql()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return U(Be),null;case 4:return Mt(),null;case 10:return mr(s.type),null;case 22:case 23:return gr(s),ym(),i!==null&&U(ca),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return mr(Fe),null;case 25:return null;default:return null}}function K_(i,s){switch(im(s),s.tag){case 3:mr(Fe),Mt();break;case 26:case 27:case 5:Jt(s);break;case 4:Mt();break;case 13:gr(s);break;case 19:U(Be);break;case 10:mr(s.type);break;case 22:case 23:gr(s),ym(),i!==null&&U(ca);break;case 24:mr(Fe)}}function au(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(w){oe(s,s.return,w)}}function Wr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=s;var D=o,H=w;try{H()}catch(et){oe(d,D,et)}}}u=u.next}while(u!==g)}}catch(et){oe(s,s.return,et)}}function Q_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{M0(s,o)}catch(u){oe(i,i.return,u)}}}function Y_(i,s,o){o.props=fa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){oe(i,s,u)}}function ou(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){oe(i,s,d)}}function Mi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){oe(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){oe(i,s,d)}else o.current=null}function $_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){oe(i,i.return,d)}}function Gm(i,s,o){try{var u=i.stateNode;pC(u,i.type,o,s),u[Ie]=s}catch(d){oe(i,i.return,d)}}function X_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ss(i.type)||i.tag===4}function Km(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||X_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ss(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Lh));else if(u!==4&&(u===27&&ss(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Qm(i,s,o),i=i.sibling;i!==null;)Qm(i,s,o),i=i.sibling}function xh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ss(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(xh(i,s,o),i=i.sibling;i!==null;)xh(i,s,o),i=i.sibling}function W_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);nn(s,u,o),s[Le]=i,s[Ie]=o}catch(g){oe(i,i.return,g)}}var _r=!1,xe=!1,Ym=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,$e=null;function $2(i,s){if(i=i.containerInfo,vp=Hh,i=u0(i),Kd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,w=-1,D=-1,H=0,et=0,it=i,Q=null;e:for(;;){for(var $;it!==o||d!==0&&it.nodeType!==3||(w=T+d),it!==g||u!==0&&it.nodeType!==3||(D=T+u),it.nodeType===3&&(T+=it.nodeValue.length),($=it.firstChild)!==null;)Q=it,it=$;for(;;){if(it===i)break e;if(Q===o&&++H===d&&(w=T),Q===g&&++et===u&&(D=T),($=it.nextSibling)!==null)break;it=Q,Q=it.parentNode}it=$}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:i,selectionRange:o},Hh=!1,$e=s;$e!==null;)if(s=$e,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,$e=i;else for(;$e!==null;){switch(s=$e,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var wt=fa(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(wt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Et){oe(o,o.return,Et)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)bp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":bp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,$e=i;break}$e=s.return}}function J_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Zr(i,o),u&4&&au(5,o);break;case 1:if(Zr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){oe(o,o.return,T)}else{var d=fa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){oe(o,o.return,T)}}u&64&&Q_(o),u&512&&ou(o,o.return);break;case 3:if(Zr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{M0(i,s)}catch(T){oe(o,o.return,T)}}break;case 27:s===null&&u&4&&W_(o);case 26:case 5:Zr(i,o),s===null&&u&4&&$_(o),u&512&&ou(o,o.return);break;case 12:Zr(i,o);break;case 13:Zr(i,o),u&4&&nE(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=rC.bind(null,o),bC(i,o))));break;case 22:if(u=o.memoizedState!==null||_r,!u){s=s!==null&&s.memoizedState!==null||xe,d=_r;var g=xe;_r=u,(xe=s)&&!g?Jr(i,o,(o.subtreeFlags&8772)!==0):Zr(i,o),_r=d,xe=g}break;case 30:break;default:Zr(i,o)}}function tE(i){var s=i.alternate;s!==null&&(i.alternate=null,tE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pe=null,Vn=!1;function Er(i,s,o){for(o=o.child;o!==null;)eE(i,s,o),o=o.sibling}function eE(i,s,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Qt,o)}catch{}switch(o.tag){case 26:xe||Mi(o,s),Er(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xe||Mi(o,s);var u=pe,d=Vn;ss(o.type)&&(pe=o.stateNode,Vn=!1),Er(i,s,o),gu(o.stateNode),pe=u,Vn=d;break;case 5:xe||Mi(o,s);case 6:if(u=pe,d=Vn,pe=null,Er(i,s,o),pe=u,Vn=d,pe!==null)if(Vn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(o.stateNode)}catch(g){oe(o,s,g)}else try{pe.removeChild(o.stateNode)}catch(g){oe(o,s,g)}break;case 18:pe!==null&&(Vn?(i=pe,qE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Su(i)):qE(pe,o.stateNode));break;case 4:u=pe,d=Vn,pe=o.stateNode.containerInfo,Vn=!0,Er(i,s,o),pe=u,Vn=d;break;case 0:case 11:case 14:case 15:xe||Wr(2,o,s),xe||Wr(4,o,s),Er(i,s,o);break;case 1:xe||(Mi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Y_(o,s,u)),Er(i,s,o);break;case 21:Er(i,s,o);break;case 22:xe=(u=xe)||o.memoizedState!==null,Er(i,s,o),xe=u;break;default:Er(i,s,o)}}function nE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Su(i)}catch(o){oe(s,s.return,o)}}function X2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Z_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Z_),s;default:throw Error(r(435,i.tag))}}function $m(i,s){var o=X2(i);s.forEach(function(u){var d=sC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Un(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=s,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(ss(w.type)){pe=w.stateNode,Vn=!1;break t}break;case 5:pe=w.stateNode,Vn=!1;break t;case 3:case 4:pe=w.stateNode.containerInfo,Vn=!0;break t}w=w.return}if(pe===null)throw Error(r(160));eE(g,T,d),pe=null,Vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)iE(s,i),s=s.sibling}var mi=null;function iE(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Un(s,i),Fn(i),u&4&&(Wr(3,i,i.return),au(3,i),Wr(5,i,i.return));break;case 1:Un(s,i),Fn(i),u&512&&(xe||o===null||Mi(o,o.return)),u&64&&_r&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=mi;if(Un(s,i),Fn(i),u&512&&(xe||o===null||Mi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Bs]||g[Le]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),nn(g,u,o),g[Le]=i,Se(g),u=g;break t;case"link":var T=WE("link","href",d).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}g=d.createElement(u),nn(g,u,o),d.head.appendChild(g);break;case"meta":if(T=WE("meta","content",d).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}g=d.createElement(u),nn(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Le]=i,Se(g),u=g}i.stateNode=u}else ZE(d,i.type,i.stateNode);else i.stateNode=XE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ZE(d,i.type,i.stateNode):XE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Gm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Un(s,i),Fn(i),u&512&&(xe||o===null||Mi(o,o.return)),o!==null&&u&4&&Gm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Un(s,i),Fn(i),u&512&&(xe||o===null||Mi(o,o.return)),i.flags&32){d=i.stateNode;try{Qn(d,"")}catch($){oe(i,i.return,$)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Gm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Ym=!0);break;case 6:if(Un(s,i),Fn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch($){oe(i,i.return,$)}}break;case 3:if(Bh=null,d=mi,mi=Uh(s.containerInfo),Un(s,i),mi=d,Fn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch($){oe(i,i.return,$)}Ym&&(Ym=!1,rE(i));break;case 4:u=mi,mi=Uh(i.stateNode.containerInfo),Un(s,i),Fn(i),mi=u;break;case 12:Un(s,i),Fn(i);break;case 13:Un(s,i),Fn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ep=ke()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,$m(i,u)));break;case 22:d=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,H=_r,et=xe;if(_r=H||d,xe=et||D,Un(s,i),xe=et,_r=H,Fn(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||D||_r||xe||da(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(g=D.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=D.stateNode;var it=D.memoizedProps.style,Q=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){oe(D,D.return,$)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch($){oe(D,D.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,$m(i,o))));break;case 19:Un(s,i),Fn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,$m(i,u)));break;case 30:break;case 21:break;default:Un(s,i),Fn(i)}}function Fn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(X_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Km(i);xh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Qn(T,""),o.flags&=-33);var w=Km(i);xh(i,w,T);break;case 3:case 4:var D=o.stateNode.containerInfo,H=Km(i);Qm(i,H,D);break;default:throw Error(r(161))}}catch(et){oe(i,i.return,et)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function rE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;rE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Zr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)J_(i,s.alternate,s),s=s.sibling}function da(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Wr(4,s,s.return),da(s);break;case 1:Mi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Y_(s,s.return,o),da(s);break;case 27:gu(s.stateNode);case 26:case 5:Mi(s,s.return),da(s);break;case 22:s.memoizedState===null&&da(s);break;case 30:da(s);break;default:da(s)}i=i.sibling}}function Jr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Jr(d,g,o),au(4,g);break;case 1:if(Jr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){oe(u,u.return,H)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)O0(D[d],w)}catch(H){oe(u,u.return,H)}}o&&T&64&&Q_(g),ou(g,g.return);break;case 27:W_(g);case 26:case 5:Jr(d,g,o),o&&u===null&&T&4&&$_(g),ou(g,g.return);break;case 12:Jr(d,g,o);break;case 13:Jr(d,g,o),o&&T&4&&nE(d,g);break;case 22:g.memoizedState===null&&Jr(d,g,o),ou(g,g.return);break;case 30:break;default:Jr(d,g,o)}s=s.sibling}}function Xm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Kl(o))}function Wm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kl(i))}function Pi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sE(i,s,o,u),s=s.sibling}function sE(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(i,s,o,u),d&2048&&au(9,s);break;case 1:Pi(i,s,o,u);break;case 3:Pi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kl(i)));break;case 12:if(d&2048){Pi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){oe(s,s.return,D)}}else Pi(i,s,o,u);break;case 13:Pi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Pi(i,s,o,u):lu(i,s):g._visibility&2?Pi(i,s,o,u):(g._visibility|=2,Eo(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Xm(T,s);break;case 24:Pi(i,s,o,u),d&2048&&Wm(s.alternate,s);break;default:Pi(i,s,o,u)}}function Eo(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,T=s,w=o,D=u,H=T.flags;switch(T.tag){case 0:case 11:case 15:Eo(g,T,w,D,d),au(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?Eo(g,T,w,D,d):lu(g,T):(et._visibility|=2,Eo(g,T,w,D,d)),d&&H&2048&&Xm(T.alternate,T);break;case 24:Eo(g,T,w,D,d),d&&H&2048&&Wm(T.alternate,T);break;default:Eo(g,T,w,D,d)}s=s.sibling}}function lu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:lu(o,u),d&2048&&Xm(u.alternate,u);break;case 24:lu(o,u),d&2048&&Wm(u.alternate,u);break;default:lu(o,u)}s=s.sibling}}var uu=8192;function To(i){if(i.subtreeFlags&uu)for(i=i.child;i!==null;)aE(i),i=i.sibling}function aE(i){switch(i.tag){case 26:To(i),i.flags&uu&&i.memoizedState!==null&&PC(mi,i.memoizedState,i.memoizedProps);break;case 5:To(i);break;case 3:case 4:var s=mi;mi=Uh(i.stateNode.containerInfo),To(i),mi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=uu,uu=16777216,To(i),uu=s):To(i));break;default:To(i)}}function oE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function cu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$e=u,uE(u,i)}oE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lE(i),i=i.sibling}function lE(i){switch(i.tag){case 0:case 11:case 15:cu(i),i.flags&2048&&Wr(9,i,i.return);break;case 3:cu(i);break;case 12:cu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Rh(i)):cu(i);break;default:cu(i)}}function Rh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$e=u,uE(u,i)}oE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Wr(8,s,s.return),Rh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(s));break;default:Rh(s)}i=i.sibling}}function uE(i,s){for(;$e!==null;){var o=$e;switch(o.tag){case 0:case 11:case 15:Wr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$e=u;else t:for(o=i;$e!==null;){u=$e;var d=u.sibling,g=u.return;if(tE(u),u===o){$e=null;break t}if(d!==null){d.return=g,$e=d;break t}$e=g}}}var W2={getCacheForType:function(i){var s=hn(Fe),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},Z2=typeof WeakMap=="function"?WeakMap:Map,te=0,le=null,kt=null,Ht=0,ee=0,Bn=null,ts=!1,bo=!1,Zm=!1,Tr=0,Te=0,es=0,ma=0,Jm=0,ni=0,Ao=0,hu=null,On=null,tp=!1,ep=0,Ch=1/0,Ih=null,ns=null,en=0,is=null,So=null,wo=0,np=0,ip=null,cE=null,fu=0,rp=null;function zn(){if((te&2)!==0&&Ht!==0)return Ht&-Ht;if(W.T!==null){var i=ho;return i!==0?i:hp()}return jr()}function hE(){ni===0&&(ni=(Ht&536870912)===0||Yt?Tl():536870912);var i=ei.current;return i!==null&&(i.flags|=32),ni}function qn(i,s,o){(i===le&&(ee===2||ee===9)||i.cancelPendingCommit!==null)&&(xo(i,0),rs(i,Ht,ni,!1)),Ji(i,o),((te&2)===0||i!==le)&&(i===le&&((te&2)===0&&(ma|=o),Te===4&&rs(i,Ht,ni,!1)),ki(i))}function fE(i,s,o){if((te&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Fs(i,s),d=u?eC(i,s):op(i,s,!0),g=u;do{if(d===0){bo&&!u&&rs(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!J2(o)){d=op(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var w=i;d=hu;var D=w.current.memoizedState.isDehydrated;if(D&&(xo(w,T).flags|=256),T=op(w,T,!1),T!==2){if(Zm&&!D){w.errorRecoveryDisabledLanes|=g,ma|=g,d=4;break t}g=On,On=d,g!==null&&(On===null?On=g:On.push.apply(On,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){xo(i,0),rs(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:rs(u,s,ni,!ts);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=ep+300-ke(),10<d)){if(rs(u,s,ni,!ts),za(u,0,!0)!==0)break t;u.timeoutHandle=BE(dE.bind(null,u,o,On,Ih,tp,s,ni,ma,Ao,ts,g,2,-0,0),d);break t}dE(u,o,On,Ih,tp,s,ni,ma,Ao,ts,g,0,-0,0)}}break}while(!0);ki(i)}function dE(i,s,o,u,d,g,T,w,D,H,et,it,Q,$){if(i.timeoutHandle=-1,it=s.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(_u={stylesheets:null,count:0,unsuspend:MC},aE(s),it=kC(),it!==null)){i.cancelPendingCommit=it(EE.bind(null,i,s,g,o,u,d,T,w,D,et,1,Q,$)),rs(i,g,T,!H);return}EE(i,s,g,o,u,d,T,w,D)}function J2(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Ln(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(i,s,o,u){s&=~Jm,s&=~ma,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Ge(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&Ti(i,o,s)}function Dh(){return(te&6)===0?(du(0),!1):!0}function sp(){if(kt!==null){if(ee===0)var i=kt.return;else i=kt,dr=la=null,bm(i),vo=null,iu=0,i=kt;for(;i!==null;)K_(i.alternate,i),i=i.return;kt=null}}function xo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,yC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),sp(),le=i,kt=o=cr(i.current,null),Ht=s,ee=0,Bn=null,ts=!1,bo=Fs(i,s),Zm=!1,Ao=ni=Jm=ma=es=Te=0,On=hu=null,tp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Ge(u),g=1<<d;s|=i[d],u&=~g}return Tr=s,Zc(),o}function mE(i,s){Vt=null,W.H=yh,s===Yl||s===oh?(s=N0(),ee=3):s===C0?(s=N0(),ee=4):ee=s===V_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,kt===null&&(Te=1,bh(i,Wn(s,i.current)))}function pE(){var i=W.H;return W.H=yh,i===null?yh:i}function gE(){var i=W.A;return W.A=W2,i}function ap(){Te=4,ts||(Ht&4194048)!==Ht&&ei.current!==null||(bo=!0),(es&134217727)===0&&(ma&134217727)===0||le===null||rs(le,Ht,ni,!1)}function op(i,s,o){var u=te;te|=2;var d=pE(),g=gE();(le!==i||Ht!==s)&&(Ih=null,xo(i,s)),s=!1;var T=Te;t:do try{if(ee!==0&&kt!==null){var w=kt,D=Bn;switch(ee){case 8:sp(),T=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var H=ee;if(ee=0,Bn=null,Ro(i,w,D,H),o&&bo){T=0;break t}break;default:H=ee,ee=0,Bn=null,Ro(i,w,D,H)}}tC(),T=Te;break}catch(et){mE(i,et)}while(!0);return s&&i.shellSuspendCounter++,dr=la=null,te=u,W.H=d,W.A=g,kt===null&&(le=null,Ht=0,Zc()),T}function tC(){for(;kt!==null;)yE(kt)}function eC(i,s){var o=te;te|=2;var u=pE(),d=gE();le!==i||Ht!==s?(Ih=null,Ch=ke()+500,xo(i,s)):bo=Fs(i,s);t:do try{if(ee!==0&&kt!==null){s=kt;var g=Bn;e:switch(ee){case 1:ee=0,Bn=null,Ro(i,s,g,1);break;case 2:case 9:if(I0(g)){ee=0,Bn=null,vE(s);break}s=function(){ee!==2&&ee!==9||le!==i||(ee=7),ki(i)},g.then(s,s);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:I0(g)?(ee=0,Bn=null,vE(s)):(ee=0,Bn=null,Ro(i,s,g,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var w=kt;if(!T||JE(T)){ee=0,Bn=null;var D=w.sibling;if(D!==null)kt=D;else{var H=w.return;H!==null?(kt=H,Nh(H)):kt=null}break e}}ee=0,Bn=null,Ro(i,s,g,5);break;case 6:ee=0,Bn=null,Ro(i,s,g,6);break;case 8:sp(),Te=6;break t;default:throw Error(r(462))}}nC();break}catch(et){mE(i,et)}while(!0);return dr=la=null,W.H=u,W.A=d,te=o,kt!==null?0:(le=null,Ht=0,Zc(),Te)}function nC(){for(;kt!==null&&!de();)yE(kt)}function yE(i){var s=H_(i.alternate,i,Tr);i.memoizedProps=i.pendingProps,s===null?Nh(i):kt=s}function vE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=j_(o,s,s.pendingProps,s.type,void 0,Ht);break;case 11:s=j_(o,s,s.pendingProps,s.type.render,s.ref,Ht);break;case 5:bm(s);default:K_(o,s),s=kt=_0(s,Tr),s=H_(o,s,Tr)}i.memoizedProps=i.pendingProps,s===null?Nh(i):kt=s}function Ro(i,s,o,u){dr=la=null,bm(s),vo=null,iu=0;var d=s.return;try{if(G2(i,d,s,o,Ht)){Te=1,bh(i,Wn(o,i.current)),kt=null;return}}catch(g){if(d!==null)throw kt=d,g;Te=1,bh(i,Wn(o,i.current)),kt=null;return}s.flags&32768?(Yt||u===1?i=!0:bo||(Ht&536870912)!==0?i=!1:(ts=i=!0,(u===2||u===9||u===3||u===6)&&(u=ei.current,u!==null&&u.tag===13&&(u.flags|=16384))),_E(s,i)):Nh(s)}function Nh(i){var s=i;do{if((s.flags&32768)!==0){_E(s,ts);return}i=s.return;var o=Q2(s.alternate,s,Tr);if(o!==null){kt=o;return}if(s=s.sibling,s!==null){kt=s;return}kt=s=i}while(s!==null);Te===0&&(Te=5)}function _E(i,s){do{var o=Y2(i.alternate,i);if(o!==null){o.flags&=32767,kt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){kt=i;return}kt=i=o}while(i!==null);Te=6,kt=null}function EE(i,s,o,u,d,g,T,w,D){i.cancelPendingCommit=null;do Vh();while(en!==0);if((te&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Wd,Al(i,o,g,T,w,D),i===le&&(kt=le=null,Ht=0),So=s,is=i,wo=o,np=g,ip=d,cE=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aC(En,function(){return wE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=lt.p,lt.p=2,T=te,te|=4;try{$2(i,s,o)}finally{te=T,lt.p=d,W.T=u}}en=1,TE(),bE(),AE()}}function TE(){if(en===1){en=0;var i=is,s=So,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=lt.p;lt.p=2;var d=te;te|=4;try{iE(s,i);var g=_p,T=u0(i.containerInfo),w=g.focusedElem,D=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&l0(w.ownerDocument.documentElement,w)){if(D!==null&&Kd(w)){var H=D.start,et=D.end;if(et===void 0&&(et=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(et,w.value.length);else{var it=w.ownerDocument||document,Q=it&&it.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),wt=w.textContent.length,Et=Math.min(D.start,wt),ae=D.end===void 0?Et:Math.min(D.end,wt);!$.extend&&Et>ae&&(T=ae,ae=Et,Et=T);var B=o0(w,Et),L=o0(w,ae);if(B&&L&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var q=it.createRange();q.setStart(B.node,B.offset),$.removeAllRanges(),Et>ae?($.addRange(q),$.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),$.addRange(q))}}}}for(it=[],$=w;$=$.parentNode;)$.nodeType===1&&it.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var nt=it[w];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Hh=!!vp,_p=vp=null}finally{te=d,lt.p=u,W.T=o}}i.current=s,en=2}}function bE(){if(en===2){en=0;var i=is,s=So,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=lt.p;lt.p=2;var d=te;te|=4;try{J_(i,s.alternate,s)}finally{te=d,lt.p=u,W.T=o}}en=3}}function AE(){if(en===4||en===3){en=0,ce();var i=is,s=So,o=wo,u=cE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,So=is=null,SE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(ns=null),qa(o),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Qt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=lt.p,lt.p=2,W.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{W.T=s,lt.p=d}}(wo&3)!==0&&Vh(),ki(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===rp?fu++:(fu=0,rp=i):fu=0,du(0)}}function SE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Kl(s)))}function Vh(i){return TE(),bE(),AE(),wE()}function wE(){if(en!==5)return!1;var i=is,s=np;np=0;var o=qa(wo),u=W.T,d=lt.p;try{lt.p=32>o?32:o,W.T=null,o=ip,ip=null;var g=is,T=wo;if(en=0,So=is=null,wo=0,(te&6)!==0)throw Error(r(331));var w=te;if(te|=4,lE(g.current),sE(g,g.current,T,o),te=w,du(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Qt,g)}catch{}return!0}finally{lt.p=d,W.T=u,SE(i,s)}}function xE(i,s,o){s=Wn(o,s),s=km(i.stateNode,s,2),i=Qr(i,s,2),i!==null&&(Ji(i,2),ki(i))}function oe(i,s,o){if(i.tag===3)xE(i,i,o);else for(;s!==null;){if(s.tag===3){xE(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ns===null||!ns.has(u))){i=Wn(o,i),o=D_(2),u=Qr(s,o,2),u!==null&&(N_(o,u,s,i),Ji(u,2),ki(u));break}}s=s.return}}function lp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Z2;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Zm=!0,d.add(o),i=iC.bind(null,i,s,o),s.then(i,i))}function iC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,le===i&&(Ht&o)===o&&(Te===4||Te===3&&(Ht&62914560)===Ht&&300>ke()-ep?(te&2)===0&&xo(i,0):Jm|=o,Ao===Ht&&(Ao=0)),ki(i)}function RE(i,s){s===0&&(s=bl()),i=oo(i,s),i!==null&&(Ji(i,s),ki(i))}function rC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),RE(i,o)}function sC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),RE(i,o)}function aC(i,s){return Pe(i,s)}var Oh=null,Co=null,up=!1,Mh=!1,cp=!1,pa=0;function ki(i){i!==Co&&i.next===null&&(Co===null?Oh=Co=i:Co=Co.next=i),Mh=!0,up||(up=!0,lC())}function du(i,s){if(!cp&&Mh){cp=!0;do for(var o=!1,u=Oh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Ge(42|i)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,NE(u,g))}else g=Ht,g=za(u,u===le?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Fs(u,g)||(o=!0,NE(u,g));u=u.next}while(o);cp=!1}}function oC(){CE()}function CE(){Mh=up=!1;var i=0;pa!==0&&(gC()&&(i=pa),pa=0);for(var s=ke(),o=null,u=Oh;u!==null;){var d=u.next,g=IE(u,s);g===0?(u.next=null,o===null?Oh=d:o.next=d,d===null&&(Co=o)):(o=u,(i!==0||(g&3)!==0)&&(Mh=!0)),u=d}du(i)}function IE(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Ge(g),w=1<<T,D=d[T];D===-1?((w&o)===0||(w&u)!==0)&&(d[T]=El(w,s)):D<=s&&(i.expiredLanes|=w),g&=~w}if(s=le,o=Ht,o=za(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(ee===2||ee===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&cn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Fs(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&cn(u),qa(o)){case 2:case 8:o=_n;break;case 32:o=En;break;case 268435456:o=Wi;break;default:o=En}return u=DE.bind(null,i),o=Pe(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&cn(u),i.callbackPriority=2,i.callbackNode=null,2}function DE(i,s){if(en!==0&&en!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Vh()&&i.callbackNode!==o)return null;var u=Ht;return u=za(i,i===le?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(fE(i,u,s),IE(i,ke()),i.callbackNode!=null&&i.callbackNode===o?DE.bind(null,i):null)}function NE(i,s){if(Vh())return null;fE(i,s,!0)}function lC(){vC(function(){(te&6)!==0?Pe(kr,oC):CE()})}function hp(){return pa===0&&(pa=Tl()),pa}function VE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$a(""+i)}function OE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function uC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=VE((d[Ie]||null).action),T=u.submitter;T&&(s=(s=T[Ie]||null)?VE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var w=new Xa("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pa!==0){var D=T?OE(d,T):new FormData(d);Nm(o,{pending:!0,data:D,method:d.method,action:g},null,D)}}else typeof g=="function"&&(w.preventDefault(),D=T?OE(d,T):new FormData(d),Nm(o,{pending:!0,data:D,method:d.method,action:g},g,D))},currentTarget:d}]})}}for(var fp=0;fp<Xd.length;fp++){var dp=Xd[fp],cC=dp.toLowerCase(),hC=dp[0].toUpperCase()+dp.slice(1);di(cC,"on"+hC)}di(f0,"onAnimationEnd"),di(d0,"onAnimationIteration"),di(m0,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(C2,"onTransitionRun"),di(I2,"onTransitionStart"),di(D2,"onTransitionCancel"),di(p0,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function ME(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var w=u[T],D=w.instance,H=w.currentTarget;if(w=w.listener,D!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=H;try{g(d)}catch(et){Th(et)}d.currentTarget=null,g=D}else for(T=0;T<u.length;T++){if(w=u[T],D=w.instance,H=w.currentTarget,w=w.listener,D!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=H;try{g(d)}catch(et){Th(et)}d.currentTarget=null,g=D}}}}function Lt(i,s){var o=s[wl];o===void 0&&(o=s[wl]=new Set);var u=i+"__bubble";o.has(u)||(PE(s,i,2,!1),o.add(u))}function mp(i,s,o){var u=0;s&&(u|=4),PE(o,i,u,s)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function pp(i){if(!i[Ph]){i[Ph]=!0,xl.forEach(function(o){o!=="selectionchange"&&(fC.has(o)||mp(o,!1,i),mp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ph]||(s[Ph]=!0,mp("selectionchange",!1,s))}}function PE(i,s,o,u){switch(sT(s)){case 2:var d=UC;break;case 8:d=FC;break;default:d=Ip}o=d.bind(null,s,o,i),d=void 0,!$n||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function gp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=tr(w),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=g=T;continue t}w=w.parentNode}}u=u.return}Lc(function(){var H=g,et=Yn(o),it=[];t:{var Q=g0.get(i);if(Q!==void 0){var $=Xa,wt=i;switch(i){case"keypress":if(Ri(o)===0)break t;case"keydown":case"keyup":$=no;break;case"focusin":wt="focus",$=Ja;break;case"focusout":wt="blur",$=Ja;break;case"beforeblur":case"afterblur":$=Ja;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Gc;break;case f0:case d0:case m0:$=to;break;case p0:$=Qc;break;case"scroll":case"scrollend":$=jc;break;case"wheel":$=io;break;case"copy":case"cut":case"paste":$=eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=jl;break;case"toggle":case"beforetoggle":$=$c}var Et=(s&4)!==0,ae=!Et&&(i==="scroll"||i==="scrollend"),B=Et?Q!==null?Q+"Capture":null:Q;Et=[];for(var L=H,q;L!==null;){var nt=L;if(q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||q===null||B===null||(nt=Ys(L,B),nt!=null&&Et.push(pu(L,nt,q))),ae)break;L=L.return}0<Et.length&&(Q=new $(Q,wt,null,o,et),it.push({event:Q,listeners:Et}))}}if((s&7)===0){t:{if(Q=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",Q&&o!==rr&&(wt=o.relatedTarget||o.fromElement)&&(tr(wt)||wt[Kn]))break t;if(($||Q)&&(Q=et.window===et?et:(Q=et.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(wt=o.relatedTarget||o.toElement,$=H,wt=wt?tr(wt):null,wt!==null&&(ae=l(wt),Et=wt.tag,wt!==ae||Et!==5&&Et!==27&&Et!==6)&&(wt=null)):($=null,wt=H),$!==wt)){if(Et=Xn,nt="onMouseLeave",B="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(Et=jl,nt="onPointerLeave",B="onPointerEnter",L="pointer"),ae=$==null?Q:Ai($),q=wt==null?Q:Ai(wt),Q=new Et(nt,L+"leave",$,o,et),Q.target=ae,Q.relatedTarget=q,nt=null,tr(et)===H&&(Et=new Et(B,L+"enter",wt,o,et),Et.target=q,Et.relatedTarget=ae,nt=Et),ae=nt,$&&wt)e:{for(Et=$,B=wt,L=0,q=Et;q;q=Io(q))L++;for(q=0,nt=B;nt;nt=Io(nt))q++;for(;0<L-q;)Et=Io(Et),L--;for(;0<q-L;)B=Io(B),q--;for(;L--;){if(Et===B||B!==null&&Et===B.alternate)break e;Et=Io(Et),B=Io(B)}Et=null}else Et=null;$!==null&&kE(it,Q,$,Et,!1),wt!==null&&ae!==null&&kE(it,ae,wt,Et,!0)}}t:{if(Q=H?Ai(H):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var mt=e0;else if(Ue(Q))if(n0)mt=w2;else{mt=A2;var Pt=b2}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Nl(H.elementType)&&(mt=e0):mt=S2;if(mt&&(mt=mt(i,H))){ur(it,mt,o,et);break t}Pt&&Pt(i,Q,H),i==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&zr(Q,"number",Q.value)}switch(Pt=H?Ai(H):window,i){case"focusin":(Ue(Pt)||Pt.contentEditable==="true")&&(ro=Pt,Qd=H,Bl=null);break;case"focusout":Bl=Qd=ro=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,c0(it,o,et);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":c0(it,o,et)}var yt;if(Di)t:{switch(i){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else zt?J(i,o)&&(bt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(bt="onCompositionStart");bt&&(E&&o.locale!=="ko"&&(zt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&zt&&(yt=Ol()):(xi=et,qr="value"in xi?xi.value:xi.textContent,zt=!0)),Pt=kh(H,bt),0<Pt.length&&(bt=new kl(bt,i,null,o,et),it.push({event:bt,listeners:Pt}),yt?bt.data=yt:(yt=ct(o),yt!==null&&(bt.data=yt)))),(yt=v?je(i,o):qt(i,o))&&(bt=kh(H,"onBeforeInput"),0<bt.length&&(Pt=new kl("onBeforeInput","beforeinput",null,o,et),it.push({event:Pt,listeners:bt}),Pt.data=yt)),uC(it,i,H,o,et)}ME(it,s)})}function pu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function kh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Ys(i,o),d!=null&&u.unshift(pu(i,d,g)),d=Ys(i,s),d!=null&&u.push(pu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function kE(i,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var w=o,D=w.alternate,H=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||H===null||(D=H,d?(H=Ys(o,g),H!=null&&T.unshift(pu(o,H,D))):d||(H=Ys(o,g),H!=null&&T.push(pu(o,H,D)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var dC=/\r\n?/g,mC=/\u0000|\uFFFD/g;function LE(i){return(typeof i=="string"?i:""+i).replace(dC,`
`).replace(mC,"")}function jE(i,s){return s=LE(s),LE(i)===s}function Lh(){}function se(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Qn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Qn(i,""+u);break;case"className":Si(i,"class",u);break;case"tabIndex":Si(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(i,o,u);break;case"style":Dl(i,u,g);break;case"data":if(s!=="object"){Si(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=$a(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&se(i,s,"name",d.name,d,null),se(i,s,"formEncType",d.formEncType,d,null),se(i,s,"formMethod",d.formMethod,d,null),se(i,s,"formTarget",d.formTarget,d,null)):(se(i,s,"encType",d.encType,d,null),se(i,s,"method",d.method,d,null),se(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=$a(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Lh);break;case"onScroll":u!=null&&Lt("scroll",i);break;case"onScrollEnd":u!=null&&Lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=$a(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Lt("beforetoggle",i),Lt("toggle",i),Br(i,"popover",u);break;case"xlinkActuate":Ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ze(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ze(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ze(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ze(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Br(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fd.get(o)||o,Br(i,o,u))}}function yp(i,s,o,u,d,g){switch(o){case"style":Dl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Qn(i,u):(typeof u=="number"||typeof u=="bigint")&&Qn(i,""+u);break;case"onScroll":u!=null&&Lt("scroll",i);break;case"onScrollEnd":u!=null&&Lt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Ie]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Br(i,o,u)}}}function nn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",i),Lt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:se(i,s,g,T,o,null)}}d&&se(i,s,"srcSet",o.srcSet,o,null),u&&se(i,s,"src",o.src,o,null);return;case"input":Lt("invalid",i);var w=g=T=d=null,D=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var et=o[u];if(et!=null)switch(u){case"name":d=et;break;case"type":T=et;break;case"checked":D=et;break;case"defaultChecked":H=et;break;case"value":g=et;break;case"defaultValue":w=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,s));break;default:se(i,s,u,et,o,null)}}Gs(i,g,w,D,H,T,d,!1),Ya(i);return;case"select":Lt("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:se(i,s,d,w,o,null)}s=g,o=T,i.multiple=!!u,s!=null?ir(i,!!u,s,!1):o!=null&&ir(i,!!u,o,!0);return;case"textarea":Lt("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:se(i,s,T,w,o,null)}Ks(i,u,d,g),Ya(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(i,s,D,u,o,null)}return;case"dialog":Lt("beforetoggle",i),Lt("toggle",i),Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":Lt("load",i);break;case"video":case"audio":for(u=0;u<mu.length;u++)Lt(mu[u],i);break;case"image":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"embed":case"source":case"link":Lt("error",i),Lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:se(i,s,H,u,o,null)}return;default:if(Nl(s)){for(et in o)o.hasOwnProperty(et)&&(u=o[et],u!==void 0&&yp(i,s,et,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&se(i,s,w,u,o,null))}function pC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,D=null,H=null,et=null;for($ in o){var it=o[$];if(o.hasOwnProperty($)&&it!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=it;default:u.hasOwnProperty($)||se(i,s,$,null,u,it)}}for(var Q in u){var $=u[Q];if(it=o[Q],u.hasOwnProperty(Q)&&($!=null||it!=null))switch(Q){case"type":g=$;break;case"name":d=$;break;case"checked":H=$;break;case"defaultChecked":et=$;break;case"value":T=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==it&&se(i,s,Q,$,u,it)}}kn(i,T,w,D,H,et,g,d);return;case"select":$=T=w=Q=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":$=D;default:u.hasOwnProperty(g)||se(i,s,g,null,u,D)}for(d in u)if(g=u[d],D=o[d],u.hasOwnProperty(d)&&(g!=null||D!=null))switch(d){case"value":Q=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==D&&se(i,s,d,g,u,D)}s=w,o=T,u=$,Q!=null?ir(i,!!o,Q,!1):!!u!=!!o&&(s!=null?ir(i,!!o,s,!0):ir(i,!!o,o?[]:"",!1));return;case"textarea":$=Q=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:se(i,s,w,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Q=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&se(i,s,T,d,u,g)}ie(i,Q,$);return;case"option":for(var wt in o)if(Q=o[wt],o.hasOwnProperty(wt)&&Q!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:se(i,s,wt,null,u,Q)}for(D in u)if(Q=u[D],$=o[D],u.hasOwnProperty(D)&&Q!==$&&(Q!=null||$!=null))switch(D){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:se(i,s,D,Q,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)Q=o[Et],o.hasOwnProperty(Et)&&Q!=null&&!u.hasOwnProperty(Et)&&se(i,s,Et,null,u,Q);for(H in u)if(Q=u[H],$=o[H],u.hasOwnProperty(H)&&Q!==$&&(Q!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:se(i,s,H,Q,u,$)}return;default:if(Nl(s)){for(var ae in o)Q=o[ae],o.hasOwnProperty(ae)&&Q!==void 0&&!u.hasOwnProperty(ae)&&yp(i,s,ae,void 0,u,Q);for(et in u)Q=u[et],$=o[et],!u.hasOwnProperty(et)||Q===$||Q===void 0&&$===void 0||yp(i,s,et,Q,u,$);return}}for(var B in o)Q=o[B],o.hasOwnProperty(B)&&Q!=null&&!u.hasOwnProperty(B)&&se(i,s,B,null,u,Q);for(it in u)Q=u[it],$=o[it],!u.hasOwnProperty(it)||Q===$||Q==null&&$==null||se(i,s,it,Q,u,$)}var vp=null,_p=null;function jh(i){return i.nodeType===9?i:i.ownerDocument}function UE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ep(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tp=null;function gC(){var i=window.event;return i&&i.type==="popstate"?i===Tp?!1:(Tp=i,!0):(Tp=null,!1)}var BE=typeof setTimeout=="function"?setTimeout:void 0,yC=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,vC=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(i){return zE.resolve(null).then(i).catch(_C)}:BE;function _C(i){setTimeout(function(){throw i})}function ss(i){return i==="head"}function qE(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=i.ownerDocument;if(o&1&&gu(T.documentElement),o&2&&gu(T.body),o&4)for(o=T.head,gu(o),T=o.firstChild;T;){var w=T.nextSibling,D=T.nodeName;T[Bs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=w}}if(d===0){i.removeChild(g),Su(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Su(s)}function bp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bp(o),Fr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function EC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Bs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=pi(i.nextSibling),i===null)break}return null}function TC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pi(i.nextSibling),i===null))return null;return i}function Ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function bC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function pi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Sp=null;function HE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function GE(i,s,o){switch(s=jh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function gu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Fr(i)}var ii=new Map,KE=new Set;function Uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var br=lt.d;lt.d={f:AC,r:SC,D:wC,C:xC,L:RC,m:CC,X:DC,S:IC,M:NC};function AC(){var i=br.f(),s=Dh();return i||s}function SC(i){var s=bi(i);s!==null&&s.tag===5&&s.type==="form"?f_(s):br.r(i)}var Do=typeof document>"u"?null:document;function QE(i,s,o){var u=Do;if(u&&typeof s=="string"&&s){var d=De(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),KE.has(d)||(KE.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),nn(s,"link",i),Se(s),u.head.appendChild(s)))}}function wC(i){br.D(i),QE("dns-prefetch",i,null)}function xC(i,s){br.C(i,s),QE("preconnect",i,s)}function RC(i,s,o){br.L(i,s,o);var u=Do;if(u&&i&&s){var d='link[rel="preload"][as="'+De(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+De(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+De(o.imageSizes)+'"]')):d+='[href="'+De(i)+'"]';var g=d;switch(s){case"style":g=No(i);break;case"script":g=Vo(i)}ii.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ii.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(yu(g))||s==="script"&&u.querySelector(vu(g))||(s=u.createElement("link"),nn(s,"link",i),Se(s),u.head.appendChild(s)))}}function CC(i,s){br.m(i,s);var o=Do;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+De(u)+'"][href="'+De(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vo(i)}if(!ii.has(g)&&(i=y({rel:"modulepreload",href:i},s),ii.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vu(g)))return}u=o.createElement("link"),nn(u,"link",i),Se(u),o.head.appendChild(u)}}}function IC(i,s,o){br.S(i,s,o);var u=Do;if(u&&i){var d=bn(u).hoistableStyles,g=No(i);s=s||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(yu(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ii.get(g))&&wp(i,o);var D=T=u.createElement("link");Se(D),nn(D,"link",i),D._p=new Promise(function(H,et){D.onload=H,D.onerror=et}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function DC(i,s){br.X(i,s);var o=Do;if(o&&i){var u=bn(o).hoistableScripts,d=Vo(i),g=u.get(d);g||(g=o.querySelector(vu(d)),g||(i=y({src:i,async:!0},s),(s=ii.get(d))&&xp(i,s),g=o.createElement("script"),Se(g),nn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function NC(i,s){br.M(i,s);var o=Do;if(o&&i){var u=bn(o).hoistableScripts,d=Vo(i),g=u.get(d);g||(g=o.querySelector(vu(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=ii.get(d))&&xp(i,s),g=o.createElement("script"),Se(g),nn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function YE(i,s,o,u){var d=(d=gt.current)?Uh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=No(o.href),o=bn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var g=bn(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(yu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ii.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ii.set(i,o),g||VC(d,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vo(o),o=bn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function No(i){return'href="'+De(i)+'"'}function yu(i){return'link[rel="stylesheet"]['+i+"]"}function $E(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function VC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),nn(s,"link",o),Se(s),i.head.appendChild(s))}function Vo(i){return'[src="'+De(i)+'"]'}function vu(i){return"script[async]"+i}function XE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+De(o.href)+'"]');if(u)return s.instance=u,Se(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Se(u),nn(u,"style",d),Fh(u,o.precedence,i),s.instance=u;case"stylesheet":d=No(o.href);var g=i.querySelector(yu(d));if(g)return s.state.loading|=4,s.instance=g,Se(g),g;u=$E(o),(d=ii.get(d))&&wp(u,d),g=(i.ownerDocument||i).createElement("link"),Se(g);var T=g;return T._p=new Promise(function(w,D){T.onload=w,T.onerror=D}),nn(g,"link",u),s.state.loading|=4,Fh(g,o.precedence,i),s.instance=g;case"script":return g=Vo(o.src),(d=i.querySelector(vu(g)))?(s.instance=d,Se(d),d):(u=o,(d=ii.get(g))&&(u=y({},o),xp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Se(d),nn(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Fh(u,o.precedence,i));return s.instance}function Fh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function wp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function xp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Bh=null;function WE(i,s,o){if(Bh===null){var u=new Map,d=Bh=new Map;d.set(o,u)}else d=Bh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Bs]||g[Le]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function ZE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function OC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function JE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var _u=null;function MC(){}function PC(i,s,o){if(_u===null)throw Error(r(475));var u=_u;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=No(o.href),g=i.querySelector(yu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=zh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,Se(g);return}g=i.ownerDocument||i,o=$E(o),(d=ii.get(d))&&wp(o,d),g=g.createElement("link"),Se(g);var T=g;T._p=new Promise(function(w,D){T.onload=w,T.onerror=D}),nn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=zh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function kC(){if(_u===null)throw Error(r(475));var i=_u;return i.stylesheets&&i.count===0&&Rp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Rp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qh=null;function Rp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qh=new Map,s.forEach(LC,i),qh=null,zh.call(i))}function LC(i,s){if(!(s.state.loading&4)){var o=qh.get(i);if(o)var u=o.get(null);else{o=new Map,qh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=zh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Eu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function jC(i,s,o,u,d,g,T,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function tT(i,s,o,u,d,g,T,w,D,H,et,it){return i=new jC(i,s,o,T,w,D,H,it),s=1,g===!0&&(s|=24),g=jn(3,null,null,s),i.current=g,g.stateNode=i,s=lm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},fm(g),i}function eT(i){return i?(i=lo,i):lo}function nT(i,s,o,u,d,g){d=eT(d),u.context===null?u.context=d:u.pendingContext=d,u=Kr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Qr(i,u,s),o!==null&&(qn(o,i,s),Xl(o,i,s))}function iT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Cp(i,s){iT(i,s),(i=i.alternate)&&iT(i,s)}function rT(i){if(i.tag===13){var s=oo(i,67108864);s!==null&&qn(s,i,67108864),Cp(i,67108864)}}var Hh=!0;function UC(i,s,o,u){var d=W.T;W.T=null;var g=lt.p;try{lt.p=2,Ip(i,s,o,u)}finally{lt.p=g,W.T=d}}function FC(i,s,o,u){var d=W.T;W.T=null;var g=lt.p;try{lt.p=8,Ip(i,s,o,u)}finally{lt.p=g,W.T=d}}function Ip(i,s,o,u){if(Hh){var d=Dp(u);if(d===null)gp(i,s,u,Gh,o),aT(i,u);else if(zC(d,i,s,o,u))u.stopPropagation();else if(aT(i,u),s&4&&-1<BC.indexOf(i)){for(;d!==null;){var g=bi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ci(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var D=1<<31-Ge(T);w.entanglements[1]|=D,T&=~D}ki(g),(te&6)===0&&(Ch=ke()+500,du(0))}}break;case 13:w=oo(g,2),w!==null&&qn(w,g,2),Dh(),Cp(g,2)}if(g=Dp(u),g===null&&gp(i,s,u,Gh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else gp(i,s,u,null,o)}}function Dp(i){return i=Yn(i),Np(i)}var Gh=null;function Np(i){if(Gh=null,i=tr(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Gh=i,null}function sT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fa()){case kr:return 2;case _n:return 8;case En:case Dn:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var Vp=!1,as=null,os=null,ls=null,Tu=new Map,bu=new Map,us=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aT(i,s){switch(i){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(s.pointerId)}}function Au(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=bi(s),s!==null&&rT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function zC(i,s,o,u,d){switch(s){case"focusin":return as=Au(as,i,s,o,u,d),!0;case"dragenter":return os=Au(os,i,s,o,u,d),!0;case"mouseover":return ls=Au(ls,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Tu.set(g,Au(Tu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,bu.set(g,Au(bu.get(g)||null,i,s,o,u,d)),!0}return!1}function oT(i){var s=tr(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Dc(i.priority,function(){if(o.tag===13){var u=zn();u=Lr(u);var d=oo(o,u);d!==null&&qn(d,o,u),Cp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Kh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Dp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);rr=u,o.target.dispatchEvent(u),rr=null}else return s=bi(o),s!==null&&rT(s),i.blockedOn=o,!1;s.shift()}return!0}function lT(i,s,o){Kh(i)&&o.delete(s)}function qC(){Vp=!1,as!==null&&Kh(as)&&(as=null),os!==null&&Kh(os)&&(os=null),ls!==null&&Kh(ls)&&(ls=null),Tu.forEach(lT),bu.forEach(lT)}function Qh(i,s){i.blockedOn===s&&(i.blockedOn=null,Vp||(Vp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qC)))}var Yh=null;function uT(i){Yh!==i&&(Yh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yh===i&&(Yh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Np(u||o)===null)continue;break}var g=bi(o);g!==null&&(i.splice(s,3),s-=3,Nm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Su(i){function s(D){return Qh(D,i)}as!==null&&Qh(as,i),os!==null&&Qh(os,i),ls!==null&&Qh(ls,i),Tu.forEach(s),bu.forEach(s);for(var o=0;o<us.length;o++){var u=us[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<us.length&&(o=us[0],o.blockedOn===null);)oT(o),o.blockedOn===null&&us.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Ie]||null;if(typeof g=="function")T||uT(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Ie]||null)w=T.formAction;else if(Np(d)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),uT(o)}}}function Op(i){this._internalRoot=i}$h.prototype.render=Op.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=zn();nT(o,u,i,s,null,null)},$h.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;nT(i.current,2,null,i,null,null),Dh(),s[Kn]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var s=jr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<us.length&&s!==0&&s<us[o].priority;o++);us.splice(o,0,i),o===0&&oT(i)}};var cT=t.version;if(cT!=="19.1.0")throw Error(r(527,cT,"19.1.0"));lt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var HC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{Qt=Xh.inject(HC),Bt=Xh}catch{}}return xu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=x_,g=R_,T=C_,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=tT(i,1,!1,null,null,o,u,d,g,T,w,null),i[Kn]=s.current,pp(i),new Op(s)},xu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=x_,T=R_,w=C_,D=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=tT(i,1,!0,s,o??null,u,d,g,T,w,D,H),s.context=eT(null),o=s.current,u=zn(),u=Lr(u),d=Kr(u),d.callback=null,Qr(o,d,u),o=u,s.current.lanes=o,Ji(s,o),ki(s),i[Kn]=s.current,pp(i),new $h(s)},xu.version="19.1.0",xu}var gT;function aI(){if(gT)return Pp.exports;gT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pp.exports=sI(),Pp.exports}var oI=aI();const lI={filters:[]},DS=Va({name:"filters",initialState:lI,reducers:{addFilter:(e,t)=>{e.filters.push(t.payload)},removeFilter:(e,t)=>{const n=t.payload,r=e.filters.indexOf(n);e.filters.splice(r,1)}}}),{addFilter:uI,removeFilter:cI}=DS.actions,NS=e=>e.filters.filters,hI=DS.reducer,fI=()=>{};var yT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},dI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,S=p&63;m||(S=64,c||(b=64)),r.push(n[y],n[_],n[b],n[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(VS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new mI;const b=l<<2|f>>4;if(r.push(b),p!==64){const S=f<<4&240|p>>2;if(r.push(S),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pI=function(e){const t=VS(e);return OS.encodeByteArray(t,!0)},If=function(e){return pI(e).replace(/\./g,"")},MS=function(e){try{return OS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>gI().__FIREBASE_DEFAULTS__,vI=()=>{if(typeof process>"u"||typeof yT>"u")return;const e=yT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_I=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&MS(e[1]);return t&&JSON.parse(t)},rd=()=>{try{return fI()||yI()||vI()||_I()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},PS=e=>{var t,n;return(n=(t=rd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},EI=e=>{const t=PS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kS=()=>{var e;return(e=rd())===null||e===void 0?void 0:e.config},LS=e=>{var t;return(t=rd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[If(JSON.stringify(n)),If(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function SI(){var e;const t=(e=rd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function RI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CI(){const e=vn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function II(){return!SI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function NI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="FirebaseError";class Or extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=VI,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?OI(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Or(a,f,r)}}function OI(e,t){return e.replace(MI,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const MI=/\{\$([^}]+)}/g;function PI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Aa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(vT(l)&&vT(c)){if(!Aa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function vT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Cu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Iu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function kI(e,t){const n=new LI(e,t);return n.subscribe.bind(n)}class LI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jI(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=jp),a.error===void 0&&(a.error=jp),a.complete===void 0&&(a.complete=jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(e){return e&&e._delegate?e._delegate:e}class Sa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new TI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BI(t))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ya){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ya){return this.instances.has(t)}getOptions(t=ya){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ya){return this.component?this.component.multipleInstances?t:ya:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FI(e){return e===ya?void 0:e}function BI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ut||(Ut={}));const qI={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},HI=Ut.INFO,GI={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},KI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=GI[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dy{constructor(t){this.name=t,this._logLevel=HI,this._logHandler=KI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const QI=(e,t)=>t.some(n=>e instanceof n);let _T,ET;function YI(){return _T||(_T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,yg=new WeakMap,US=new WeakMap,Up=new WeakMap,my=new WeakMap;function XI(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(_s(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&jS.set(n,e)}).catch(()=>{}),my.set(t,e),t}function WI(e){if(yg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});yg.set(e,t)}let vg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return yg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||US.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ZI(e){vg=e(vg)}function JI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fp(this),t,...n);return US.set(r,t.sort?t.sort():[t]),_s(r)}:$I().includes(e)?function(...t){return e.apply(Fp(this),t),_s(jS.get(this))}:function(...t){return _s(e.apply(Fp(this),t))}}function tD(e){return typeof e=="function"?JI(e):(e instanceof IDBTransaction&&WI(e),QI(e,YI())?new Proxy(e,vg):e)}function _s(e){if(e instanceof IDBRequest)return XI(e);if(Up.has(e))return Up.get(e);const t=tD(e);return t!==e&&(Up.set(e,t),my.set(t,e)),t}const Fp=e=>my.get(e);function eD(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=_s(c);return r&&c.addEventListener("upgradeneeded",m=>{r(_s(c.result),m.oldVersion,m.newVersion,_s(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const nD=["get","getKey","getAll","getAllKeys","count"],iD=["put","add","delete","clear"],Bp=new Map;function TT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bp.get(t))return Bp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=iD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||nD.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Bp.set(t,l),l}ZI(e=>({...e,get:(t,n,r)=>TT(t,n)||e.get(t,n,r),has:(t,n)=>!!TT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sD(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _g="@firebase/app",bT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new dy("@firebase/app"),aD="@firebase/app-compat",oD="@firebase/analytics-compat",lD="@firebase/analytics",uD="@firebase/app-check-compat",cD="@firebase/app-check",hD="@firebase/auth",fD="@firebase/auth-compat",dD="@firebase/database",mD="@firebase/data-connect",pD="@firebase/database-compat",gD="@firebase/functions",yD="@firebase/functions-compat",vD="@firebase/installations",_D="@firebase/installations-compat",ED="@firebase/messaging",TD="@firebase/messaging-compat",bD="@firebase/performance",AD="@firebase/performance-compat",SD="@firebase/remote-config",wD="@firebase/remote-config-compat",xD="@firebase/storage",RD="@firebase/storage-compat",CD="@firebase/firestore",ID="@firebase/vertexai",DD="@firebase/firestore-compat",ND="firebase",VD="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",OD={[_g]:"fire-core",[aD]:"fire-core-compat",[lD]:"fire-analytics",[oD]:"fire-analytics-compat",[cD]:"fire-app-check",[uD]:"fire-app-check-compat",[hD]:"fire-auth",[fD]:"fire-auth-compat",[dD]:"fire-rtdb",[mD]:"fire-data-connect",[pD]:"fire-rtdb-compat",[gD]:"fire-fn",[yD]:"fire-fn-compat",[vD]:"fire-iid",[_D]:"fire-iid-compat",[ED]:"fire-fcm",[TD]:"fire-fcm-compat",[bD]:"fire-perf",[AD]:"fire-perf-compat",[SD]:"fire-rc",[wD]:"fire-rc-compat",[xD]:"fire-gcs",[RD]:"fire-gcs-compat",[CD]:"fire-fst",[DD]:"fire-fst-compat",[ID]:"fire-vertex","fire-js":"fire-js",[ND]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,MD=new Map,Tg=new Map;function AT(e,t){try{e.container.addComponent(t)}catch(n){Rr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wo(e){const t=e.name;if(Tg.has(t))return Rr.debug(`There were multiple attempts to register component ${t}.`),!1;Tg.set(t,e);for(const n of Df.values())AT(n,e);for(const n of MD.values())AT(n,e);return!0}function py(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new hc("app","Firebase",PD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=VD;function FS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Eg,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw Es.create("bad-app-name",{appName:String(a)});if(n||(n=kS()),!n)throw Es.create("no-options");const l=Df.get(a);if(l){if(Aa(n,l.options)&&Aa(r,l.config))return l;throw Es.create("duplicate-app",{appName:a})}const c=new zI(a);for(const m of Tg.values())c.addComponent(m);const f=new kD(n,r,c);return Df.set(a,f),f}function BS(e=Eg){const t=Df.get(e);if(!t&&e===Eg&&kS())return FS();if(!t)throw Es.create("no-app",{appName:e});return t}function Ts(e,t,n){var r;let a=(r=OD[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rr.warn(f.join(" "));return}Wo(new Sa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firebase-heartbeat-database",jD=1,Ku="firebase-heartbeat-store";let zp=null;function zS(){return zp||(zp=eD(LD,jD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ku)}catch(n){console.warn(n)}}}}).catch(e=>{throw Es.create("idb-open",{originalErrorMessage:e.message})})),zp}async function UD(e){try{const n=(await zS()).transaction(Ku),r=await n.objectStore(Ku).get(qS(e));return await n.done,r}catch(t){if(t instanceof Or)Rr.warn(t.message);else{const n=Es.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Rr.warn(n.message)}}}async function ST(e,t){try{const r=(await zS()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(t,qS(e)),await r.done}catch(n){if(n instanceof Or)Rr.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rr.warn(r.message)}}}function qS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1024,BD=30;class zD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=wT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>BD){const c=GD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wT(),{heartbeatsToSend:r,unsentEntries:a}=qD(this._heartbeatsCache.heartbeats),l=If(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Rr.warn(n),""}}}function wT(){return new Date().toISOString().substring(0,10)}function qD(e,t=FD){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xT(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?NI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ST(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ST(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function xT(e){return If(JSON.stringify({version:2,heartbeats:e})).length}function GD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(e){Wo(new Sa("platform-logger",t=>new rD(t),"PRIVATE")),Wo(new Sa("heartbeat",t=>new zD(t),"PRIVATE")),Ts(_g,bT,e),Ts(_g,bT,"esm2017"),Ts("fire-js","")}KD("");function gy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function HS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QD=HS,GS=new hc("auth","Firebase",HS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new dy("@firebase/auth");function YD(e,...t){Nf.logLevel<=Ut.WARN&&Nf.warn(`Auth (${ll}): ${e}`,...t)}function ff(e,...t){Nf.logLevel<=Ut.ERROR&&Nf.error(`Auth (${ll}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e,...t){throw yy(e,...t)}function Fi(e,...t){return yy(e,...t)}function KS(e,t,n){const r=Object.assign(Object.assign({},QD()),{[t]:n});return new hc("auth","Firebase",r).create(t,{appName:e.name})}function wr(e){return KS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return GS.create(e,...t)}function St(e,t,...n){if(!e)throw yy(t,...n)}function Ar(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ff(t),new Error(t)}function Cr(e,t){e||Ar(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function $D(){return RT()==="http:"||RT()==="https:"}function RT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($D()||xI()||"connection"in navigator)?navigator.onLine:!0}function WD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Cr(n>t,"Short delay should be less than long delay!"),this.isMobile=AI()||RI()}get(){return XD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(e,t){Cr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tN=new dc(3e4,6e4);function Os(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Mr(e,t,n,r,a={}){return YS(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=fc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return wI()||(p.referrerPolicy="no-referrer"),QS.fetch()(await $S(e,e.config.apiHost,n,f),p)})}async function YS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZD),t);try{const a=new nN(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Wh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Wh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Wh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw KS(e,y,p);_i(e,y)}}catch(a){if(a instanceof Or)throw a;_i(e,"network-request-failed",{message:String(a)})}}async function mc(e,t,n,r,a={}){const l=await Mr(e,t,n,r,a);return"mfaPendingCredential"in l&&_i(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function $S(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?vy(e.config,a):`${e.config.apiScheme}://${a}`;return JD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function eN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),tN.get())})}}function Wh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Fi(e,t,r);return a.customData._tokenResponse=n,a}function CT(e){return e!==void 0&&e.enterprise!==void 0}class iN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rN(e,t){return Mr(e,"GET","/v2/recaptchaConfig",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(e,t){return Mr(e,"POST","/v1/accounts:delete",t)}async function Vf(e,t){return Mr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aN(e,t=!1){const n=He(e),r=await n.getIdToken(t),a=_y(r);St(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Lu(qp(a.auth_time)),issuedAtTime:Lu(qp(a.iat)),expirationTime:Lu(qp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function qp(e){return Number(e)*1e3}function _y(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=MS(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function IT(e){const t=_y(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Or&&oN(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function oN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Zo(e,Vf(n,{idToken:r}));St(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?XS(l.providerUserInfo):[],f=cN(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Ag(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function uN(e){const t=He(e);await Of(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cN(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function XS(e){return e.map(t=>{var{providerId:n}=t,r=gy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(e,t){const n=await YS(e,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await $S(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",QS.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fN(e,t){return Mr(e,"POST","/v2/accounts:revokeToken",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):IT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=IT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await hN(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Go;return r&&(St(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(St(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class yi{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=gy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ag(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aN(this,t)}reload(){return uN(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(wr(this.auth));const t=await this.getIdToken();return await Zo(this,sN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(f=n.tenantId)!==null&&f!==void 0?f:void 0,k=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,M=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Z=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:K,emailVerified:tt,isAnonymous:X,providerData:at,stsTokenManager:N}=n;St(K&&N,t,"internal-error");const x=Go.fromJSON(this.name,N);St(typeof K=="string",t,"internal-error"),hs(_,t.name),hs(b,t.name),St(typeof tt=="boolean",t,"internal-error"),St(typeof X=="boolean",t,"internal-error"),hs(S,t.name),hs(I,t.name),hs(j,t.name),hs(k,t.name),hs(M,t.name),hs(Z,t.name);const C=new yi({uid:K,auth:t,email:b,emailVerified:tt,displayName:_,isAnonymous:X,photoURL:I,phoneNumber:S,tenantId:j,stsTokenManager:x,createdAt:M,lastLoginAt:Z});return at&&Array.isArray(at)&&(C.providerData=at.map(O=>Object.assign({},O))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(t,n,r=!1){const a=new Go;a.updateFromServerResponse(n);const l=new yi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Of(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?XS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Go;f.updateFromIdToken(r);const m=new yi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ag(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;function Sr(e){Cr(e instanceof Function,"Expected a class definition");let t=DT.get(e);return t?(Cr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,DT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}WS.type="NONE";const NT=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(e,t,n){return`firebase:${e}:${t}:${n}`}class Ko{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vf(this.auth,{idToken:t}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,t):null}return yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ko(Sr(NT),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Sr(NT);const c=df(r,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Vf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await yi._fromGetAccountInfoResponse(t,b,y)}else _=yi._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ko(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Ko(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ew(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iw(t))return"Blackberry";if(rw(t))return"Webos";if(JS(t))return"Safari";if((t.includes("chrome/")||tw(t))&&!t.includes("edge/"))return"Chrome";if(nw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZS(e=vn()){return/firefox\//i.test(e)}function JS(e=vn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tw(e=vn()){return/crios\//i.test(e)}function ew(e=vn()){return/iemobile/i.test(e)}function nw(e=vn()){return/android/i.test(e)}function iw(e=vn()){return/blackberry/i.test(e)}function rw(e=vn()){return/webos/i.test(e)}function Ey(e=vn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dN(e=vn()){var t;return Ey(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function mN(){return CI()&&document.documentMode===10}function sw(e=vn()){return Ey(e)||nw(e)||rw(e)||iw(e)||/windows phone/i.test(e)||ew(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e,t=[]){let n;switch(e){case"Browser":n=VT(vn());break;case"Worker":n=`${VT(vn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t={}){return Mr(e,"GET","/v2/passwordPolicy",Os(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=6;class vN{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:yN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new pN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vf(this,{idToken:t}),r=await yi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Of(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oi(this.app))return Promise.reject(wr(this));const n=t?He(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oi(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gN(this),n=new vN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fN(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Sr(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&YD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ma(e){return He(e)}class OT{constructor(t){this.auth=t,this.observer=null,this.addObserver=kI(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EN(e){sd=e}function ow(e){return sd.loadJS(e)}function TN(){return sd.recaptchaEnterpriseScript}function bN(){return sd.gapiScript}function AN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class SN{constructor(){this.enterprise=new wN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class wN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const xN="recaptcha-enterprise",lw="NO_RECAPTCHA";class RN{constructor(t){this.type=xN,this.auth=Ma(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{rN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new iN(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;CT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(lw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&CT(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=TN();m.length!==0&&(m+=f),ow(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function MT(e,t,n,r=!1,a=!1){const l=new RN(e);let c;if(a)c=lw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Sg(e,t,n,r,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await MT(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await MT(e,t,n,n==="getOobCode");return r(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(e,t){const n=py(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Aa(l,t??{}))return a;_i(a,"already-initialized")}return n.initialize({options:t})}function IN(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function DN(e,t,n){const r=Ma(e);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=uw(t),{host:c,port:f}=NN(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(Aa(p,r.config.emulator)&&Aa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,VN()}function uw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function NN(e){const t=uw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:PT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:PT(c)}}}function PT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function VN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(t){return Ar("not implemented")}_linkToIdToken(t,n){return Ar("not implemented")}_getReauthenticationResolver(t){return Ar("not implemented")}}async function ON(e,t){return Mr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(e,t){return mc(e,"POST","/v1/accounts:signInWithPassword",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e,t){return mc(e,"POST","/v1/accounts:signInWithEmailLink",Os(e,t))}async function kN(e,t){return mc(e,"POST","/v1/accounts:signInWithEmailLink",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Ty{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Qu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Qu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sg(t,n,"signInWithPassword",MN);case"emailLink":return PN(t,{email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sg(t,r,"signUpPassword",ON);case"emailLink":return kN(t,{idToken:n,email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(e,t){return mc(e,"POST","/v1/accounts:signInWithIdp",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="http://localhost";class wa extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=gy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new wa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Qo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Qo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qo(t,n)}buildRequest(){const t={requestUri:LN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=fc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UN(e){const t=Cu(Iu(e)).link,n=t?Cu(Iu(t)).deep_link_id:null,r=Cu(Iu(e)).deep_link_id;return(r?Cu(Iu(r)).link:null)||r||n||t||e}class by{constructor(t){var n,r,a,l,c,f;const m=Cu(Iu(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=jN((a=m.mode)!==null&&a!==void 0?a:null);St(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const n=UN(t);try{return new by(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(t,n){return Qu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=by.parseLink(n);return St(r,"argument-error"),Qu._fromEmailAndCode(t,r.code,r.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends cw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends pc{constructor(){super("facebook.com")}static credential(t){return wa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ms.credential(t.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return wa._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends pc{constructor(){super("github.com")}static credential(t){return wa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends pc{constructor(){super("twitter.com")}static credential(t,n){return wa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(e,t){return mc(e,"POST","/v1/accounts:signUp",Os(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await yi._fromIdTokenResponse(t,r,a),c=kT(r);return new xa({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=kT(r);return new xa({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function kT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Or{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Mf(t,n,r,a)}}function hw(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(e,l,t,r):l})}async function BN(e,t,n=!1){const r=await Zo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xa._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(e,t,n=!1){const{auth:r}=e;if(oi(r.app))return Promise.reject(wr(r));const a="reauthenticate";try{const l=await Zo(e,hw(r,a,t,e),n);St(l.idToken,r,"internal-error");const c=_y(l.idToken);St(c,r,"internal-error");const{sub:f}=c;return St(e.uid===f,r,"user-mismatch"),xa._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&_i(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(e,t,n=!1){if(oi(e.app))return Promise.reject(wr(e));const r="signIn",a=await hw(e,r,t),l=await xa._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function qN(e,t){return fw(Ma(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(e){const t=Ma(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function HN(e,t,n){if(oi(e.app))return Promise.reject(wr(e));const r=Ma(e),c=await Sg(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&dw(e),m}),f=await xa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function GN(e,t,n){return oi(e.app)?Promise.reject(wr(e)):qN(He(e),ul.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dw(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(e,t){return Mr(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=He(e),l={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},c=await Zo(r,KN(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function YN(e,t,n,r){return He(e).onIdTokenChanged(t,n,r)}function $N(e,t,n){return He(e).beforeAuthStateChanged(t,n)}function XN(e,t,n,r){return He(e).onAuthStateChanged(t,n,r)}function WN(e){return He(e).signOut()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1e3,JN=10;class pw extends mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);mN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,JN):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}pw.type="LOCAL";const tV=pw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}gw.type="SESSION";const yw=gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new ad(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await eV(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=Ay("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function iV(e){Bi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function rV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sV(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function aV(){return vw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebaseLocalStorageDb",oV=1,kf="firebaseLocalStorage",Ew="fbase_key";class gc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(e,t){return e.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function lV(){const e=indexedDB.deleteDatabase(_w);return new gc(e).toPromise()}function wg(){const e=indexedDB.open(_w,oV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(kf,{keyPath:Ew})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(kf)?t(r):(r.close(),await lV(),t(await wg()))})})}async function LT(e,t,n){const r=od(e,!0).put({[Ew]:t,value:n});return new gc(r).toPromise()}async function uV(e,t){const n=od(e,!1).get(t),r=await new gc(n).toPromise();return r===void 0?null:r.value}function jT(e,t){const n=od(e,!0).delete(t);return new gc(n).toPromise()}const cV=800,hV=3;class Tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>hV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(aV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await rV(),!this.activeServiceWorker)return;this.sender=new nV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wg();return await LT(t,Pf,"1"),await jT(t,Pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>uV(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=od(a,!1).getAll();return new gc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tw.type="LOCAL";const fV=Tw;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(e,t){return t?Sr(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends Ty{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function mV(e){return fw(e.auth,new Sy(e),e.bypassAuthState)}function pV(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),zN(n,new Sy(e),e.bypassAuthState)}async function gV(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),BN(n,new Sy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return pV;default:_i(this.auth,"internal-error")}}resolve(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new dc(2e3,1e4);class jo extends bw{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const t=Ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yV.get())};t()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="pendingRedirect",mf=new Map;class _V extends bw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=mf.get(this.auth._key());if(!t){try{const r=await EV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}mf.set(this.auth._key(),t)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EV(e,t){const n=AV(t),r=bV(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function TV(e,t){mf.set(e._key(),t)}function bV(e){return Sr(e._redirectPersistence)}function AV(e){return df(vV,e.config.apiKey,e.name)}async function SV(e,t,n=!1){if(oi(e.app))return Promise.reject(wr(e));const r=Ma(e),a=dV(r,t),c=await new _V(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=10*60*1e3;class xV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Aw(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wV&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(t))}saveEventToCache(t){this.cachedEventUids.add(UT(t)),this.lastProcessedEventTime=Date.now()}}function UT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Aw({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function RV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(e,t={}){return Mr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DV=/^https?/;async function NV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await CV(e);for(const n of t)try{if(VV(n))return}catch{}_i(e,"unauthorized-domain")}function VV(e){const t=bg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!DV.test(n))return!1;if(IV.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new dc(3e4,6e4);function FT(){const e=Bi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function MV(e){return new Promise((t,n)=>{var r,a,l;function c(){FT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{FT(),n(Fi(e,"network-request-failed"))},timeout:OV.get()})}if(!((a=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Bi().gapi)===null||l===void 0)&&l.load)c();else{const f=AN("iframefcb");return Bi()[f]=()=>{gapi.load?c():n(Fi(e,"network-request-failed"))},ow(`${bN()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw pf=null,t})}let pf=null;function PV(e){return pf=pf||MV(e),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new dc(5e3,15e3),LV="__/auth/iframe",jV="emulator/auth/iframe",UV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BV(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vy(t,jV):`https://${e.config.authDomain}/${LV}`,r={apiKey:t.apiKey,appName:e.name,v:ll},a=FV.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${fc(r).slice(1)}`}async function zV(e){const t=await PV(e),n=Bi().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:BV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Fi(e,"network-request-failed"),f=Bi().setTimeout(()=>{l(c)},kV.get());function m(){Bi().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HV=500,GV=600,KV="_blank",QV="http://localhost";class BT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YV(e,t,n,r=HV,a=GV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},qV),{width:r.toString(),height:a.toString(),top:l,left:c}),p=vn().toLowerCase();n&&(f=tw(p)?KV:n),ZS(p)&&(t=t||QV,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[S,I])=>`${b}${S}=${I},`,"");if(dN(p)&&f!=="_self")return $V(t||"",f),new BT(null);const _=window.open(t||"",f,y);St(_,e,"popup-blocked");try{_.focus()}catch{}return new BT(_)}function $V(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="__/auth/handler",WV="emulator/auth/handler",ZV=encodeURIComponent("fac");async function zT(e,t,n,r,a,l){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ll,eventId:a};if(t instanceof cw){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",PI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof pc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${ZV}=${encodeURIComponent(m)}`:"";return`${JV(e)}?${fc(f).slice(1)}${p}`}function JV({config:e}){return e.emulator?vy(e,WV):`https://${e.authDomain}/${XV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class tO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yw,this._completeRedirectFn=SV,this._overrideRedirectResult=TV}async _openPopup(t,n,r,a){var l;Cr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await zT(t,n,r,bg(),a);return YV(t,c,Ay())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await zT(t,n,r,bg(),a);return iV(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Cr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await zV(t),r=new xV(t);return n.register("authEvent",a=>(St(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Hp,{type:Hp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Hp];c!==void 0&&n(!!c),_i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sw()||JS()||Ey()}}const eO=tO;var qT="@firebase/auth",HT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rO(e){Wo(new Sa("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aw(e)},p=new _N(r,a,l,m);return IN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Wo(new Sa("auth-internal",t=>{const n=Ma(t.getProvider("auth").getImmediate());return(r=>new nO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(qT,HT,iO(e)),Ts(qT,HT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=5*60,aO=LS("authIdTokenMaxAge")||sO;let GT=null;const oO=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aO)return;const a=n==null?void 0:n.token;GT!==a&&(GT=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function yc(e=BS()){const t=py(e,"auth");if(t.isInitialized())return t.getImmediate();const n=CN(e,{popupRedirectResolver:eO,persistence:[fV,tV,yw]}),r=LS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=oO(l.toString());$N(n,c,()=>c(n.currentUser)),YN(n,f=>c(f))}}const a=PS("auth");return a&&DN(n,`http://${a}`),n}function lO(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}EN({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=Fi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",lO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rO("Browser");var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,Sw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,x){function C(){}C.prototype=x.prototype,N.D=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(O,P,F){for(var V=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)V[_t-2]=arguments[_t];return x.prototype[P].apply(O,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,x,C){C||(C=0);var O=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)O[P]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(P=0;16>P;++P)O[P]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],P=N.g[2];var F=N.g[3],V=x+(F^C&(P^F))+O[0]+3614090360&4294967295;x=C+(V<<7&4294967295|V>>>25),V=F+(P^x&(C^P))+O[1]+3905402710&4294967295,F=x+(V<<12&4294967295|V>>>20),V=P+(C^F&(x^C))+O[2]+606105819&4294967295,P=F+(V<<17&4294967295|V>>>15),V=C+(x^P&(F^x))+O[3]+3250441966&4294967295,C=P+(V<<22&4294967295|V>>>10),V=x+(F^C&(P^F))+O[4]+4118548399&4294967295,x=C+(V<<7&4294967295|V>>>25),V=F+(P^x&(C^P))+O[5]+1200080426&4294967295,F=x+(V<<12&4294967295|V>>>20),V=P+(C^F&(x^C))+O[6]+2821735955&4294967295,P=F+(V<<17&4294967295|V>>>15),V=C+(x^P&(F^x))+O[7]+4249261313&4294967295,C=P+(V<<22&4294967295|V>>>10),V=x+(F^C&(P^F))+O[8]+1770035416&4294967295,x=C+(V<<7&4294967295|V>>>25),V=F+(P^x&(C^P))+O[9]+2336552879&4294967295,F=x+(V<<12&4294967295|V>>>20),V=P+(C^F&(x^C))+O[10]+4294925233&4294967295,P=F+(V<<17&4294967295|V>>>15),V=C+(x^P&(F^x))+O[11]+2304563134&4294967295,C=P+(V<<22&4294967295|V>>>10),V=x+(F^C&(P^F))+O[12]+1804603682&4294967295,x=C+(V<<7&4294967295|V>>>25),V=F+(P^x&(C^P))+O[13]+4254626195&4294967295,F=x+(V<<12&4294967295|V>>>20),V=P+(C^F&(x^C))+O[14]+2792965006&4294967295,P=F+(V<<17&4294967295|V>>>15),V=C+(x^P&(F^x))+O[15]+1236535329&4294967295,C=P+(V<<22&4294967295|V>>>10),V=x+(P^F&(C^P))+O[1]+4129170786&4294967295,x=C+(V<<5&4294967295|V>>>27),V=F+(C^P&(x^C))+O[6]+3225465664&4294967295,F=x+(V<<9&4294967295|V>>>23),V=P+(x^C&(F^x))+O[11]+643717713&4294967295,P=F+(V<<14&4294967295|V>>>18),V=C+(F^x&(P^F))+O[0]+3921069994&4294967295,C=P+(V<<20&4294967295|V>>>12),V=x+(P^F&(C^P))+O[5]+3593408605&4294967295,x=C+(V<<5&4294967295|V>>>27),V=F+(C^P&(x^C))+O[10]+38016083&4294967295,F=x+(V<<9&4294967295|V>>>23),V=P+(x^C&(F^x))+O[15]+3634488961&4294967295,P=F+(V<<14&4294967295|V>>>18),V=C+(F^x&(P^F))+O[4]+3889429448&4294967295,C=P+(V<<20&4294967295|V>>>12),V=x+(P^F&(C^P))+O[9]+568446438&4294967295,x=C+(V<<5&4294967295|V>>>27),V=F+(C^P&(x^C))+O[14]+3275163606&4294967295,F=x+(V<<9&4294967295|V>>>23),V=P+(x^C&(F^x))+O[3]+4107603335&4294967295,P=F+(V<<14&4294967295|V>>>18),V=C+(F^x&(P^F))+O[8]+1163531501&4294967295,C=P+(V<<20&4294967295|V>>>12),V=x+(P^F&(C^P))+O[13]+2850285829&4294967295,x=C+(V<<5&4294967295|V>>>27),V=F+(C^P&(x^C))+O[2]+4243563512&4294967295,F=x+(V<<9&4294967295|V>>>23),V=P+(x^C&(F^x))+O[7]+1735328473&4294967295,P=F+(V<<14&4294967295|V>>>18),V=C+(F^x&(P^F))+O[12]+2368359562&4294967295,C=P+(V<<20&4294967295|V>>>12),V=x+(C^P^F)+O[5]+4294588738&4294967295,x=C+(V<<4&4294967295|V>>>28),V=F+(x^C^P)+O[8]+2272392833&4294967295,F=x+(V<<11&4294967295|V>>>21),V=P+(F^x^C)+O[11]+1839030562&4294967295,P=F+(V<<16&4294967295|V>>>16),V=C+(P^F^x)+O[14]+4259657740&4294967295,C=P+(V<<23&4294967295|V>>>9),V=x+(C^P^F)+O[1]+2763975236&4294967295,x=C+(V<<4&4294967295|V>>>28),V=F+(x^C^P)+O[4]+1272893353&4294967295,F=x+(V<<11&4294967295|V>>>21),V=P+(F^x^C)+O[7]+4139469664&4294967295,P=F+(V<<16&4294967295|V>>>16),V=C+(P^F^x)+O[10]+3200236656&4294967295,C=P+(V<<23&4294967295|V>>>9),V=x+(C^P^F)+O[13]+681279174&4294967295,x=C+(V<<4&4294967295|V>>>28),V=F+(x^C^P)+O[0]+3936430074&4294967295,F=x+(V<<11&4294967295|V>>>21),V=P+(F^x^C)+O[3]+3572445317&4294967295,P=F+(V<<16&4294967295|V>>>16),V=C+(P^F^x)+O[6]+76029189&4294967295,C=P+(V<<23&4294967295|V>>>9),V=x+(C^P^F)+O[9]+3654602809&4294967295,x=C+(V<<4&4294967295|V>>>28),V=F+(x^C^P)+O[12]+3873151461&4294967295,F=x+(V<<11&4294967295|V>>>21),V=P+(F^x^C)+O[15]+530742520&4294967295,P=F+(V<<16&4294967295|V>>>16),V=C+(P^F^x)+O[2]+3299628645&4294967295,C=P+(V<<23&4294967295|V>>>9),V=x+(P^(C|~F))+O[0]+4096336452&4294967295,x=C+(V<<6&4294967295|V>>>26),V=F+(C^(x|~P))+O[7]+1126891415&4294967295,F=x+(V<<10&4294967295|V>>>22),V=P+(x^(F|~C))+O[14]+2878612391&4294967295,P=F+(V<<15&4294967295|V>>>17),V=C+(F^(P|~x))+O[5]+4237533241&4294967295,C=P+(V<<21&4294967295|V>>>11),V=x+(P^(C|~F))+O[12]+1700485571&4294967295,x=C+(V<<6&4294967295|V>>>26),V=F+(C^(x|~P))+O[3]+2399980690&4294967295,F=x+(V<<10&4294967295|V>>>22),V=P+(x^(F|~C))+O[10]+4293915773&4294967295,P=F+(V<<15&4294967295|V>>>17),V=C+(F^(P|~x))+O[1]+2240044497&4294967295,C=P+(V<<21&4294967295|V>>>11),V=x+(P^(C|~F))+O[8]+1873313359&4294967295,x=C+(V<<6&4294967295|V>>>26),V=F+(C^(x|~P))+O[15]+4264355552&4294967295,F=x+(V<<10&4294967295|V>>>22),V=P+(x^(F|~C))+O[6]+2734768916&4294967295,P=F+(V<<15&4294967295|V>>>17),V=C+(F^(P|~x))+O[13]+1309151649&4294967295,C=P+(V<<21&4294967295|V>>>11),V=x+(P^(C|~F))+O[4]+4149444226&4294967295,x=C+(V<<6&4294967295|V>>>26),V=F+(C^(x|~P))+O[11]+3174756917&4294967295,F=x+(V<<10&4294967295|V>>>22),V=P+(x^(F|~C))+O[2]+718787259&4294967295,P=F+(V<<15&4294967295|V>>>17),V=C+(F^(P|~x))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var C=x-this.blockSize,O=this.B,P=this.h,F=0;F<x;){if(P==0)for(;F<=C;)a(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<x;)if(O[P++]=N.charCodeAt(F++),P==this.blockSize){a(this,O),P=0;break}}else for(;F<x;)if(O[P++]=N[F++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=x},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var C=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=C&255,C/=256;for(this.u(N),N=Array(16),x=C=0;4>x;++x)for(var O=0;32>O;O+=8)N[C++]=this.g[x]>>>O&255;return N};function l(N,x){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function c(N,x){this.h=x;for(var C=[],O=!0,P=N.length-1;0<=P;P--){var F=N[P]|0;O&&F==x||(C[P]=F,O=!1)}this.g=C}var f={};function m(N){return-128<=N&&128>N?l(N,function(x){return new c([x|0],0>x?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return k(p(-N));for(var x=[],C=1,O=0;N>=C;O++)x[O]=N/C|0,C*=4294967296;return new c(x,0)}function y(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return k(y(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(x,8)),O=_,P=0;P<N.length;P+=8){var F=Math.min(8,N.length-P),V=parseInt(N.substring(P,P+F),x);8>F?(F=p(Math.pow(x,F)),O=O.j(F).add(p(V))):(O=O.j(C),O=O.add(p(V)))}return O}var _=m(0),b=m(1),S=m(16777216);e=c.prototype,e.m=function(){if(j(this))return-k(this).m();for(var N=0,x=1,C=0;C<this.g.length;C++){var O=this.i(C);N+=(0<=O?O:4294967296+O)*x,x*=4294967296}return N},e.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(j(this))return"-"+k(this).toString(N);for(var x=p(Math.pow(N,6)),C=this,O="";;){var P=tt(C,x).g;C=M(C,P.j(x));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=P,I(C))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},e.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function j(N){return N.h==-1}e.l=function(N){return N=M(this,N),j(N)?-1:I(N)?0:1};function k(N){for(var x=N.g.length,C=[],O=0;O<x;O++)C[O]=~N.g[O];return new c(C,~N.h).add(b)}e.abs=function(){return j(this)?k(this):this},e.add=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],O=0,P=0;P<=x;P++){var F=O+(this.i(P)&65535)+(N.i(P)&65535),V=(F>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);O=V>>>16,F&=65535,V&=65535,C[P]=V<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function M(N,x){return N.add(k(x))}e.j=function(N){if(I(this)||I(N))return _;if(j(this))return j(N)?k(this).j(k(N)):k(k(this).j(N));if(j(N))return k(this.j(k(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var x=this.g.length+N.g.length,C=[],O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<N.g.length;P++){var F=this.i(O)>>>16,V=this.i(O)&65535,_t=N.i(P)>>>16,ne=N.i(P)&65535;C[2*O+2*P]+=V*ne,Z(C,2*O+2*P),C[2*O+2*P+1]+=F*ne,Z(C,2*O+2*P+1),C[2*O+2*P+1]+=V*_t,Z(C,2*O+2*P+1),C[2*O+2*P+2]+=F*_t,Z(C,2*O+2*P+2)}for(O=0;O<x;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=x;O<2*x;O++)C[O]=0;return new c(C,0)};function Z(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function K(N,x){this.g=N,this.h=x}function tt(N,x){if(I(x))throw Error("division by zero");if(I(N))return new K(_,_);if(j(N))return x=tt(k(N),x),new K(k(x.g),k(x.h));if(j(x))return x=tt(N,k(x)),new K(k(x.g),x.h);if(30<N.g.length){if(j(N)||j(x))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=x;0>=O.l(N);)C=X(C),O=X(O);var P=at(C,1),F=at(O,1);for(O=at(O,2),C=at(C,2);!I(O);){var V=F.add(O);0>=V.l(N)&&(P=P.add(C),F=V),O=at(O,1),C=at(C,1)}return x=M(N,P.j(x)),new K(P,x)}for(P=_;0<=N.l(x);){for(C=Math.max(1,Math.floor(N.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=p(C),V=F.j(x);j(V)||0<V.l(N);)C-=O,F=p(C),V=F.j(x);I(F)&&(F=b),P=P.add(F),N=M(N,V)}return new K(P,N)}e.A=function(N){return tt(this,N).h},e.and=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)&N.i(O);return new c(C,this.h&N.h)},e.or=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)|N.i(O);return new c(C,this.h|N.h)},e.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)^N.i(O);return new c(C,this.h^N.h)};function X(N){for(var x=N.g.length+1,C=[],O=0;O<x;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new c(C,N.h)}function at(N,x){var C=x>>5;x%=32;for(var O=N.g.length-C,P=[],F=0;F<O;F++)P[F]=0<x?N.i(F+C)>>>x|N.i(F+C+1)<<32-x:N.i(F+C);return new c(P,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,bs=c}).apply(typeof KT<"u"?KT:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,Du,xw,gf,xg,Rw,Cw,Iw;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var E=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var z=h[R];if(!(z in E))break t;E=E[z]}h=h[h.length-1],R=E[h],v=v(R),v!=R&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,R=!1,z={next:function(){if(!R&&E<h.length){var J=E++;return{value:v(J,h[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function _(h,v,E){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,R),h.apply(v,z)}}return function(){return h.apply(v,arguments)}}function b(h,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function S(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function I(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(R,z,J){for(var ct=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ct[zt-2]=arguments[zt];return v.prototype[z].apply(R,ct)}}function j(h){const v=h.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=h[R];return E}return[]}function k(h,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(m(R)){const z=h.length||0,J=R.length||0;h.length=z+J;for(let ct=0;ct<J;ct++)h[z+ct]=R[ct]}else h.push(R)}}class M{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function tt(h){return tt[" "](h),h}tt[" "]=function(){};var X=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function at(h,v,E){for(const R in h)v.call(E,h[R],R,h)}function N(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function x(h){const v={};for(const E in h)v[E]=h[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let E,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(E in R)h[E]=R[E];for(let J=0;J<C.length;J++)E=C[J],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function P(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function F(h){f.setTimeout(()=>{throw h},0)}function V(){var h=Dt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class _t{constructor(){this.h=this.g=null}add(v,E){const R=ne.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var ne=new M(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ht=!1,Dt=new _t,Tt=()=>{const h=f.Promise.resolve(void 0);lt=()=>{h.then(pt)}};var pt=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(E){F(E)}var v=ne;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ht=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return h}();function ut(h,v){if(Y.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){t:{try{tt(v.nodeName);var z=!0;break t}catch{}z=!1}z||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:gt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ut.aa.h.call(this)}}I(ut,Y);var gt={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),jt=0;function Mt(h,v,E,R,z){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=z,this.key=++jt,this.da=this.fa=!1}function Nt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Jt(h){this.src=h,this.g={},this.h=0}Jt.prototype.add=function(h,v,E,R,z){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ct=Pe(h,v,R,z);return-1<ct?(v=h[ct],E||(v.fa=!1)):(v=new Mt(v,this.src,J,!!R,z),v.fa=E,h.push(v)),v};function fe(h,v){var E=v.type;if(E in h.g){var R=h.g[E],z=Array.prototype.indexOf.call(R,v,void 0),J;(J=0<=z)&&Array.prototype.splice.call(R,z,1),J&&(Nt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Pe(h,v,E,R){for(var z=0;z<h.length;++z){var J=h[z];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==R)return z}return-1}var cn="closure_lm_"+(1e6*Math.random()|0),de={};function ce(h,v,E,R,z){if(Array.isArray(v)){for(var J=0;J<v.length;J++)ce(h,v[J],E,R,z);return null}return E=Gn(E),h&&h[Rt]?h.K(v,E,p(R)?!!R.capture:!1,z):ke(h,v,E,!1,R,z)}function ke(h,v,E,R,z,J){if(!v)throw Error("Invalid event type");var ct=p(z)?!!z.capture:!!z,zt=Wi(h);if(zt||(h[cn]=zt=new Jt(h)),E=zt.add(v,E,R,ct,J),E.proxy)return E;if(R=Fa(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)ot||(z=ct),z===void 0&&(z=!1),h.addEventListener(v.toString(),R,z);else if(h.attachEvent)h.attachEvent(En(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Fa(){function h(E){return v.call(h.src,h.listener,E)}const v=Dn;return h}function kr(h,v,E,R,z){if(Array.isArray(v))for(var J=0;J<v.length;J++)kr(h,v[J],E,R,z);else R=p(R)?!!R.capture:!!R,E=Gn(E),h&&h[Rt]?(h=h.i,v=String(v).toString(),v in h.g&&(J=h.g[v],E=Pe(J,E,R,z),-1<E&&(Nt(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete h.g[v],h.h--)))):h&&(h=Wi(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Pe(v,E,R,z)),(E=-1<h?v[h]:null)&&_n(E))}function _n(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Rt])fe(v.i,h);else{var E=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(E,R,h.capture):v.detachEvent?v.detachEvent(En(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Wi(v))?(fe(E,h),E.h==0&&(E.src=null,v[cn]=null)):Nt(h)}}}function En(h){return h in de?de[h]:de[h]="on"+h}function Dn(h,v){if(h.da)h=!0;else{v=new ut(v,this);var E=h.listener,R=h.ha||h.src;h.fa&&_n(h),h=E.call(R,v)}return h}function Wi(h){return h=h[cn],h instanceof Jt?h:null}var ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(h){return typeof h=="function"?h:(h[ui]||(h[ui]=function(v){return h.handleEvent(v)}),h[ui])}function Qt(){U.call(this),this.i=new Jt(this),this.M=this,this.F=null}I(Qt,U),Qt.prototype[Rt]=!0,Qt.prototype.removeEventListener=function(h,v,E,R){kr(this,h,v,E,R)};function Bt(h,v){var E,R=h.F;if(R)for(E=[];R;R=R.F)E.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new Y(v,h);else if(v instanceof Y)v.target=v.target||h;else{var z=v;v=new Y(R,h),O(v,z)}if(z=!0,E)for(var J=E.length-1;0<=J;J--){var ct=v.g=E[J];z=Tn(ct,R,!0,v)&&z}if(ct=v.g=h,z=Tn(ct,R,!0,v)&&z,z=Tn(ct,R,!1,v)&&z,E)for(J=0;J<E.length;J++)ct=v.g=E[J],z=Tn(ct,R,!1,v)&&z}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],R=0;R<E.length;R++)Nt(E[R]);delete h.g[v],h.h--}}this.F=null},Qt.prototype.K=function(h,v,E,R){return this.i.add(String(h),v,!1,E,R)},Qt.prototype.L=function(h,v,E,R){return this.i.add(String(h),v,!0,E,R)};function Tn(h,v,E,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,J=0;J<v.length;++J){var ct=v[J];if(ct&&!ct.da&&ct.capture==E){var zt=ct.listener,je=ct.ha||ct.src;ct.fa&&fe(h.i,ct),z=zt.call(je,R)!==!1&&z}}return z&&!R.defaultPrevented}function Ge(h,v,E){if(typeof h=="function")E&&(h=b(h,E));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Ba(h){h.g=Ge(()=>{h.g=null,h.i&&(h.i=!1,Ba(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class kd extends U{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ba(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(h){U.call(this),this.h=h,this.g={}}I(Ls,U);var js=[];function Us(h){at(h.g,function(v,E){this.g.hasOwnProperty(E)&&_n(v)},h),h.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Us(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=f.JSON.stringify,za=f.JSON.parse,Fs=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function El(){}El.prototype.h=null;function Tl(h){return h.h||(h.h=h.i())}function bl(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){Y.call(this,"d")}I(Ji,Y);function Al(){Y.call(this,"c")}I(Al,Y);var Ti={},Sl=null;function Lr(){return Sl=Sl||new Qt}Ti.La="serverreachability";function qa(h){Y.call(this,Ti.La,h)}I(qa,Y);function jr(h){const v=Lr();Bt(v,new qa(v))}Ti.STAT_EVENT="statevent";function Dc(h,v){Y.call(this,Ti.STAT_EVENT,h),this.stat=v}I(Dc,Y);function me(h){const v=Lr();Bt(v,new Dc(v,h))}Ti.Ma="timingevent";function Le(h,v){Y.call(this,Ti.Ma,h),this.size=v}I(Le,Y);function Ie(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function wl(h,v,E,R,z,J){h.info(function(){if(h.g)if(J)for(var ct="",zt=J.split("&"),je=0;je<zt.length;je++){var qt=zt[je].split("=");if(1<qt.length){var Qe=qt[0];qt=qt[1];var Ue=Qe.split("_");ct=2<=Ue.length&&Ue[1]=="type"?ct+(Qe+"="+qt+"&"):ct+(Qe+"=redacted&")}}else ct=null;else ct=J;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+v+`
`+E+`
`+ct})}function Ld(h,v,E,R,z,J,ct){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+v+`
`+E+`
`+J+" "+ct})}function Ur(h,v,E,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bs(h,E)+(R?" "+R:"")})}function Nc(h,v){h.info(function(){return"TIMEOUT: "+v})}Kn.prototype.info=function(){};function Bs(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var R=E[h];if(!(2>R.length)){var z=R[1];if(Array.isArray(z)&&!(1>z.length)){var J=z[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ct=1;ct<z.length;ct++)z[ct]=""}}}}return ci(E)}catch{return v}}var Fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Ai(){}I(Ai,El),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},bi=new Ai;function bn(h,v,E,R){this.j=h,this.i=v,this.l=E,this.R=R||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Se}function Se(){this.i=null,this.g="",this.h=!1}var xl={},Ha={};function hi(h,v,E){h.L=1,h.v=Ks(kn(v)),h.m=E,h.P=!0,er(h,null)}function er(h,v){h.F=Date.now(),zs(h),h.A=kn(h.v);var E=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Vl(E.i,"t",R),h.C=0,E=h.j.J,h.h=new Se,h.g=Qc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new kd(b(h.Y,h,h.g),h.O)),v=h.U,E=h.g,R=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(js[0]=z.toString()),z=js);for(var J=0;J<z.length;J++){var ct=ce(E,z[J],R||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),jr(),wl(h.i,h.u,h.A,h.l,h.R,h.m)}bn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Xn(h)==3?v.j():this.Y(h)},bn.prototype.Y=function(h){try{if(h==this.g)t:{const Ue=Xn(this.g);var v=this.g.Ba();const ur=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||Uc(this.g)))){this.J||Ue!=4||v==7||(v==8||0>=ur?jr(3):jr(2)),Br(this);var E=this.g.Z();this.X=E;e:if(Vc(this)){var R=Uc(this.g);h="";var z=R.length,J=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ze(this),Si(this);var ct="";break e}this.h.i=new f.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(J&&v==z-1)});R.length=0,this.h.g+=h,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=E==200,Ld(this.i,this.u,this.A,this.l,this.R,Ue,E),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,je=this.g;if((zt=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(zt)){var qt=zt;break e}}qt=null}if(E=qt)Ur(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qs(this,E);else{this.o=!1,this.s=3,me(12),Ze(this),Si(this);break t}}if(this.P){E=!0;let Je;for(;!this.J&&this.C<ct.length;)if(Je=Oc(this,ct),Je==Ha){Ue==4&&(this.s=4,me(14),E=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==xl){this.s=4,me(15),Ur(this.i,this.l,ct,"[Invalid Chunk]"),E=!1;break}else Ur(this.i,this.l,Je,null),qs(this,Je);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||ct.length!=0||this.h.h||(this.s=1,me(16),E=!1),this.o=this.o&&E,!E)Ur(this.i,this.l,ct,"[Invalid Chunked Response]"),Ze(this),Si(this);else if(0<ct.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),ta(Qe),Qe.M=!0,me(11))}}else Ur(this.i,this.l,ct,null),qs(this,ct);Ue==4&&Ze(this),this.o&&!this.J&&(Ue==4?Hc(this.j,this):(this.o=!1,zs(this)))}else zd(this.g),E==400&&0<ct.indexOf("Unknown SID")?(this.s=3,me(12)):(this.s=0,me(13)),Ze(this),Si(this)}}}catch{}finally{}};function Vc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Oc(h,v){var E=h.C,R=v.indexOf(`
`,E);return R==-1?Ha:(E=Number(v.substring(E,R)),isNaN(E)?xl:(R+=1,R+E>v.length?Ha:(v=v.slice(R,R+E),h.C=R+E,v)))}bn.prototype.cancel=function(){this.J=!0,Ze(this)};function zs(h){h.S=Date.now()+h.I,Mc(h,h.I)}function Mc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ie(b(h.ba,h),v)}function Br(h){h.B&&(f.clearTimeout(h.B),h.B=null)}bn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Nc(this.i,this.A),this.L!=2&&(jr(),me(17)),Ze(this),this.s=2,Si(this)):Mc(this,this.S-h)};function Si(h){h.j.G==0||h.J||Hc(h.j,h)}function Ze(h){Br(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Us(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function qs(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Rl(E.h,h))){if(!h.K&&Rl(E.h,h)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)no(E),to(E);else break t;Ll(E),me(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ie(b(E.Za,E),6e3));if(1>=Ka(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else lr(E,11)}else if((h.K||E.g==h)&&no(E),!Z(v))for(z=E.Da.g.parse(v),v=0;v<z.length;v++){let qt=z[v];if(E.T=qt[0],qt=qt[1],E.G==2)if(qt[0]=="c"){E.K=qt[1],E.ia=qt[2];const Qe=qt[3];Qe!=null&&(E.la=Qe,E.j.info("VER="+E.la));const Ue=qt[4];Ue!=null&&(E.Aa=Ue,E.j.info("SVER="+E.Aa));const ur=qt[5];ur!=null&&typeof ur=="number"&&0<ur&&(R=1.5*ur,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Je=h.g;if(Je){const Ni=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var J=R.h;J.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Qa(J,J.h),J.h=null))}if(R.D){const Ul=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;Ul&&(R.ya=Ul,ie(R.I,R.D,Ul))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ct=h;if(R.qa=Kc(R,R.J?R.ia:null,R.W),ct.K){An(R.h,ct);var zt=ct,je=R.L;je&&(zt.I=je),zt.B&&(Br(zt),zs(zt)),R.g=ct}else zc(R);0<E.i.length&&eo(E)}else qt[0]!="stop"&&qt[0]!="close"||lr(E,7);else E.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?lr(E,7):Pl(E):qt[0]!="noop"&&E.l&&E.l.ta(qt),E.v=0)}}jr(4)}catch{}}var Pc=class{constructor(h,v){this.g=h,this.map=v}};function nr(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ka(h){return h.h?1:h.g?h.g.size:0}function Rl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Qa(h,v){h.g?h.g.add(v):h.h=v}function An(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}nr.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Cl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return j(h.i)}function jd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,R=0;R<E;R++)v.push(h[R]);return v}v=[],E=0;for(R in h)v[E++]=h[R];return v}function Ya(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const R in h)v[E++]=R;return v}}}function Il(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Ya(h),R=jd(h),z=R.length,J=0;J<z;J++)v.call(void 0,R[J],E&&E[J],h)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ud(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var R=h[E].indexOf("="),z=null;if(0<=R){var J=h[E].substring(0,R);z=h[E].substring(R+1)}else J=h[E];v(J,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function De(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof De){this.h=h.h,Gs(this,h.j),this.o=h.o,this.g=h.g,zr(this,h.s),this.l=h.l;var v=h.i,E=new rr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),ir(this,E),this.m=h.m}else h&&(v=String(h).match(Hs))?(this.h=!1,Gs(this,v[1]||"",!0),this.o=Qn(v[2]||""),this.g=Qn(v[3]||"",!0),zr(this,v[4]),this.l=Qn(v[5]||"",!0),ir(this,v[6]||"",!0),this.m=Qn(v[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}De.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Qs(v,Dl,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Qs(v,Dl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Qs(E,E.charAt(0)=="/"?Fd:Nl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Qs(E,$a)),h.join("")};function kn(h){return new De(h)}function Gs(h,v,E){h.j=E?Qn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function zr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ir(h,v,E){v instanceof rr?(h.i=v,Lc(h.i,h.h)):(E||(v=Qs(v,Bd)),h.i=new rr(v,h.h))}function ie(h,v,E){h.i.set(v,E)}function Ks(h){return ie(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Qn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qs(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,kc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function kc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Dl=/[#\/\?@]/g,Nl=/[#\?:]/g,Fd=/[#\?]/g,Bd=/[#\?@]/g,$a=/#/g;function rr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ud(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=rr.prototype,e.add=function(h,v){Yn(this),this.i=null,h=wi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function sr(h,v){Yn(h),v=wi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ar(h,v){return Yn(h),v=wi(h,v),h.g.has(v)}e.forEach=function(h,v){Yn(this),this.g.forEach(function(E,R){E.forEach(function(z){h.call(v,z,R,this)},this)},this)},e.na=function(){Yn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const z=h[R];for(let J=0;J<z.length;J++)E.push(v[R])}return E},e.V=function(h){Yn(this);let v=[];if(typeof h=="string")ar(this,h)&&(v=v.concat(this.g.get(wi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},e.set=function(h,v){return Yn(this),this.i=null,h=wi(this,h),ar(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Vl(h,v,E){sr(h,v),0<E.length&&(h.i=null,h.g.set(wi(h,v),j(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const J=encodeURIComponent(String(R)),ct=this.V(R);for(R=0;R<ct.length;R++){var z=J;ct[R]!==""&&(z+="="+encodeURIComponent(String(ct[R]))),h.push(z)}}return this.i=h.join("&")};function wi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Lc(h,v){v&&!h.j&&(Yn(h),h.i=null,h.g.forEach(function(E,R){var z=R.toLowerCase();R!=z&&(sr(this,R),Vl(this,z,E))},h)),h.j=v}function Ys(h,v){const E=new Kn;if(f.Image){const R=new Image;R.onload=S($n,E,"TestLoadImage: loaded",!0,v,R),R.onerror=S($n,E,"TestLoadImage: error",!1,v,R),R.onabort=S($n,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=S($n,E,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function fi(h,v){const E=new Kn,R=new AbortController,z=setTimeout(()=>{R.abort(),$n(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(J=>{clearTimeout(z),J.ok?$n(E,"TestPingServer: ok",!0,v):$n(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),$n(E,"TestPingServer: error",!1,v)})}function $n(h,v,E,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(E)}catch{}}function $s(){this.g=new Fs}function xi(h,v,E){const R=E||"";try{Il(h,function(z,J){let ct=z;p(z)&&(ct=ci(z)),v.push(R+J+"="+encodeURIComponent(ct))})}catch(z){throw v.push(R+"type="+encodeURIComponent("_badmap")),z}}function qr(h){this.l=h.Ub||null,this.j=h.eb||!1}I(qr,El),qr.prototype.g=function(){return new or(this.l,this.j)},qr.prototype.i=function(h){return function(){return h}}({});function or(h,v){Qt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(or,Qt),e=or.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ci(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ri(this):Ci(this),this.readyState==3&&Ol(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,Ri(this))},e.Qa=function(h){this.g&&(this.response=h,Ri(this))},e.ga=function(){this.g&&Ri(this)};function Ri(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ci(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ml(h){let v="";return at(h,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function Ke(h,v,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=Ml(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ie(h,v,E))}function Wt(h){Qt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Wt,Qt);var Xa=/^https?$/i,Xs=["POST","PUT"];e=Wt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Tl(this.o):Tl(bi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){jc(this,J);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)E.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),z=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Xs,v,void 0))||R||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ct]of E)this.g.setRequestHeader(J,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){jc(this,J)}};function jc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Wa(h),Ii(h)}function Wa(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Bt(this,"complete"),Bt(this,"abort"),Ii(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},e.bb=function(){Za(this)};function Za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Xn(h)!=4||h.Z()!=2)){if(h.u&&Xn(h)==4)Ge(h.Ea,0,h);else if(Bt(h,"readystatechange"),Xn(h)==4){h.h=!1;try{const ct=h.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var R;if(R=ct===0){var z=String(h.D).match(Hs)[1]||null;!z&&f.self&&f.self.location&&(z=f.self.location.protocol.slice(0,-1)),R=!Xa.test(z?z.toLowerCase():"")}E=R}if(E)Bt(h,"complete"),Bt(h,"success");else{h.m=6;try{var J=2<Xn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Wa(h)}}finally{Ii(h)}}}}function Ii(h,v){if(h.g){Ws(h);const E=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Bt(h,"ready");try{E.onreadystatechange=R}catch{}}}function Ws(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Xn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),za(v)}};function Uc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function zd(h){const v={};h=(h.g&&2<=Xn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(Z(h[R]))continue;var E=P(h[R]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[z]||[];v[z]=J,J.push(E)}N(v,function(R){return R.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ja(h){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,h),this.cb=Zs("retryDelaySeedMs",1e4,h),this.Wa=Zs("forwardChannelMaxRetries",2,h),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new nr(h&&h.concurrentRequestLimit),this.Da=new $s,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ja.prototype,e.la=8,e.G=1,e.connect=function(h,v,E,R){me(0),this.W=h,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Kc(this,null,this.W),eo(this)};function Pl(h){if(Fc(h),h.G==3){var v=h.U++,E=kn(h.I);if(ie(E,"SID",h.K),ie(E,"RID",v),ie(E,"TYPE","terminate"),Js(h,E),v=new bn(h,h.j,v),v.L=2,v.v=Ks(kn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=Qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),zs(v)}Gc(h)}function to(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function Fc(h){to(h),h.u&&(f.clearTimeout(h.u),h.u=null),no(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function eo(h){if(!Ga(h.h)&&!h.s){h.s=!0;var v=h.Ga;lt||Tt(),ht||(lt(),ht=!0),Dt.add(v,h),h.B=0}}function qd(h,v){return Ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ie(b(h.Ga,h,v),jl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new bn(this,this.j,h);let J=this.o;if(this.S&&(J?(J=x(J),O(J,this.S)):J=this.S),this.m!==null||this.O||(z.H=J,J=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Bc(this,z,v),E=kn(this.I),ie(E,"RID",h),ie(E,"CVER",22),this.D&&ie(E,"X-HTTP-Session-Id",this.D),Js(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(Ml(J)))+"&"+v:this.m&&Ke(E,this.m,J)),Qa(this.h,z),this.Ua&&ie(E,"TYPE","init"),this.P?(ie(E,"$req",v),ie(E,"SID","null"),z.T=!0,hi(z,E,null)):hi(z,E,v),this.G=2}}else this.G==3&&(h?kl(this,h):this.i.length==0||Ga(this.h)||kl(this))};function kl(h,v){var E;v?E=v.l:E=h.U++;const R=kn(h.I);ie(R,"SID",h.K),ie(R,"RID",E),ie(R,"AID",h.T),Js(h,R),h.m&&h.o&&Ke(R,h.m,h.o),E=new bn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Bc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Qa(h.h,E),hi(E,R,v)}function Js(h,v){h.H&&at(h.H,function(E,R){ie(v,R,E)}),h.l&&Il({},function(E,R){ie(v,R,E)})}function Bc(h,v,E){E=Math.min(h.i.length,E);var R=h.l?b(h.l.Na,h.l,h):null;t:{var z=h.i;let J=-1;for(;;){const ct=["count="+E];J==-1?0<E?(J=z[0].g,ct.push("ofs="+J)):J=0:ct.push("ofs="+J);let zt=!0;for(let je=0;je<E;je++){let qt=z[je].g;const Qe=z[je].map;if(qt-=J,0>qt)J=Math.max(0,z[je].g-100),zt=!1;else try{xi(Qe,ct,"req"+qt+"_")}catch{R&&R(Qe)}}if(zt){R=ct.join("&");break t}}}return h=h.i.splice(0,E),v.D=h,R}function zc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;lt||Tt(),ht||(lt(),ht=!0),Dt.add(v,h),h.v=0}}function Ll(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ie(b(h.Fa,h),jl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ie(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,me(10),to(this),qc(this))};function ta(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function qc(h){h.g=new bn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=kn(h.qa);ie(v,"RID","rpc"),ie(v,"SID",h.K),ie(v,"AID",h.T),ie(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ie(v,"TO",h.ja),ie(v,"TYPE","xmlhttp"),Js(h,v),h.m&&h.o&&Ke(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ks(kn(v)),E.m=null,E.P=!0,er(E,h)}e.Za=function(){this.C!=null&&(this.C=null,to(this),Ll(this),me(19))};function no(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Hc(h,v){var E=null;if(h.g==v){no(h),ta(h),h.g=null;var R=2}else if(Rl(h.h,v))E=v.D,An(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var z=h.B;R=Lr(),Bt(R,new Le(R,E)),eo(h)}else zc(h);else if(z=v.s,z==3||z==0&&0<v.X||!(R==1&&qd(h,v)||R==2&&Ll(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),z){case 1:lr(h,5);break;case 4:lr(h,10);break;case 3:lr(h,6);break;default:lr(h,2)}}}function jl(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function lr(h,v){if(h.j.info("Error code "+v),v==2){var E=b(h.fb,h),R=h.Xa;const z=!R;R=new De(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Gs(R,"https"),Ks(R),z?Ys(R.toString(),E):fi(R.toString(),E)}else me(2);h.G=0,h.l&&h.l.sa(v),Gc(h),Fc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),me(2)):(this.j.info("Failed to ping google.com"),me(1))};function Gc(h){if(h.G=0,h.ka=[],h.l){const v=Cl(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.ra()}}function Kc(h,v,E){var R=E instanceof De?kn(E):new De(E);if(R.g!="")v&&(R.g=v+"."+R.g),zr(R,R.s);else{var z=f.location;R=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var J=new De(null);R&&Gs(J,R),v&&(J.g=v),z&&zr(J,z),E&&(J.l=E),R=J}return E=h.D,v=h.ya,E&&v&&ie(R,E,v),ie(R,"VER",h.la),Js(h,R),R}function Qc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Wt(new qr({eb:E})):new Wt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}e=Yc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function io(){}io.prototype.g=function(h,v){return new Sn(h,v)};function Sn(h,v){Qt.call(this),this.g=new Ja(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Di(this)}I(Sn,Qt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Pl(this.g)},Sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=ci(h),h=E);v.i.push(new Pc(v.Ya++,h)),v.G==3&&eo(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,Sn.aa.N.call(this)};function $c(h){Ji.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I($c,Ji);function Xc(){Al.call(this),this.status=1}I(Xc,Al);function Di(h){this.g=h}I(Di,Yc),Di.prototype.ua=function(){Bt(this.g,"a")},Di.prototype.ta=function(h){Bt(this.g,new $c(h))},Di.prototype.sa=function(h){Bt(this.g,new Xc)},Di.prototype.ra=function(){Bt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Iw=function(){return new io},Cw=function(){return Lr()},Rw=Ti,xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,gf=Fr,tr.COMPLETE="complete",xw=tr,bl.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,Du=bl,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,ww=Wt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const QT="@firebase/firestore",YT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new dy("@firebase/firestore");function Mo(){return Ra.logLevel}function ft(e,...t){if(Ra.logLevel<=Ut.DEBUG){const n=t.map(wy);Ra.debug(`Firestore (${cl}): ${e}`,...n)}}function Ir(e,...t){if(Ra.logLevel<=Ut.ERROR){const n=t.map(wy);Ra.error(`Firestore (${cl}): ${e}`,...n)}}function Jo(e,...t){if(Ra.logLevel<=Ut.WARN){const n=t.map(wy);Ra.warn(`Firestore (${cl}): ${e}`,...n)}}function wy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e="Unexpected state"){const t=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+e;throw Ir(t),new Error(t)}function Zt(e,t){e||xt()}function It(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class cO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hO{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Zt(this.o===void 0);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string"),new Dw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string"),new mn(t)}}class fO{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dO{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new fO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $T{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mO{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,oi(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Zt(this.o===void 0);const r=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $T(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Zt(typeof n.token=="string"),this.R=n.token,new $T(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=pO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Ot(e,t){return e<t?-1:e>t?1:0}function Rg(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Ot(r,a);{const l=Nw(),c=gO(l.encode(XT(e,n)),l.encode(XT(t,n)));return c!==0?c:Ot(r,a)}}n+=r>65535?2:1}return Ot(e.length,t.length)}function XT(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function gO(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Ot(e[n],t[n]);return Ot(e.length,t.length)}function tl(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,ZT=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*ZT);return new ze(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<WT)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZT}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-WT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new ze(0,0))}static max(){return new Ct(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__name__";class ji{constructor(t,n,r){n===void 0?n=0:n>t.length&&xt(),r===void 0?r=t.length-n:r>t.length-n&&xt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=ji.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ot(t.length,n.length)}static compareSegments(t,n){const r=ji.isNumericId(t),a=ji.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ji.extractNumericId(t).compare(ji.extractNumericId(n)):Rg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return bs.fromString(t.substring(4,t.length-2))}}class he extends ji{construct(t,n,r){return new he(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new he(n)}static emptyPath(){return new he([])}}const yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ji{construct(t,n,r){return new on(t,n,r)}static isValidIdentifier(t){return yO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JT}static keyField(){return new on([JT])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new dt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new dt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new dt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new dt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(he.fromString(t))}static fromName(t){return new vt(he.fromString(t).popFirst(5))}static empty(){return new vt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return he.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new he(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;function vO(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Ct.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Ss(a,vt.empty(),t)}function _O(e){return new Ss(e.readTime,e.key,Yu)}class Ss{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ss(Ct.min(),vt.empty(),Yu)}static max(){return new Ss(Ct.max(),vt.empty(),Yu)}}function EO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==TO)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):st.reject(n)}static resolve(t){return new st((n,r)=>{n(t)})}static reject(t){return new st((n,r)=>{r(t)})}static waitFor(t){return new st((n,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=st.resolve(!1);for(const r of t)n=n.next(a=>a?st.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new st((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new st((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function AO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}ld.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-1;function ud(e){return e==null}function Lf(e){return e===0&&1/e==-1/0}function SO(e){return typeof e=="number"&&Number.isInteger(e)&&!Lf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="";function wO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tb(t)),t=xO(e.get(n),t);return tb(t)}function xO(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case Ow:n+="";break;default:n+=l}}return n}function tb(e){return e+Ow+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,n){this.comparator=t,this.root=n||an.EMPTY}insert(t,n){return new _e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jh(this.root,t,this.comparator,!0)}}class Jh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new an(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return an.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const t=this.left.check();if(t!==this.right.check())throw xt();return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(t,n,r,a,l){return this}insert(t,n,r){return new an(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nb(this.data.getIterator())}getIteratorFrom(t){return new nb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new qe(this.comparator);return n.data=t,n}}class nb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new Hn([])}unionWith(t){let n=new qe(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Hn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return tl(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Pw("Invalid base64 string: "+l):l}}(t);return new ln(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const RO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(e){if(Zt(!!e),typeof e=="string"){let t=0;const n=RO.exec(e);if(Zt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ce(e.seconds),nanos:Ce(e.nanos)}}function Ce(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xs(e){return typeof e=="string"?ln.fromBase64String(e):ln.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="server_timestamp",Lw="__type__",jw="__previous_value__",Uw="__local_write_time__";function Ry(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Lw])===null||n===void 0?void 0:n.stringValue)===kw}function cd(e){const t=e.mapValue.fields[jw];return Ry(t)?cd(t):t}function $u(e){const t=ws(e.mapValue.fields[Uw].timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,n,r,a,l,c,f,m,p){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p}}const jf="(default)";class Xu{constructor(t,n){this.projectId=t,this.database=n||jf}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===jf}isEqual(t){return t instanceof Xu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__type__",IO="__max__",tf={mapValue:{}},Bw="__vector__",Uf="value";function Rs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ry(e)?4:NO(e)?9007199254740991:DO(e)?10:11:xt()}function Yi(e,t){if(e===t)return!0;const n=Rs(e);if(n!==Rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $u(e).isEqual($u(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ws(a.timestampValue),f=ws(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return Ce(a.geoPointValue.latitude)===Ce(l.geoPointValue.latitude)&&Ce(a.geoPointValue.longitude)===Ce(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ce(a.integerValue)===Ce(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ce(a.doubleValue),f=Ce(l.doubleValue);return c===f?Lf(c)===Lf(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return tl(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(eb(c)!==eb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Yi(c[m],f[m])))return!1;return!0}(e,t);default:return xt()}}function Wu(e,t){return(e.values||[]).find(n=>Yi(n,t))!==void 0}function el(e,t){if(e===t)return 0;const n=Rs(e),r=Rs(t);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Ce(l.integerValue||l.doubleValue),m=Ce(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(e,t);case 3:return ib(e.timestampValue,t.timestampValue);case 4:return ib($u(e),$u(t));case 5:return Rg(e.stringValue,t.stringValue);case 6:return function(l,c){const f=xs(l),m=xs(c);return f.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Ot(f[p],m[p]);if(y!==0)return y}return Ot(f.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=Ot(Ce(l.latitude),Ce(c.latitude));return f!==0?f:Ot(Ce(l.longitude),Ce(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rb(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},b=c.fields||{},S=(f=_[Uf])===null||f===void 0?void 0:f.arrayValue,I=(m=b[Uf])===null||m===void 0?void 0:m.arrayValue,j=Ot(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return j!==0?j:rb(S,I)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===tf.mapValue&&c===tf.mapValue)return 0;if(l===tf.mapValue)return 1;if(c===tf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Rg(m[_],y[_]);if(b!==0)return b;const S=el(f[m[_]],p[y[_]]);if(S!==0)return S}return Ot(m.length,y.length)}(e.mapValue,t.mapValue);default:throw xt()}}function ib(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ot(e,t);const n=ws(e),r=ws(t),a=Ot(n.seconds,r.seconds);return a!==0?a:Ot(n.nanos,r.nanos)}function rb(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=el(n[a],r[a]);if(l)return l}return Ot(n.length,r.length)}function nl(e){return Cg(e)}function Cg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ws(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return xs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Cg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Cg(n.fields[c])}`;return a+"}"}(e.mapValue):xt()}function yf(e){switch(Rs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cd(e);return t?16+yf(t):16;case 5:return 2*e.stringValue.length;case 6:return xs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+yf(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return Ms(r.fields,(l,c)=>{a+=l.length+yf(c)}),a}(e.mapValue);default:throw xt()}}function sb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ig(e){return!!e&&"integerValue"in e}function Cy(e){return!!e&&"arrayValue"in e}function ab(e){return!!e&&"nullValue"in e}function ob(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vf(e){return!!e&&"mapValue"in e}function DO(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Fw])===null||n===void 0?void 0:n.stringValue)===Bw}function ju(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ju(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ju(e.arrayValue.values[n]);return t}return Object.assign({},e)}function NO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===IO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ju(n)}setAll(t){let n=on.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=ju(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Ms(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Pn(ju(this.value))}}function zw(e){const t=[];return Ms(e.fields,(n,r)=>{const a=new on([n]);if(vf(r)){const l=zw(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Hn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new pn(t,0,Ct.min(),Ct.min(),Ct.min(),Pn.empty(),0)}static newFoundDocument(t,n,r,a){return new pn(t,1,n,Ct.min(),r,a,0)}static newNoDocument(t,n){return new pn(t,2,n,Ct.min(),Ct.min(),Pn.empty(),0)}static newUnknownDocument(t,n){return new pn(t,3,n,Ct.min(),Ct.min(),Pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,n){this.position=t,this.inclusive=n}}function lb(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),n.key):r=el(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function ub(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n="asc"){this.field=t,this.dir=n}}function VO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qw=class{};class Me extends qw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new MO(t,n,r):n==="array-contains"?new LO(t,r):n==="in"?new jO(t,r):n==="not-in"?new UO(t,r):n==="array-contains-any"?new FO(t,r):new Me(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new PO(t,r):new kO(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(el(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends qw{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Ei(t,n)}matches(t){return Hw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Hw(e){return e.op==="and"}function Gw(e){return OO(e)&&Hw(e)}function OO(e){for(const t of e.filters)if(t instanceof Ei)return!1;return!0}function Dg(e){if(e instanceof Me)return e.field.canonicalString()+e.op.toString()+nl(e.value);if(Gw(e))return e.filters.map(t=>Dg(t)).join(",");{const t=e.filters.map(n=>Dg(n)).join(",");return`${e.op}(${t})`}}function Kw(e,t){return e instanceof Me?function(r,a){return a instanceof Me&&r.op===a.op&&r.field.isEqual(a.field)&&Yi(r.value,a.value)}(e,t):e instanceof Ei?function(r,a){return a instanceof Ei&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&Kw(c,a.filters[f]),!0):!1}(e,t):void xt()}function Qw(e){return e instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(e):e instanceof Ei?function(n){return n.op.toString()+" {"+n.getFilters().map(Qw).join(" ,")+"}"}(e):"Filter"}class MO extends Me{constructor(t,n,r){super(t,n,r),this.key=vt.fromName(r.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class PO extends Me{constructor(t,n){super(t,"in",n),this.keys=Yw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kO extends Me{constructor(t,n){super(t,"not-in",n),this.keys=Yw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Yw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class LO extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cy(n)&&Wu(n.arrayValue,this.value)}}class jO extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class UO extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}}class FO extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function cb(e,t=null,n=[],r=[],a=null,l=null,c=null){return new BO(e,t,n,r,a,l,c)}function Iy(e){const t=It(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Dg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),ud(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>nl(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>nl(r)).join(",")),t.le=n}return t.le}function Dy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!VO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Kw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ub(e.startAt,t.startAt)&&ub(e.endAt,t.endAt)}function Ng(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zO(e,t,n,r,a,l,c,f){return new dl(e,t,n,r,a,l,c,f)}function Ny(e){return new dl(e)}function hb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $w(e){return e.collectionGroup!==null}function Uu(e){const t=It(e);if(t.he===null){t.he=[];const n=new Set;for(const l of t.explicitOrderBy)t.he.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new qe(on.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.he.push(new Zu(l,r))}),n.has(on.keyField().canonicalString())||t.he.push(new Zu(on.keyField(),r))}return t.he}function zi(e){const t=It(e);return t.Pe||(t.Pe=qO(t,Uu(e))),t.Pe}function qO(e,t){if(e.limitType==="F")return cb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Zu(a.field,l)});const n=e.endAt?new Ff(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ff(e.startAt.position,e.startAt.inclusive):null;return cb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Vg(e,t){const n=e.filters.concat([t]);return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Og(e,t,n){return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hd(e,t){return Dy(zi(e),zi(t))&&e.limitType===t.limitType}function Xw(e){return`${Iy(zi(e))}|lt:${e.limitType}`}function Po(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>Qw(a)).join(", ")}]`),ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>nl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>nl(a)).join(",")),`Target(${r})`}(zi(e))}; limitType=${e.limitType})`}function fd(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):vt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Uu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=lb(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,Uu(r),a)||r.endAt&&!function(c,f,m){const p=lb(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,Uu(r),a))}(e,t)}function HO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ww(e){return(t,n)=>{let r=!1;for(const a of Uu(e)){const l=GO(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function GO(e,t,n){const r=e.field.isKeyField()?vt.comparator(t.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?el(m,p):xt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new _e(vt.comparator);function Dr(){return KO}const Zw=new _e(vt.comparator);function Nu(...e){let t=Zw;for(const n of e)t=t.insert(n.key,n);return t}function Jw(e){let t=Zw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function _a(){return Fu()}function t1(){return Fu()}function Fu(){return new Pa(e=>e.toString(),(e,t)=>e.isEqual(t))}const QO=new _e(vt.comparator),YO=new qe(vt.comparator);function Ft(...e){let t=YO;for(const n of e)t=t.add(n);return t}const $O=new qe(Ot);function XO(){return $O}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(t)?"-0":t}}function e1(e){return{integerValue:""+e}}function WO(e,t){return SO(t)?e1(t):Vy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function ZO(e,t,n){return e instanceof Bf?function(a,l){const c={fields:{[Lw]:{stringValue:kw},[Uw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ry(l)&&(l=cd(l)),l&&(c.fields[jw]=l),{mapValue:c}}(n,t):e instanceof Ju?i1(e,t):e instanceof tc?r1(e,t):function(a,l){const c=n1(a,l),f=fb(c)+fb(a.Ie);return Ig(c)&&Ig(a.Ie)?e1(f):Vy(a.serializer,f)}(e,t)}function JO(e,t,n){return e instanceof Ju?i1(e,t):e instanceof tc?r1(e,t):n}function n1(e,t){return e instanceof zf?function(r){return Ig(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Bf extends dd{}class Ju extends dd{constructor(t){super(),this.elements=t}}function i1(e,t){const n=s1(t);for(const r of e.elements)n.some(a=>Yi(a,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends dd{constructor(t){super(),this.elements=t}}function r1(e,t){let n=s1(t);for(const r of e.elements)n=n.filter(a=>!Yi(a,r));return{arrayValue:{values:n}}}class zf extends dd{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function fb(e){return Ce(e.integerValue||e.doubleValue)}function s1(e){return Cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function tM(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof Ju&&a instanceof Ju||r instanceof tc&&a instanceof tc?tl(r.elements,a.elements,Yi):r instanceof zf&&a instanceof zf?Yi(r.Ie,a.Ie):r instanceof Bf&&a instanceof Bf}(e.transform,t.transform)}class eM{constructor(t,n){this.version=t,this.transformResults=n}}class vi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _f(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class md{}function a1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Oy(e.key,vi.none()):new vc(e.key,e.data,vi.none());{const n=e.data,r=Pn.empty();let a=new qe(on.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ps(e.key,r,new Hn(a.toArray()),vi.none())}}function nM(e,t,n){e instanceof vc?function(a,l,c){const f=a.value.clone(),m=mb(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Ps?function(a,l,c){if(!_f(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=mb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(o1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Bu(e,t,n,r){return e instanceof vc?function(l,c,f,m){if(!_f(l.precondition,c))return f;const p=l.value.clone(),y=pb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ps?function(l,c,f,m){if(!_f(l.precondition,c))return f;const p=pb(l.fieldTransforms,m,c),y=c.data;return y.setAll(o1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,r):function(l,c,f){return _f(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function iM(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=n1(r.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,l))}return n||null}function db(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&tl(r,a,(l,c)=>tM(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vc extends md{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ps extends md{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function o1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function mb(e,t,n){const r=new Map;Zt(e.length===n.length);for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,JO(c,f,n[a]))}return r}function pb(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,ZO(l,c,t))}return r}class Oy extends md{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends md{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&nM(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Bu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Bu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=t1();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=a1(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ft())}isEqual(t){return this.batchId===t.batchId&&tl(this.mutations,t.mutations,(n,r)=>db(n,r))&&tl(this.baseMutations,t.baseMutations,(n,r)=>db(n,r))}}class My{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Zt(t.mutations.length===r.length);let a=function(){return QO}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new My(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,Gt;function lM(e){switch(e){case rt.OK:return xt();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return xt()}}function l1(e){if(e===void 0)return Ir("GRPC error has no .code"),rt.UNKNOWN;switch(e){case Oe.OK:return rt.OK;case Oe.CANCELLED:return rt.CANCELLED;case Oe.UNKNOWN:return rt.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return rt.INTERNAL;case Oe.UNAVAILABLE:return rt.UNAVAILABLE;case Oe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Oe.NOT_FOUND:return rt.NOT_FOUND;case Oe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Oe.ABORTED:return rt.ABORTED;case Oe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Oe.DATA_LOSS:return rt.DATA_LOSS;default:return xt()}}(Gt=Oe||(Oe={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new bs([4294967295,4294967295],0);function gb(e){const t=Nw().encode(e),n=new Sw;return n.update(t),new Uint8Array(n.digest())}function yb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new bs([n,r],0),new bs([a,l],0)]}class Py{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=bs.fromNumber(this.Ee)}Ae(t,n,r){let a=t.add(n.multiply(bs.fromNumber(r)));return a.compare(uM)===1&&(a=new bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=gb(t),[r,a]=yb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Py(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.Ee===0)return;const n=gb(t),[r,a]=yb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,_c.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new pd(Ct.min(),a,new _e(Ot),Dr(),Ft())}}class _c{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new _c(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n,r,a){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=a}}class u1{constructor(t,n){this.targetId=t,this.ge=n}}class c1{constructor(t,n,r=ln.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class vb{constructor(){this.pe=0,this.ye=_b(),this.we=ln.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ft(),n=Ft(),r=Ft();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:xt()}}),new _c(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=_b()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class cM{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Dr(),this.$e=ef(),this.Ue=ef(),this.Ke=new _e(Ot)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:xt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(t){const n=t.targetId,r=t.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Ng(l))if(r===0){const c=new vt(l.path);this.ze(n,c,pn.newNoDocument(c,Ct.min()))}else Zt(r===1);else{const c=this.et(n);if(c!==r){const f=this.tt(t),m=f?this.nt(f,t,c):1;if(m!==0){this.Ye(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=xs(r).toUint8Array()}catch(m){if(m instanceof Pw)return Jo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Py(c,a,l)}catch(m){return Jo(m instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ee===0?null:f}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(t){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&Ng(f.target)){const m=new vt(f.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,pn.newNoDocument(m,t))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let r=Ft();this.Ue.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new pd(t,n,this.Ke,this.Qe,r);return this.Qe=Dr(),this.$e=ef(),this.Ue=ef(),this.Ke=new _e(Ot),a}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const a=this.He(t);this.ut(t,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new vb,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new qe(Ot),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new qe(Ot),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new vb),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function ef(){return new _e(vt.comparator)}function _b(){return new _e(vt.comparator)}const hM={asc:"ASCENDING",desc:"DESCENDING"},fM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dM={and:"AND",or:"OR"};class mM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Mg(e,t){return e.useProto3Json||ud(t)?t:{value:t}}function qf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pM(e,t){return qf(e,t.toTimestamp())}function qi(e){return Zt(!!e),Ct.fromTimestamp(function(n){const r=ws(n);return new ze(r.seconds,r.nanos)}(e))}function ky(e,t){return Pg(e,t).canonicalString()}function Pg(e,t){const n=function(a){return new he(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function f1(e){const t=he.fromString(e);return Zt(y1(t)),t}function kg(e,t){return ky(e.databaseId,t.path)}function Gp(e,t){const n=f1(t);if(n.get(1)!==e.databaseId.projectId)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(m1(n))}function d1(e,t){return ky(e.databaseId,t)}function gM(e){const t=f1(e);return t.length===4?he.emptyPath():m1(t)}function Lg(e){return new he(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function m1(e){return Zt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Eb(e,t,n){return{name:kg(e,t),fields:n.value.mapValue.fields}}function yM(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Zt(y===void 0||typeof y=="string"),ln.fromBase64String(y||"")):(Zt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),ln.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const y=p.code===void 0?rt.UNKNOWN:l1(p.code);return new dt(y,p.message||"")}(c);n=new c1(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Gp(e,r.document.name),l=qi(r.document.updateTime),c=r.document.createTime?qi(r.document.createTime):Ct.min(),f=new Pn({mapValue:{fields:r.document.fields}}),m=pn.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Ef(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Gp(e,r.document),l=r.readTime?qi(r.readTime):Ct.min(),c=pn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new Ef([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Gp(e,r.document),l=r.removedTargetIds||[];n=new Ef([],l,a,null)}else{if(!("filter"in t))return xt();{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new oM(a,l),f=r.targetId;n=new u1(f,c)}}return n}function vM(e,t){let n;if(t instanceof vc)n={update:Eb(e,t.key,t.value)};else if(t instanceof Oy)n={delete:kg(e,t.key)};else if(t instanceof Ps)n={update:Eb(e,t.key,t.data),updateMask:RM(t.fieldMask)};else{if(!(t instanceof rM))return xt();n={verify:kg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Bf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zf)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw xt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:pM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xt()}(e,t.precondition)),n}function _M(e,t){return e&&e.length>0?(Zt(t!==void 0),e.map(n=>function(a,l){let c=a.updateTime?qi(a.updateTime):qi(l);return c.isEqual(Ct.min())&&(c=qi(l)),new eM(c,a.transformResults||[])}(n,t))):[]}function EM(e,t){return{documents:[d1(e,t.path)]}}function TM(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=d1(e,a);const l=function(p){if(p.length!==0)return g1(Ei.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:ko(b.field),direction:SM(b.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Mg(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:n,parent:a}}function bM(e){let t=gM(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Zt(r===1);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const b=p1(_);return b instanceof Ei&&Gw(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(I){return new Zu(Lo(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(n.orderBy));let f=null;n.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,ud(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(_){const b=!!_.before,S=_.values||[];return new Ff(S,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,S=_.values||[];return new Ff(S,b)}(n.endAt)),zO(t,a,c,l,f,"F",m,p)}function AM(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function p1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lo(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return Me.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return Me.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return Me.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(e):e.fieldFilter!==void 0?function(n){return Me.create(Lo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ei.create(n.compositeFilter.filters.map(r=>p1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(e):xt()}function SM(e){return hM[e]}function wM(e){return fM[e]}function xM(e){return dM[e]}function ko(e){return{fieldPath:e.canonicalString()}}function Lo(e){return on.fromServerFormat(e.fieldPath)}function g1(e){return e instanceof Me?function(n){if(n.op==="=="){if(ob(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(ab(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ob(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(ab(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:wM(n.op),value:n.value}}}(e):e instanceof Ei?function(n){const r=n.getFilters().map(a=>g1(a));return r.length===1?r[0]:{compositeFilter:{op:xM(n.op),filters:r}}}(e):xt()}function RM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function y1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n,r,a,l=Ct.min(),c=Ct.min(),f=ln.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new vs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.Tt=t}}function IM(e){const t=bM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Og(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Tn=new NM}addToCollectionParentIndex(t,n){return this.Tn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(Ss.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(Ss.min())}updateCollectionGroup(t,n,r){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class NM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new qe(he.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new qe(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v1=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(v1,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new il(0)}static Kn(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LruGarbageCollector",VM=1048576;function Ab([e,t],[n,r]){const a=Ot(e,n);return a===0?Ot(t,r):a}class OM{constructor(t){this.Hn=t,this.buffer=new qe(Ab),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ab(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MM{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(bb,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?ft(bb,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.er(3e5)})}}class PM{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return st.resolve(ld.ae);const r=new OM(n);return this.tr.forEachTarget(t,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Tb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tb):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(t,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),Mo()<=Ut.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function kM(e,t){return new PM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.changes=new Pa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?st.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&Bu(r.mutation,a,Hn.empty(),ze.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ft()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ft()){const a=_a();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=Nu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=_a();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ft()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,a){let l=Dr();const c=Fu(),f=function(){return Fu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ps)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Bu(y.mutation,p,y.mutation.getFieldMask(),ze.now())):c.set(p.key,Hn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new jM(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(t,n){const r=Fu();let a=new _e((c,f)=>c-f),l=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Hn.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Ft()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=t1();y.forEach(b=>{if(!l.has(b)){const S=a1(n.get(b),r.get(b));S!==null&&_.set(b,S),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return st.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$w(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):st.resolve(_a());let f=Yu,m=l;return c.next(p=>st.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Ft())).next(y=>({batchId:f,changes:Jw(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(r=>{let a=Nu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(t,l).next(f=>st.forEach(f,m=>{const p=function(_,b){return new dl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,pn.newInvalidDocument(y)))});let f=Nu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Bu(y.mutation,p,Hn.empty(),ze.now()),fd(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return st.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qi(a.createTime)}}(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:IM(a.bundledQuery),readTime:qi(a.readTime)}}(n)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.overlays=new _e(vt.comparator),this.Rr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const r=_a();return st.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.Et(t,n,l)}),st.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),st.resolve()}getOverlaysForCollection(t,n,r){const a=_a(),l=n.length+1,c=new vt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return st.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new _e((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=_a(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=_a(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return st.resolve(f)}Et(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new aM(n,r));let l=this.Rr.get(n);l===void 0&&(l=Ft(),this.Rr.set(n,l)),this.Rr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Vr=new qe(We.mr),this.gr=new qe(We.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new We(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new We(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new vt(new he([])),r=new We(n,t),a=new We(n,t+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new vt(new he([])),r=new We(n,t),a=new We(n,t+1);let l=Ft();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new We(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class We{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return vt.comparator(t.key,n.key)||Ot(t.Cr,n.Cr)}static pr(t,n){return Ot(t.Cr,n.Cr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new qe(We.mr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sM(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new We(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,n){return st.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Nr(r),l=a<0?0:a;return st.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?xy:this.Fr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new We(n,0),a=new We(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const f=this.Or(c.Cr);l.push(f)}),st.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new qe(Ot);return n.forEach(a=>{const l=new We(a,0),c=new We(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{r=r.add(f.Cr)})}),st.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;vt.isDocumentKey(l)||(l=l.child(""));const c=new We(new vt(l),0);let f=new qe(Ot);return this.Mr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Cr)),!0)},c),st.resolve(this.Br(f))}Br(t){const n=[];return t.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Zt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return st.forEach(n.mutations,a=>{const l=new We(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new We(n,0),a=this.Mr.firstAfterOrEqual(r);return st.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.kr=t,this.docs=function(){return new _e(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return st.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(t,n){let r=Dr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))}),st.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Dr();const c=n.path,f=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||EO(_O(y),r)<=0||(a.has(y.key)||fd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return st.resolve(l)}getAllFromCollectionGroup(t,n,r,a){xt()}qr(t,n){return st.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new GM(this)}getSize(t){return st.resolve(this.size)}}class GM extends LM{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(r)}),st.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t){this.persistence=t,this.Qr=new Pa(n=>Iy(n),Dy),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ly,this.targetCount=0,this.Kr=il.Un()}forEachTarget(t,n){return this.Qr.forEach((r,a)=>n(a)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),st.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new il(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.zn(n),st.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),st.waitFor(l).next(()=>a)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return st.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),st.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),st.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),st.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return st.resolve(r)}containsKey(t,n){return st.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new ld(0),this.zr=!1,this.zr=!0,this.jr=new zM,this.referenceDelegate=t(this),this.Hr=new KM(this),this.indexManager=new DM,this.remoteDocumentCache=function(a){return new HM(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new CM(n),this.Yr=new FM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new qM(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){ft("MemoryPersistence","Starting transaction:",t);const a=new QM(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,n){return st.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class QM extends bO{constructor(t){super(),this.currentSequenceNumber=t}}class jy{constructor(t){this.persistence=t,this.ti=new Ly,this.ni=null}static ri(t){return new jy(t)}get ii(){if(this.ni)return this.ni;throw xt()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),st.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),st.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.ii,r=>{const a=vt.fromPath(r);return this.si(t,a).next(l=>{l||n.removeEntry(a,Ct.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return st.or([()=>st.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Hf{constructor(t,n){this.persistence=t,this.oi=new Pa(r=>wO(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=kM(this,n)}static ri(t,n){return new Hf(t,n)}Zr(){}Xr(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return st.forEach(this.oi,(r,a)=>this.ar(t,r,a).next(l=>l?st.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,n).next(f=>{f||(r++,l.removeEntry(c,Ct.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),st.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),st.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yf(t.data.value)),n}ar(t,n,r){return st.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.oi.get(n);return st.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(t,n){let r=Ft(),a=Ft();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Uy(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return II()?8:AO(vn())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new YM;return this._s(t,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(t,n,c,f.size)})}).next(()=>l.result)}us(t,n,r,a){return r.documentReadCount<this.es?(Mo()<=Ut.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),st.resolve()):(Mo()<=Ut.DEBUG&&ft("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Mo()<=Ut.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(n))):st.resolve())}rs(t,n){if(hb(n))return st.resolve(null);let r=zi(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Og(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Ft(...l);return this.ns.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.cs(n,f);return this.ls(n,p,c,m.readTime)?this.rs(t,Og(n,null,"F")):this.hs(t,p,n,m)}))})))}ss(t,n,r,a){return hb(n)||a.isEqual(Ct.min())?st.resolve(null):this.ns.getDocuments(t,r).next(l=>{const c=this.cs(n,l);return this.ls(n,c,r,a)?st.resolve(null):(Mo()<=Ut.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(n)),this.hs(t,c,n,vO(a,Yu)).next(f=>f))})}cs(t,n){let r=new qe(Ww(t));return n.forEach((a,l)=>{fd(t,l)&&(r=r.add(l))}),r}ls(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,n,r){return Mo()<=Ut.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ns.getDocumentsMatchingQuery(t,n,Ss.min(),r)}hs(t,n,r,a){return this.ns.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="LocalStore",XM=3e8;class WM{constructor(t,n,r,a){this.persistence=t,this.Ps=n,this.serializer=a,this.Ts=new _e(Ot),this.Is=new Pa(l=>Iy(l),Dy),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function ZM(e,t,n,r){return new WM(e,t,n,r)}async function E1(e,t){const n=It(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Ft();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:f}))})})}function JM(e,t){const n=It(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,b=_.keys();let S=st.resolve();return b.forEach(I=>{S=S.next(()=>y.getEntry(m,I)).next(j=>{const k=p.docVersions.get(I);Zt(k!==null),j.version.compareTo(k)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Ft();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function T1(e){const t=It(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function tP(e,t){const n=It(e),r=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];t.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let S=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(ln.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(_,S),function(j,k,M){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=XM?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,S,y)&&f.push(n.Hr.updateTargetData(l,S))});let m=Dr(),p=Ft();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(eP(l,c,t.documentUpdates).next(y=>{m=y.Vs,p=y.fs})),!r.isEqual(Ct.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return st.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ts=a,l))}function eP(e,t,n){let r=Ft(),a=Ft();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=Dr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ct.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ft(Fy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function nP(e,t){const n=It(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=xy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function iP(e,t){const n=It(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,t).next(l=>l?(a=l,st.resolve(a)):n.Hr.allocateTargetId(r).next(c=>(a=new vs(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function jg(e,t,n){const r=It(e),a=r.Ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!fl(c))throw c;ft(Fy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ts=r.Ts.remove(t),r.Is.delete(a.target)}function Sb(e,t,n){const r=It(e);let a=Ct.min(),l=Ft();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=It(m),b=_.Is.get(y);return b!==void 0?st.resolve(_.Ts.get(b)):_.Hr.getTargetData(p,y)}(r,c,zi(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,t,n?a:Ct.min(),n?l:Ft())).next(f=>(rP(r,HO(t),f),{documents:f,gs:l})))}function rP(e,t,n){let r=e.Es.get(t)||Ct.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Es.set(t,r)}class wb{constructor(){this.activeTargetIds=XO()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sP{constructor(){this.ho=new wb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new wb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="ConnectivityMonitor";class Rb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(xb,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(xb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function Ug(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="RestConnection",oP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lP{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===jf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(t,n,r,a,l){const c=Ug(),f=this.bo(t,n.toUriEncodedString());ft(Kp,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(t,f,m,r).then(p=>(ft(Kp,`Received RPC '${t}' ${c}: `,p),p),p=>{throw Jo(Kp,`RPC '${t}' ${c} failed with error: `,p,"url: ",f,"request:",r),p})}Co(t,n,r,a,l,c){return this.So(t,n,r,a,l)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}bo(t,n){const r=oP[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class cP extends lP{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,a){const l=Ug();return new Promise((c,f)=>{const m=new ww;m.setWithCredentials(!0),m.listenOnce(xw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case gf.NO_ERROR:const y=m.getResponseJson();ft(fn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case gf.TIMEOUT:ft(fn,`RPC '${t}' ${l} timed out`),f(new dt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const _=m.getStatus();if(ft(fn,`RPC '${t}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const I=function(k){const M=k.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(M)>=0?M:rt.UNKNOWN}(S.status);f(new dt(I,S.message))}else f(new dt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new dt(rt.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{ft(fn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);ft(fn,`RPC '${t}' ${l} sending request:`,a),m.send(n,"POST",p,r,15)})}Wo(t,n,r){const a=Ug(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Iw(),f=Cw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(fn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let b=!1,S=!1;const I=new uP({Fo:k=>{S?ft(fn,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(b||(ft(fn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ft(fn,`RPC '${t}' stream ${a} sending:`,k),_.send(k))},Mo:()=>_.close()}),j=(k,M,Z)=>{k.listen(M,K=>{try{Z(K)}catch(tt){setTimeout(()=>{throw tt},0)}})};return j(_,Du.EventType.OPEN,()=>{S||(ft(fn,`RPC '${t}' stream ${a} transport opened.`),I.Qo())}),j(_,Du.EventType.CLOSE,()=>{S||(S=!0,ft(fn,`RPC '${t}' stream ${a} transport closed`),I.Uo())}),j(_,Du.EventType.ERROR,k=>{S||(S=!0,Jo(fn,`RPC '${t}' stream ${a} transport errored:`,k),I.Uo(new dt(rt.UNAVAILABLE,"The operation could not be completed")))}),j(_,Du.EventType.MESSAGE,k=>{var M;if(!S){const Z=k.data[0];Zt(!!Z);const K=Z,tt=(K==null?void 0:K.error)||((M=K[0])===null||M===void 0?void 0:M.error);if(tt){ft(fn,`RPC '${t}' stream ${a} received error:`,tt);const X=tt.status;let at=function(C){const O=Oe[C];if(O!==void 0)return l1(O)}(X),N=tt.message;at===void 0&&(at=rt.INTERNAL,N="Unknown error status: "+X+" with message "+tt.message),S=!0,I.Uo(new dt(at,N)),_.close()}else ft(fn,`RPC '${t}' stream ${a} received:`,Z),I.Ko(Z)}}),j(f,Rw.STAT_EVENT,k=>{k.stat===xg.PROXY?ft(fn,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===xg.NOPROXY&&ft(fn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(e){return new mM(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="PersistentStream";class A1{constructor(t,n,r,a,l,c,f,m){this.Ti=t,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new b1(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{t(()=>{const a=new dt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ft(Cb,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ft(Cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hP extends A1{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=yM(this.serializer,t),r=function(l){if(!("targetChange"in l))return Ct.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?qi(c.readTime):Ct.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=Lg(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=Ng(m)?{documents:EM(l,m)}:{query:TM(l,m).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=h1(l,c.resumeToken);const p=Mg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ct.min())>0){f.readTime=qf(l,c.snapshotVersion.toTimestamp());const p=Mg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const r=AM(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=Lg(this.serializer),n.removeTarget=t,this.I_(n)}}class fP extends A1{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=_M(t.writeResults,t.commitTime),r=qi(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=Lg(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>vM(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{}class mP extends dP{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(t,Pg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt(rt.UNKNOWN,l.toString())})}Co(t,n,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(t,Pg(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(rt.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ir(n),this.N_=!1):ft("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class gP{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{ka(this)&&(ft(Ca,"Restarting streams for network reachability change."),await async function(m){const p=It(m);p.W_.add(4),await Ec(p),p.j_.set("Unknown"),p.W_.delete(4),await yd(p)}(this))})}),this.j_=new pP(r,a)}}async function yd(e){if(ka(e))for(const t of e.G_)await t(!0)}async function Ec(e){for(const t of e.G_)await t(!1)}function S1(e,t){const n=It(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Hy(n)?qy(n):ml(n).c_()&&zy(n,t))}function By(e,t){const n=It(e),r=ml(n);n.K_.delete(t),r.c_()&&w1(n,t),n.K_.size===0&&(r.c_()?r.P_():ka(n)&&n.j_.set("Unknown"))}function zy(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ml(e).y_(t)}function w1(e,t){e.H_.Ne(t),ml(e).w_(t)}function qy(e){e.H_=new cM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),ml(e).start(),e.j_.B_()}function Hy(e){return ka(e)&&!ml(e).u_()&&e.K_.size>0}function ka(e){return It(e).W_.size===0}function x1(e){e.H_=void 0}async function yP(e){e.j_.set("Online")}async function vP(e){e.K_.forEach((t,n)=>{zy(e,t)})}async function _P(e,t){x1(e),Hy(e)?(e.j_.q_(t),qy(e)):e.j_.set("Unknown")}async function EP(e,t,n){if(e.j_.set("Online"),t instanceof c1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.K_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.K_.delete(f),a.H_.removeTarget(f))}(e,t)}catch(r){ft(Ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Gf(e,r)}else if(t instanceof Ef?e.H_.We(t):t instanceof u1?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Ct.min()))try{const r=await T1(e.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.K_.get(p);y&&l.K_.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.K_.get(m);if(!y)return;l.K_.set(m,y.withResumeToken(ln.EMPTY_BYTE_STRING,y.snapshotVersion)),w1(l,m);const _=new vs(y.target,m,p,y.sequenceNumber);zy(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){ft(Ca,"Failed to raise snapshot:",r),await Gf(e,r)}}async function Gf(e,t,n){if(!fl(t))throw t;e.W_.add(1),await Ec(e),e.j_.set("Offline"),n||(n=()=>T1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ft(Ca,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await yd(e)})}function R1(e,t){return t().catch(n=>Gf(e,n,t))}async function vd(e){const t=It(e),n=Cs(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:xy;for(;TP(t);)try{const a=await nP(t.localStore,r);if(a===null){t.U_.length===0&&n.P_();break}r=a.batchId,bP(t,a)}catch(a){await Gf(t,a)}C1(t)&&I1(t)}function TP(e){return ka(e)&&e.U_.length<10}function bP(e,t){e.U_.push(t);const n=Cs(e);n.c_()&&n.S_&&n.b_(t.mutations)}function C1(e){return ka(e)&&!Cs(e).u_()&&e.U_.length>0}function I1(e){Cs(e).start()}async function AP(e){Cs(e).C_()}async function SP(e){const t=Cs(e);for(const n of e.U_)t.b_(n.mutations)}async function wP(e,t,n){const r=e.U_.shift(),a=My.from(r,t,n);await R1(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await vd(e)}async function xP(e,t){t&&Cs(e).S_&&await async function(r,a){if(function(c){return lM(c)&&c!==rt.ABORTED}(a.code)){const l=r.U_.shift();Cs(r).h_(),await R1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await vd(r)}}(e,t),C1(e)&&I1(e)}async function Ib(e,t){const n=It(e);n.asyncQueue.verifyOperationInProgress(),ft(Ca,"RemoteStore received new credentials");const r=ka(n);n.W_.add(3),await Ec(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await yd(n)}async function RP(e,t){const n=It(e);t?(n.W_.delete(2),await yd(n)):t||(n.W_.add(2),await Ec(n),n.j_.set("Unknown"))}function ml(e){return e.J_||(e.J_=function(n,r,a){const l=It(n);return l.M_(),new hP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:yP.bind(null,e),No:vP.bind(null,e),Lo:_P.bind(null,e),p_:EP.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Hy(e)?qy(e):e.j_.set("Unknown")):(await e.J_.stop(),x1(e))})),e.J_}function Cs(e){return e.Y_||(e.Y_=function(n,r,a){const l=It(n);return l.M_(),new fP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:AP.bind(null,e),Lo:xP.bind(null,e),D_:SP.bind(null,e),v_:wP.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await vd(e)):(await e.Y_.stop(),e.U_.length>0&&(ft(Ca,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new Gy(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(e,t){if(Ir("AsyncQueue",`${t}: ${e}`),fl(e))return new dt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Z_=new _e(vt.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):xt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class rl{constructor(t,n,r,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new rl(t,n,Yo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class IP{constructor(){this.queries=Nb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=It(n),l=a.queries;a.queries=Nb(),l.forEach((c,f)=>{for(const m of f.ta)m.onError(r)})})(this,new dt(rt.ABORTED,"Firestore shutting down"))}}function Nb(){return new Pa(e=>Xw(e),hd)}async function D1(e,t){const n=It(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.na()&&t.ra()&&(r=2):(l=new CP,r=t.ra()?0:1);try{switch(r){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Ky(c,`Initialization of query '${Po(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.ta.push(t),t.sa(n.onlineState),l.ea&&t.oa(l.ea)&&Qy(n)}async function N1(e,t){const n=It(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DP(e,t){const n=It(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(r=!0);c.ea=a}}r&&Qy(n)}function NP(e,t,n){const r=It(e),a=r.queries.get(t);if(a)for(const l of a.ta)l.onError(n);r.queries.delete(t)}function Qy(e){e.ia.forEach(t=>{t.next()})}var Fg,Vb;(Vb=Fg||(Fg={}))._a="default",Vb.Cache="cache";class V1{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new rl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.key=t}}class M1{constructor(t){this.key=t}}class VP{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ft(),this.mutatedKeys=Ft(),this.ya=Ww(t),this.wa=new Yo(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Db,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const b=a.get(y),S=fd(this.query,_)?_:null,I=!!b&&this.mutatedKeys.has(b.key),j=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;b&&S?b.data.isEqual(S.data)?I!==j&&(r.track({type:3,doc:S}),k=!0):this.va(b,S)||(r.track({type:2,doc:S}),k=!0,(m&&this.ya(S,m)>0||p&&this.ya(S,p)<0)&&(f=!0)):!b&&S?(r.track({type:0,doc:S}),k=!0):b&&!S&&(r.track({type:1,doc:b}),k=!0,(m||p)&&(f=!0)),k&&(S?(c=c.add(S),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{wa:c,Da:r,ls:f,mutatedKeys:l}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((y,_)=>function(S,I){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return j(S)-j(I)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(r),a=a!=null&&a;const f=n&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,p=m!==this.ga;return this.ga=m,c.length!==0||p?{snapshot:new rl(this.query,t.wa,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Db,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ft(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new M1(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new O1(r))}),n}Oa(t){this.fa=t.gs,this.pa=Ft();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return rl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yy="SyncEngine";class OP{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class MP{constructor(t){this.key=t,this.Ba=!1}}class PP{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Pa(f=>Xw(f),hd),this.qa=new Map,this.Qa=new Set,this.$a=new _e(vt.comparator),this.Ua=new Map,this.Ka=new Ly,this.Wa={},this.Ga=new Map,this.za=il.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function kP(e,t,n=!0){const r=F1(e);let a;const l=r.ka.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await P1(r,t,n,!0),a}async function LP(e,t){const n=F1(e);await P1(n,t,!0,!1)}async function P1(e,t,n,r){const a=await iP(e.localStore,zi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await jP(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&S1(e.remoteStore,a),f}async function jP(e,t,n,r,a){e.Ha=(_,b,S)=>async function(j,k,M,Z){let K=k.view.ba(M);K.ls&&(K=await Sb(j.localStore,k.query,!1).then(({documents:N})=>k.view.ba(N,K)));const tt=Z&&Z.targetChanges.get(k.targetId),X=Z&&Z.targetMismatches.get(k.targetId)!=null,at=k.view.applyChanges(K,j.isPrimaryClient,tt,X);return Mb(j,k.targetId,at.Ma),at.snapshot}(e,_,b,S);const l=await Sb(e.localStore,t,!0),c=new VP(t,l.gs),f=c.ba(l.documents),m=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Mb(e,n,p.Ma);const y=new OP(t,n,c);return e.ka.set(t,y),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),p.snapshot}async function UP(e,t,n){const r=It(e),a=r.ka.get(t),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!hd(c,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await jg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&By(r.remoteStore,a.targetId),Bg(r,a.targetId)}).catch(hl)):(Bg(r,a.targetId),await jg(r.localStore,a.targetId,!0))}async function FP(e,t){const n=It(e),r=n.ka.get(t),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),By(n.remoteStore,r.targetId))}async function BP(e,t,n){const r=YP(e);try{const a=await function(c,f){const m=It(c),p=ze.now(),y=f.reduce((S,I)=>S.add(I.key),Ft());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let I=Dr(),j=Ft();return m.ds.getEntries(S,y).next(k=>{I=k,I.forEach((M,Z)=>{Z.isValidDocument()||(j=j.add(M))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,I)).next(k=>{_=k;const M=[];for(const Z of f){const K=iM(Z,_.get(Z.key).overlayedDocument);K!=null&&M.push(new Ps(Z.key,K,zw(K.value.mapValue),vi.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,M,f)}).next(k=>{b=k;const M=k.applyToLocalDocumentSet(_,j);return m.documentOverlayCache.saveOverlays(S,k.batchId,M)})}).then(()=>({batchId:b.batchId,changes:Jw(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Wa[c.currentUser.toKey()];p||(p=new _e(Ot)),p=p.insert(f,m),c.Wa[c.currentUser.toKey()]=p}(r,a.batchId,n),await Tc(r,a.changes),await vd(r.remoteStore)}catch(a){const l=Ky(a,"Failed to persist write");n.reject(l)}}async function k1(e,t){const n=It(e);try{const r=await tP(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(Zt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Zt(c.Ba):a.removedDocuments.size>0&&(Zt(c.Ba),c.Ba=!1))}),await Tc(n,r,t)}catch(r){await hl(r)}}function Ob(e,t,n){const r=It(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((l,c)=>{const f=c.view.sa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=It(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.ta)b.sa(f)&&(p=!0)}),p&&Qy(m)}(r.eventManager,t),a.length&&r.La.p_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zP(e,t,n){const r=It(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Ua.get(t),l=a&&a.key;if(l){let c=new _e(vt.comparator);c=c.insert(l,pn.newNoDocument(l,Ct.min()));const f=Ft().add(l),m=new pd(Ct.min(),new Map,new _e(Ot),c,f);await k1(r,m),r.$a=r.$a.remove(l),r.Ua.delete(t),$y(r)}else await jg(r.localStore,t,!1).then(()=>Bg(r,t,n)).catch(hl)}async function qP(e,t){const n=It(e),r=t.batch.batchId;try{const a=await JM(n.localStore,t);j1(n,r,null),L1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,a)}catch(a){await hl(a)}}async function HP(e,t,n){const r=It(e);try{const a=await function(c,f){const m=It(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Zt(_!==null),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);j1(r,t,n),L1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Tc(r,a)}catch(a){await hl(a)}}function L1(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function j1(e,t,n){const r=It(e);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Wa[r.currentUser.toKey()]=a}}function Bg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(r=>{e.Ka.containsKey(r)||U1(e,r)})}function U1(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(By(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),$y(e))}function Mb(e,t,n){for(const r of n)r instanceof O1?(e.Ka.addReference(r.key,t),GP(e,r)):r instanceof M1?(ft(Yy,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||U1(e,r.key)):xt()}function GP(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(ft(Yy,"New document in limbo: "+n),e.Qa.add(r),$y(e))}function $y(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new vt(he.fromString(t)),r=e.za.next();e.Ua.set(r,new MP(n)),e.$a=e.$a.insert(n,r),S1(e.remoteStore,new vs(zi(Ny(n.path)),r,"TargetPurposeLimboResolution",ld.ae))}}async function Tc(e,t,n){const r=It(e),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((f,m)=>{c.push(r.Ha(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Uy.Yi(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.La.p_(a),await async function(m,p){const y=It(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>st.forEach(p,b=>st.forEach(b.Hi,S=>y.persistence.referenceDelegate.addReference(_,b.targetId,S)).next(()=>st.forEach(b.Ji,S=>y.persistence.referenceDelegate.removeReference(_,b.targetId,S)))))}catch(_){if(!fl(_))throw _;ft(Fy,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const S=y.Ts.get(b),I=S.snapshotVersion,j=S.withLastLimboFreeSnapshotVersion(I);y.Ts=y.Ts.insert(b,j)}}}(r.localStore,l))}async function KP(e,t){const n=It(e);if(!n.currentUser.isEqual(t)){ft(Yy,"User change. New user:",t.toKey());const r=await E1(n.localStore,t);n.currentUser=t,function(l,c){l.Ga.forEach(f=>{f.forEach(m=>{m.reject(new dt(rt.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.Rs)}}function QP(e,t){const n=It(e),r=n.Ua.get(t);if(r&&r.Ba)return Ft().add(r.key);{let a=Ft();const l=n.qa.get(t);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.Sa)}return a}}function F1(e){const t=It(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zP.bind(null,t),t.La.p_=DP.bind(null,t.eventManager),t.La.Ja=NP.bind(null,t.eventManager),t}function YP(e){const t=It(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HP.bind(null,t),t}class Kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gd(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return ZM(this.persistence,new $M,t.initialUser,this.serializer)}Xa(t){return new _1(jy.ri,this.serializer)}Za(t){return new sP}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kf.provider={build:()=>new Kf};class $P extends Kf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Zt(this.persistence.referenceDelegate instanceof Hf);const r=this.persistence.referenceDelegate.garbageCollector;return new MM(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new _1(r=>Hf.ri(r,n),this.serializer)}}class zg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ob(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KP.bind(null,this.syncEngine),await RP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new IP}()}createDatastore(t){const n=gd(t.databaseInfo.databaseId),r=function(l){return new cP(l)}(t.databaseInfo);return function(l,c,f,m){return new mP(l,c,f,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,f){return new gP(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>Ob(this.syncEngine,n,0),function(){return Rb.D()?new Rb:new aP}())}createSyncEngine(t,n){return function(a,l,c,f,m,p,y){const _=new PP(a,l,c,f,m,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=It(a);ft(Ca,"RemoteStore shutting down."),l.W_.add(5),await Ec(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class XP{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ft(Is,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ft(Is,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ky(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Yp(e,t){e.asyncQueue.verifyOperationInProgress(),ft(Is,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await E1(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Pb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WP(e);ft(Is,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Ib(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>Ib(t.remoteStore,a)),e._onlineComponents=t}async function WP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(Is,"Using user provided OfflineComponentProvider");try{await Yp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await Yp(e,new Kf)}}else ft(Is,"Using default OfflineComponentProvider"),await Yp(e,new $P(void 0));return e._offlineComponents}async function z1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(Is,"Using user provided OnlineComponentProvider"),await Pb(e,e._uninitializedComponentsProvider._online)):(ft(Is,"Using default OnlineComponentProvider"),await Pb(e,new zg))),e._onlineComponents}function ZP(e){return z1(e).then(t=>t.syncEngine)}async function q1(e){const t=await z1(e),n=t.eventManager;return n.onListen=kP.bind(null,t.syncEngine),n.onUnlisten=UP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=LP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FP.bind(null,t.syncEngine),n}function JP(e,t,n={}){const r=new xr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new B1({next:b=>{y.su(),c.enqueueAndForget(()=>N1(l,_));const S=b.docs.has(f);!S&&b.fromCache?p.reject(new dt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&m&&m.source==="server"?p.reject(new dt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new V1(Ny(f.path),y,{includeMetadataChanges:!0,Ta:!0});return D1(l,_)}(await q1(e),e.asyncQueue,t,n,r)),r.promise}function tk(e,t,n={}){const r=new xr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new B1({next:b=>{y.su(),c.enqueueAndForget(()=>N1(l,_)),b.fromCache&&m.source==="server"?p.reject(new dt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new V1(f,y,{includeMetadataChanges:!0,Ta:!0});return D1(l,_)}(await q1(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(e,t,n){if(!n)throw new dt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ek(e,t,n,r){if(t===!0&&r===!0)throw new dt(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Lb(e){if(!vt.isDocumentKey(e))throw new dt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jb(e){if(vt.isDocumentKey(e))throw new dt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _d(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xt()}function $i(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_d(e);throw new dt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firestore.googleapis.com",Ub=!0;class Fb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K1,this.ssl=Ub}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Ub;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=v1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<VM)throw new dt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ek("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ed{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uO;switch(r.type){case"firstParty":return new dO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kb.get(n);r&&(ft("ComponentProvider","Removing Datastore"),kb.delete(n),r.terminate())}(this),Promise.resolve()}}function nk(e,t,n,r={}){var a;const l=(e=$i(e,Ed))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),f=`${t}:${n}`;l.host!==K1&&l.host!==f&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!Aa(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=mn.MOCK_USER;else{p=bI(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new dt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(_)}e._authCredentials=new cO(new Dw(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new La(this.firestore,t,this._query)}}class Cn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class As extends La{constructor(t,n,r){super(t,n,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new vt(t))}withConverter(t){return new As(this.firestore,t,this._path)}}function Q1(e,t,...n){if(e=He(e),G1("collection","path",t),e instanceof Ed){const r=he.fromString(t,...n);return jb(r),new As(e,null,r)}{if(!(e instanceof Cn||e instanceof As))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(he.fromString(t,...n));return jb(r),new As(e.firestore,null,r)}}function bc(e,t,...n){if(e=He(e),arguments.length===1&&(t=Vw.newId()),G1("doc","path",t),e instanceof Ed){const r=he.fromString(t,...n);return Lb(r),new Cn(e,null,new vt(r))}{if(!(e instanceof Cn||e instanceof As))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(he.fromString(t,...n));return Lb(r),new Cn(e.firestore,e instanceof As?e.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="AsyncQueue";class zb{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new b1(this,"async_queue_retry"),this.Su=()=>{const r=Qp();r&&ft(Bb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new xr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!fl(t))throw t;ft(Bb,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(r);throw Ir("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const a=Gy.createAndSchedule(this,t,n,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&xt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class pl extends Ed{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new zb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zb(t),this._firestoreClient=void 0,await t}}}function Y1(e,t){const n=typeof e=="object"?e:BS(),r=typeof e=="string"?e:jf,a=py(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=EI("firestore");l&&nk(a,...l)}return a}function Xy(e){if(e._terminated)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ik(e),e._firestoreClient}function ik(e){var t,n,r;const a=e._freezeSettings(),l=function(f,m,p,y){return new CO(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,H1(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new XP(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sl(ln.fromBase64String(t))}catch(n){throw new dt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new sl(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=/^__.*__$/;class sk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ps(t,this.data,this.fieldMask,n,this.fieldTransforms):new vc(t,this.data,n,this.fieldTransforms)}}class $1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ps(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function X1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class tv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new tv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.$u(t),a}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Qf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(X1(this.Lu)&&rk.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class ak{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||gd(t)}ju(t,n,r,a=!1){return new tv({Lu:t,methodName:n,zu:r,path:on.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ev(e){const t=e._freezeSettings(),n=gd(e._databaseId);return new ak(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ok(e,t,n,r,a,l={}){const c=e.ju(l.merge||l.mergeFields?2:0,t,n,a);nv("Data must be an object, but it was:",c,r);const f=W1(r,c);let m,p;if(l.merge)m=new Hn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=qg(t,_,n);if(!c.contains(b))throw new dt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);J1(y,b)||y.push(b)}m=new Hn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new sk(new Pn(f),m,p)}class bd extends Wy{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bd}}function lk(e,t,n,r){const a=e.ju(1,t,n);nv("Data must be an object, but it was:",a,r);const l=[],c=Pn.empty();Ms(r,(m,p)=>{const y=iv(t,m,n);p=He(p);const _=a.Uu(y);if(p instanceof bd)l.push(y);else{const b=Ac(p,_);b!=null&&(l.push(y),c.set(y,b))}});const f=new Hn(l);return new $1(c,f,a.fieldTransforms)}function uk(e,t,n,r,a,l){const c=e.ju(1,t,n),f=[qg(t,r,n)],m=[a];if(l.length%2!=0)throw new dt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(qg(t,l[b])),m.push(l[b+1]);const p=[],y=Pn.empty();for(let b=f.length-1;b>=0;--b)if(!J1(p,f[b])){const S=f[b];let I=m[b];I=He(I);const j=c.Uu(S);if(I instanceof bd)p.push(S);else{const k=Ac(I,j);k!=null&&(p.push(S),y.set(S,k))}}const _=new Hn(p);return new $1(y,_,c.fieldTransforms)}function ck(e,t,n,r=!1){return Ac(n,e.ju(r?4:3,t))}function Ac(e,t){if(Z1(e=He(e)))return nv("Unsupported field value:",t,e),W1(e,t);if(e instanceof Wy)return function(r,a){if(!X1(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=Ac(f,a.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ze.fromDate(r);return{timestampValue:qf(a.serializer,l)}}if(r instanceof ze){const l=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qf(a.serializer,l)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sl)return{bytesValue:h1(a.serializer,r._byteString)};if(r instanceof Cn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ky(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Jy)return function(c,f){return{mapValue:{fields:{[Fw]:{stringValue:Bw},[Uf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return Vy(f.serializer,p)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${_d(r)}`)}(e,t)}function W1(e,t){const n={};return Mw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(e,(r,a)=>{const l=Ac(a,t.qu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function Z1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ze||e instanceof Zy||e instanceof sl||e instanceof Cn||e instanceof Wy||e instanceof Jy)}function nv(e,t,n){if(!Z1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=_d(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function qg(e,t,n){if((t=He(t))instanceof Td)return t._internalPath;if(typeof t=="string")return iv(e,t);throw Qf("Field path arguments must be of type string or ",e,!1,void 0,n)}const hk=new RegExp("[~\\*/\\[\\]]");function iv(e,t,n){if(t.search(hk)>=0)throw Qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Td(...t.split("."))._internalPath}catch{throw Qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new dt(rt.INVALID_ARGUMENT,f+e+m)}function J1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ad("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fk extends tx{data(){return super.data()}}function Ad(e,t){return typeof t=="string"?iv(e,t):t instanceof Td?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new dt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rv{}class ex extends rv{}function nx(e,t,...n){let r=[];t instanceof rv&&r.push(t),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof sv).length,f=l.filter(m=>m instanceof Sd).length;if(c>1||c>0&&f>0)throw new dt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class Sd extends ex{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Sd(t,n,r)}_apply(t){const n=this._parse(t);return rx(t._query,n),new La(t.firestore,t.converter,Vg(t._query,n))}_parse(t){const n=ev(t.firestore);return function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new dt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Hb(_,y);const I=[];for(const j of _)I.push(qb(m,l,j));b={arrayValue:{values:I}}}else b=qb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Hb(_,y),b=ck(f,c,_,y==="in"||y==="not-in");return Me.create(p,y,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ix(e,t,n){const r=t,a=Ad("where",e);return Sd._create(a,r,n)}class sv extends rv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new sv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ei.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)rx(c,m),c=Vg(c,m)}(t._query,n),new La(t.firestore,t.converter,Vg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class av extends ex{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new av(t,n)}_apply(t){const n=function(a,l,c){if(a.startAt!==null)throw new dt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new dt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(l,c)}(t._query,this._field,this._direction);return new La(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new dl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function mk(e,t="asc"){const n=t,r=Ad("orderBy",e);return av._create(r,n)}function qb(e,t,n){if(typeof(n=He(n))=="string"){if(n==="")throw new dt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$w(t)&&n.indexOf("/")!==-1)throw new dt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(he.fromString(n));if(!vt.isDocumentKey(r))throw new dt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sb(e,new vt(r))}if(n instanceof Cn)return sb(e,n._key);throw new dt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(n)}.`)}function Hb(e,t){if(!Array.isArray(e)||e.length===0)throw new dt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rx(e,t){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new dt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class pk{convertValue(t,n="none"){switch(Rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw xt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ms(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Uf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Ce(c.doubleValue));return new Jy(l)}convertGeoPoint(t){return new Zy(Ce(t.latitude),Ce(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=cd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(t));default:return null}}convertTimestamp(t){const n=ws(t);return new ze(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=he.fromString(t);Zt(y1(r));const a=new Xu(r.get(1),r.get(3)),l=new vt(r.popFirst(5));return a.isEqual(n)||Ir(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sx extends tx{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Ad("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tf extends sx{data(t={}){return super.data(t)}}class yk{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ou(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Tf(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Tf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ou(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Tf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ou(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:vk(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e){e=$i(e,Cn);const t=$i(e.firestore,pl);return JP(Xy(t),e._key).then(n=>Tk(t,e,n))}class ax extends pk{constructor(t){super(),this.firestore=t}convertBytes(t){return new sl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function ox(e){e=$i(e,La);const t=$i(e.firestore,pl),n=Xy(t),r=new ax(t);return dk(e._query),tk(n,e._query).then(a=>new yk(t,r,e,a))}function lx(e,t,n){e=$i(e,Cn);const r=$i(e.firestore,pl),a=gk(e.converter,t);return ov(r,[ok(ev(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,vi.none())])}function ux(e,t,n,...r){e=$i(e,Cn);const a=$i(e.firestore,pl),l=ev(a);let c;return c=typeof(t=He(t))=="string"||t instanceof Td?uk(l,"updateDoc",e._key,t,n,r):lk(l,"updateDoc",e._key,t),ov(a,[c.toMutation(e._key,vi.exists(!0))])}function Ek(e){return ov($i(e.firestore,pl),[new Oy(e._key,vi.none())])}function ov(e,t){return function(r,a){const l=new xr;return r.asyncQueue.enqueueAndForget(async()=>BP(await ZP(r),a,l)),l.promise}(Xy(e),t)}function Tk(e,t,n){const r=n.docs.get(t._key),a=new ax(e);return new sx(e,a,t._key,r,new Ou(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){cl=a})(ll),Wo(new Sa("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new pl(new hO(r.getProvider("auth-internal")),new mO(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new dt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ts(QT,YT,t),Ts(QT,YT,"esm2017")})();const bf=id("auth/register",async({email:e,password:t,displayName:n},{rejectWithValue:r})=>{try{const a=yc(),l=await HN(a,e,t);await QN(l.user,{displayName:n});const c=bc(Y1(),`users/${l.user.uid}`);return await lx(c,{uid:l.user.uid,email:e,displayName:n}),{user:{email:l.user.email,id:l.user.uid,name:n}}}catch(a){return a instanceof Error?r(a.code):r(a.message)}}),Af=id("auth/login",async({email:e,password:t},{rejectWithValue:n})=>{try{const r=yc(),a=await GN(r,e,t);return{user:{email:a.user.email,id:a.user.uid,name:a.user.displayName}}}catch(r){return r instanceof Error?n(r.code):n(r.message)}}),bk={loading:!1,userInfo:null,error:null,success:!1},cx=Va({name:"auth",initialState:bk,reducers:{authenticateUser:(e,t)=>{e.userInfo={...t.payload}},logOutUser:e=>{e.userInfo=null}},extraReducers:e=>{e.addCase(bf.pending,t=>{t.loading=!0,t.error=""}).addCase(bf.rejected,(t,{payload:n})=>{t.loading=!1,t.error=n}).addCase(bf.fulfilled,(t,{payload:n})=>{t.loading=!1,t.success=!0,t.userInfo=n.user}).addCase(Af.pending,t=>{t.loading=!0,t.error=""}).addCase(Af.rejected,(t,{payload:n})=>{t.loading=!1,t.loading=!1,t.error=n}).addCase(Af.fulfilled,(t,{payload:n})=>{t.loading=!1,t.success=!0,t.userInfo=n.user})}}),lv=e=>e.auth,{authenticateUser:Ak,logOutUser:Sk}=cx.actions,wk=cx.reducer;var xk="firebase",Rk="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(xk,Rk,"app");const Ck={apiKey:"AIzaSyDtyxcH2EXtaYehxBllkRi8h0SfJy9IwCc",authDomain:"react-invoice-f349b.firebaseapp.com",projectId:"react-invoice-f349b",storageBucket:"react-invoice-f349b.firebasestorage.app",messagingSenderId:"353997432586",appId:"1:353997432586:web:11da9f0022f5e9d142fcf3"},Ik=FS(Ck),gl=Y1(Ik),Dk={invoices:[],loading:!1,error:null,success:null,deleted:!1,updated:!1,edited:!1},Sf=id.withTypes()("invoices/delete",async(e,{rejectWithValue:t,getState:n,dispatch:r})=>{var m;const a=n();if(!((m=a.auth.userInfo)==null?void 0:m.id))return t("User not authenticated");const c=a.invoices.invoices,f=a.invoices.invoices.filter(p=>p.id!==e);r(Hg(f));try{return await Ek(bc(gl,"invoices",e)),`Invoice ${e} has been deleted`}catch(p){return r(Hg(c)),p instanceof Error?t(p.message):t("Error occurred")}}),wf=id.withTypes()("invoices/updateStatus",async(e,{rejectWithValue:t,getState:n,dispatch:r})=>{var y;const a=n();if(!((y=a.auth.userInfo)==null?void 0:y.id))return t("User not authenticated");const c=bc(gl,"invoices",e),f=await _k(c);if(!f.exists())return t(`Invoice with ID ${e} not found`);if(f.data().status==="paid")return t(`Invoice with ID ${e} has already been paid`);const p=a.invoices.invoices.find(_=>_.id===e);r(Gb({invoiceId:e,status:"paid"}));try{return await ux(c,{status:"paid"}),`Invoice ${e} status has been updated`}catch(_){return r(Gb({invoiceId:e,status:p.status})),_ instanceof Error?t(_.message):t("Error occurred")}}),hx=Va({name:"invoices",initialState:Dk,reducers:{initializeInvoices:(e,t)=>{e.invoices=t.payload},resetInvoicesState:e=>{e.success=null,e.error=null,e.loading=!1,e.deleted=!1,e.updated=!1,e.edited=!1},addInvoice:(e,t)=>{e.invoices.push(t.payload)},removeInvoice:(e,t)=>{const n=t.payload;e.invoices.filter(r=>r.id!==n)},updateInvoiceStatus:(e,t)=>{const{invoiceId:n,status:r}=t.payload,a=e.invoices.find(l=>l.id===n);a&&(a.status=r)},updateInvoice:(e,t)=>{const{invoiceId:n,changes:r}=t.payload,a=e.invoices.findIndex(l=>l.id===n);e.invoices[a]={...e.invoices[a],...r}}},extraReducers:e=>{e.addCase(Sf.pending,t=>{t.loading=!0}).addCase(Sf.rejected,(t,{payload:n})=>{t.loading=!1,t.error=n}).addCase(Sf.fulfilled,(t,{payload:n})=>{t.loading=!1,t.deleted=!0,n&&(t.success=n)}).addCase(wf.pending,t=>{t.loading=!0}).addCase(wf.rejected,(t,{payload:n})=>{t.loading=!1,t.error=n}).addCase(wf.fulfilled,(t,{payload:n})=>{t.loading=!1,n&&(t.success=n,t.updated=!0)})}}),{initializeInvoices:Hg,resetInvoicesState:Yf,addInvoice:fx,removeInvoice:dx,updateInvoiceStatus:Gb,updateInvoice:Kb}=hx.actions,ja=e=>e.invoices,Nk=hx.reducer,Vk={message:null,shown:!1},mx=Va({name:"notification",initialState:Vk,reducers:{showNotification:(e,t)=>{e.shown=!0,e.message=t.payload},resetNotification:e=>{e.shown=!1,e.message=null}}}),Ok=e=>e.notification,{showNotification:gn,resetNotification:Mk}=mx.actions,Pk=mx.reducer,kk={InvoiceDate:"",openForm:!1},px=Va({name:"form",initialState:kk,reducers:{setInvoiceDate:(e,t)=>{e.InvoiceDate=t.payload.join("-")},setOpenForm:(e,t)=>{e.openForm=t.payload}}}),Lk=px.reducer,{setInvoiceDate:x5,setOpenForm:Ui}=px.actions,gx=e=>e.form,Ia=new Date().getFullYear(),Da=new Date().getMonth(),wd=new Date().getDate(),Gg=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jk=6,Kg=(e=Da,t=Ia)=>{const n=[3,5,8,10],r=t%4===0&&t%100!==0||t%400===0;return e===1?r?29:28:n.includes(e)?30:31},yx=(e=Da,t=Ia)=>{const r=new Date(t,e,1).getDay();return r===0?7:r},Uk=e=>e>1?e-1:12;function vx(e,t){const n=[],r=yx(e,t),a=Kg(e,t),l=Uk(e),c=Kg(l,t)+1;for(let f=1;f<=jk*7+1;f++){if(f<r){n.push(c-r+f);continue}if(f!=r){if(f-r>a){n.push(f-r-a);continue}n.push(f-r)}}return n}function $p(e){return e.startsWith("0")&&e.length===2?e[1]:e}function Fk(e){const t=e.split("-"),n=$p(t[0]),r=$p(t[1]),a=$p(t[2]);return[parseInt(n),parseInt(r),parseInt(a)].reverse()}const Bk={calendarOpen:!1,date:[wd,Da,Ia]},_x=Va({name:"datePicker",initialState:Bk,reducers:{setCalendarOpen:(e,t)=>{e.calendarOpen=t.payload}}}),zk=_x.reducer,{setCalendarOpen:$f}=_x.actions,qk=e=>e.datePicker,Hk={termsOpen:!1,option:"Net 1 day"},Ex=Va({name:"terms",initialState:Hk,reducers:{setTermsOpen:(e,t)=>{e.termsOpen=t.payload},setOption:(e,t)=>{e.option=t.payload}}}),Gk=Ex.reducer,{setTermsOpen:Mu,setOption:Kk}=Ex.actions,Qk=e=>e.terms,xd=KC({reducer:{filters:hI,auth:wk,invoices:Nk,notification:Pk,form:Lk,datePicker:zk,terms:Gk}});function Yk({children:e}){return A.jsx("div",{className:"relative flex flex-col px-6 md:px-12 bg-[var(--blue-white)] min-h-screen dark:bg-[var(--deep-black)]",children:e})}const $k="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='28'%20height='26'%3e%3cpath%20fill='%23FFF'%20fill-rule='evenodd'%20d='M20.513%200C24.965%202.309%2028%206.91%2028%2012.21%2028%2019.826%2021.732%2026%2014%2026S0%2019.826%200%2012.21C0%206.91%203.035%202.309%207.487%200L14%2012.9z'/%3e%3c/svg%3e";function Xk(){return A.jsxs("div",{className:"flex flex-col relative w-[4.5rem] md:w-20 lg:w-[6.4375rem] h-[4.5rem] md:h-20 lg:h-[6.4375rem]",children:[A.jsx("div",{className:"relative z-10 h-full w-full bg-[#7C5DFA] rounded-r-3xl"}),A.jsx("img",{src:$k,alt:"",width:28,height:26,className:"absolute inset-0 m-auto z-30 md:w-[31px] md:h-[29px] lg:w-[40px] lg:h-[38px]"}),A.jsx("div",{className:"absolute bottom-0 h-3/6 z-20 w-full bg-[#9277FF] rounded-tl-3xl rounded-br-3xl"})]})}const Wk="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIAFAAUAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAAAAgMHCAEEBQb/2gAIAQEAAAAAsvkyGTAk1IO8pJ8tBhGYhrh6vnW47oNlcPGu9+fPSA2efrf0OPbDaBkIkqptX02jLJiM6WIkCw8o7yTl1Di5Ww9tWam+LKq8VkEPyNdCifkVIU2jYkr/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/2gAIAQIQAAAAblTvhcgesRZ83QhRDSoKpn//xAAaAQABBQEAAAAAAAAAAAAAAAACAAEDBAUG/9oACAEDEAAAAKWpbwkHVFzMcd69ioFKDJ3cP//EADUQAAEDAwIEBAMFCQAAAAAAAAECAwQABREGEgchMUEQE1FxIzJhFCAigaEkMENSYnORsbL/2gAIAQEAAT8A/eTp8aBEdlSF7W2xkn/QFXriPcH3HExlllvshPzfmaY13dobu5qepPqCdwNaZ4msznUMT0NpJwA810yf5k/f4s3dDEOFCC8KUovL9hyFIdm3WZ9mhgD1UegFRNFQXE4euRW73DbiautkXYyJUO5Jd8oBa2s/FQM/MMVpe5quunrXOUQVPR0lR9VDkfvcb25qrnaW2W8+ewUJP1SasVuet1sC2GQ6+vkSe1RLROnX6O624UNJKC6Rke4qXo2UxdX2ypZZfcKvPIBBZUMFs9wa0fZzZNM2m3KcC1MMAKUOhKiVeOazWa1LZGL1bVMLbSpxCgtonsodsnsakOXiwXh+NObLe7C8HBGFHqCKmasb+xurYkojObCGso3FSu5AqxaucDq0Trm+4XEpShK8FvJ9qgn9iif2G/8AkVnwzWazWa4vWVcuwi6R0ZfhfP8AVldIuKFv71gZCAlKlDcE889KTdhsIW+F5UMI8tKR16jFQZMeTDjPx3EOMuNJLa0HKSMdq3Vms1nw51xafksaOkOMTksEPIyg/wAcd26ccUtRJAHtSeorSOvNQ6cfZTHlLciJXlcRZ+GoVY+MmnZ6g3NYehLPc/ERUK526e0HIcxh9J7oWFeG2sVd71bLLDVKnyUMtjpnqo+iR3NcR9cPaqmseW2WokbcGW+53dVqojn0oJ6ZpKsdKRILfTmfWmZslpYcQ6pKwchQPMVwo17NvK3bTcnvNfbb3sOn5lpHVKvDiLxERphCIcNKVz3UZ59GkHuau1/ud3kqfnTHX3PVZzj6CiaV1A8CcAn0oHn+VJVXCt5aNcWbb3cWD7FB8NbXc3PU13lbypCpSw2f6EnaK3/qa71nK/BR/CaTkmh+grhQnOubR7un/DZr/8QAIBEAAgICAgIDAAAAAAAAAAAAAQIAEQMEEDEhQRMgcf/aAAgBAgEBPwCbO3jwUDZY+hMO/jyEBlKEn6Z0HzO7Vd+IgtqJBFRRSj85za6vZ9zHrhDK5PUqKZ4PU6swknle5//EACARAAICAgEFAQAAAAAAAAAAAAECABEDBAUQICExQWH/2gAIAQMBAT8AnH8Vs71lKVB7Y+pt8Ds4AWTIuVQPNe+zU2GGpgwYiQtEu36fkZnVbUENMpByuQPp6XNXcfFSfLmTfLi7A8QmyZfQWDLldtQz/9k=";function Zk(){return A.jsx("div",{className:"flex justify-center items-center py-[4px] px-[8px]",children:A.jsxs("button",{className:"cursor-pointer p-4",children:[A.jsx("span",{className:"sr-only",children:"Open profile"}),A.jsx("img",{src:Wk,alt:"",width:80,height:80,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10"})]})})}const uv=G.createContext({});function cv(e){const t=G.useRef(null);return t.current===null&&(t.current=e()),t.current}const hv=typeof window<"u",Tx=hv?G.useLayoutEffect:G.useEffect,Rd=G.createContext(null),fv=G.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Jk extends G.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tL({children:e,isPresent:t,anchorX:n}){const r=G.useId(),a=G.useRef(null),l=G.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=G.useContext(fv);return G.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(t||!a.current||!f||!m)return;const b=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const S=document.createElement("style");return c&&(S.nonce=c),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[t]),A.jsx(Jk,{isPresent:t,childRef:a,sizeRef:l,children:G.cloneElement(e,{ref:a})})}const eL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=cv(nL),p=G.useId(),y=G.useCallback(b=>{m.set(b,!0);for(const S of m.values())if(!S)return;r&&r()},[m,r]),_=G.useMemo(()=>({id:p,initial:t,isPresent:n,custom:a,onExitComplete:y,register:b=>(m.set(b,!1),()=>m.delete(b))}),l?[Math.random(),y]:[n,y]);return G.useMemo(()=>{m.forEach((b,S)=>m.set(S,!1))},[n]),G.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=A.jsx(tL,{isPresent:n,anchorX:f,children:e})),A.jsx(Rd.Provider,{value:_,children:e})};function nL(){return new Map}function bx(e=!0){const t=G.useContext(Rd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=G.useId();G.useEffect(()=>{if(e)return a(l)},[e]);const c=G.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const rf=e=>e.key||"";function Qb(e){const t=[];return G.Children.forEach(e,n=>{G.isValidElement(n)&&t.push(n)}),t}const Xi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=bx(c),y=G.useMemo(()=>Qb(e),[e]),_=c&&!m?[]:y.map(rf),b=G.useRef(!0),S=G.useRef(y),I=cv(()=>new Map),[j,k]=G.useState(y),[M,Z]=G.useState(y);Tx(()=>{b.current=!1,S.current=y;for(let X=0;X<M.length;X++){const at=rf(M[X]);_.includes(at)?I.delete(at):I.get(at)!==!0&&I.set(at,!1)}},[M,_.length,_.join("-")]);const K=[];if(y!==j){let X=[...y];for(let at=0;at<M.length;at++){const N=M[at],x=rf(N);_.includes(x)||(X.splice(at,0,N),K.push(N))}return l==="wait"&&K.length&&(X=K),Z(Qb(X)),k(y),null}const{forceRender:tt}=G.useContext(uv);return A.jsx(A.Fragment,{children:M.map(X=>{const at=rf(X),N=c&&!m?!1:y===M||_.includes(at),x=()=>{if(I.has(at))I.set(at,!0);else return;let C=!0;I.forEach(O=>{O||(C=!1)}),C&&(tt==null||tt(),Z(S.current),c&&(p==null||p()),r&&r())};return A.jsx(eL,{isPresent:N,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,onExitComplete:N?void 0:x,anchorX:f,children:X},at)})})};let Ax=()=>{};const li=e=>e,iL={useManualTiming:!1},sf=["read","resolveKeyframes","update","preRender","render","postRender"],Yb={value:null};function rL(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(f)}const y={schedule:(_,b=!1,S=!1)=>{const j=S&&a?n:r;return b&&c.add(_),j.has(_)||j.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&Yb.value&&Yb.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const sL=40;function Sx(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=sf.reduce((M,Z)=>(M[Z]=rL(l,t?Z:void 0),M),{}),{read:f,resolveKeyframes:m,update:p,preRender:y,render:_,postRender:b}=c,S=()=>{const M=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(M-a.timestamp,sL),1),a.timestamp=M,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(S))},I=()=>{n=!0,r=!0,a.isProcessing||e(S)};return{schedule:sf.reduce((M,Z)=>{const K=c[Z];return M[Z]=(tt,X=!1,at=!1)=>(n||I(),K.schedule(tt,X,at)),M},{}),cancel:M=>{for(let Z=0;Z<sf.length;Z++)c[sf[Z]].cancel(M)},state:a,steps:c}}const{schedule:ue,cancel:Ds,state:sn,steps:Xp}=Sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0),wx=G.createContext({strict:!1}),$b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const e in $b)al[e]={isEnabled:t=>$b[e].some(n=>!!t[n])};function aL(e){for(const t in e)al[t]={...al[t],...e[t]}}const oL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oL.has(e)}let xx=e=>!Xf(e);function lL(e){e&&(xx=t=>t.startsWith("on")?!Xf(t):e(t))}try{lL(require("@emotion/is-prop-valid").default)}catch{}function uL(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(xx(a)||n===!0&&Xf(a)||!t&&!Xf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function cL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Cd=G.createContext({});function Id(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ec(e){return typeof e=="string"||Array.isArray(e)}const dv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mv=["initial",...dv];function Dd(e){return Id(e.animate)||mv.some(t=>ec(e[t]))}function Rx(e){return!!(Dd(e)||e.variants)}function hL(e,t){if(Dd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ec(n)?n:void 0,animate:ec(r)?r:void 0}}return e.inherit!==!1?t:{}}function fL(e){const{initial:t,animate:n}=hL(e,G.useContext(Cd));return G.useMemo(()=>({initial:t,animate:n}),[Xb(t),Xb(n)])}function Xb(e){return Array.isArray(e)?e.join(" "):e}const dL=Symbol.for("motionComponentSymbol");function Uo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mL(e,t,n){return G.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Uo(n)&&(n.current=r))},[t])}const{schedule:pv}=Sx(queueMicrotask,!1),gv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pL="framerAppearId",Cx="data-"+gv(pL),Ix=G.createContext({});function gL(e,t,n,r,a){var j,k;const{visualElement:l}=G.useContext(Cd),c=G.useContext(wx),f=G.useContext(Rd),m=G.useContext(fv).reducedMotion,p=G.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=G.useContext(Ix);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&yL(p.current,n,a,_);const b=G.useRef(!1);G.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const S=n[Cx],I=G.useRef(!!S&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,S))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,S)));return Tx(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),pv.render(y.render),I.current&&y.animationState&&y.animationState.animateChanges())}),G.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,S)}),I.current=!1))}),y}function yL(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Dx(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Uo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:m,layoutRoot:p})}function Dx(e){if(e)return e.options.allowProjection!==!1?e.projection:Dx(e.parent)}function vL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&aL(e);function l(f,m){let p;const y={...G.useContext(fv),...f,layoutId:_L(f)},{isStatic:_}=y,b=fL(f),S=r(f,_);if(!_&&hv){EL();const I=TL(y);p=I.MeasureLayout,b.visualElement=gL(a,S,y,t,I.ProjectionNode)}return A.jsxs(Cd.Provider,{value:b,children:[p&&b.visualElement?A.jsx(p,{visualElement:b.visualElement,...y}):null,n(a,f,mL(S,b.visualElement,m),S,_,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=G.forwardRef(l);return c[dL]=a,c}function _L({layoutId:e}){const t=G.useContext(uv).id;return t&&e!==void 0?t+"-"+e:e}function EL(e,t){G.useContext(wx).strict}function TL(e){const{drag:t,layout:n}=al;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Nx=e=>t=>typeof t=="string"&&t.startsWith(e),yv=Nx("--"),bL=Nx("var(--"),vv=e=>bL(e)?AL.test(e.split("/*")[0].trim()):!1,AL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nc={};function SL(e){for(const t in e)nc[t]=e[t],yv(t)&&(nc[t].isCSSVariable=!0)}const yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ua=new Set(yl);function Vx(e,{layout:t,layoutId:n}){return Ua.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!nc[e]||e==="opacity")}const yn=e=>!!(e&&e.getVelocity),Ox=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Nr=(e,t,n)=>n>t?t:n<e?e:n,vl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ic={...vl,transform:e=>Nr(0,1,e)},af={...vl,default:1},Sc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ds=Sc("deg"),Hi=Sc("%"),At=Sc("px"),wL=Sc("vh"),xL=Sc("vw"),Wb={...Hi,parse:e=>Hi.parse(e)/100,transform:e=>Hi.transform(e*100)},RL={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At},CL={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:ds,skewX:ds,skewY:ds,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:ic,originX:Wb,originY:Wb,originZ:At},Zb={...vl,transform:Math.round},_v={...RL,...CL,zIndex:Zb,size:At,fillOpacity:ic,strokeOpacity:ic,numOctaves:Zb},IL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DL=yl.length;function NL(e,t,n){let r="",a=!0;for(let l=0;l<DL;l++){const c=yl[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=Ox(f,_v[c]);if(!m){a=!1;const y=IL[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Ev(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(Ua.has(m)){c=!0;continue}else if(yv(m)){a[m]=p;continue}else{const y=Ox(p,_v[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=NL(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Tv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mx(e,t,n){for(const r in t)!yn(t[r])&&!Vx(r,n)&&(e[r]=t[r])}function VL({transformTemplate:e},t){return G.useMemo(()=>{const n=Tv();return Ev(n,t,e),Object.assign({},n.vars,n.style)},[t])}function OL(e,t){const n=e.style||{},r={};return Mx(r,n,e),Object.assign(r,VL(e,t)),r}function ML(e,t){const n={},r=OL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const PL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bv(e){return typeof e!="string"||e.includes("-")?!1:!!(PL.indexOf(e)>-1||/[A-Z]/u.test(e))}const kL={offset:"stroke-dashoffset",array:"stroke-dasharray"},LL={offset:"strokeDashoffset",array:"strokeDasharray"};function jL(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?kL:LL;e[l.offset]=At.transform(-r);const c=At.transform(t),f=At.transform(n);e[l.array]=`${c} ${f}`}function Jb(e,t,n){return typeof e=="string"?e:At.transform(t+n*e)}function UL(e,t,n){const r=Jb(t,e.x,e.width),a=Jb(n,e.y,e.height);return`${r} ${a}`}function Av(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:m=0,...p},y,_){if(Ev(e,p,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:S,dimensions:I}=e;b.transform&&(I&&(S.transform=b.transform),delete b.transform),I&&(a!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=UL(I,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),c!==void 0&&jL(b,c,f,m,!1)}const Px=()=>({...Tv(),attrs:{}}),Sv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function FL(e,t,n,r){const a=G.useMemo(()=>{const l=Px();return Av(l,t,Sv(r),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Mx(l,e.style,e),a.style={...l,...a.style}}return a}function BL(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(bv(n)?FL:ML)(r,l,c,n),p=uL(r,typeof n=="string",e),y=n!==G.Fragment?{...p,...m,ref:a}:{},{children:_}=r,b=G.useMemo(()=>yn(_)?_.get():_,[_]);return G.createElement(n,{...y,children:b})}}function tA(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function wv(e,t,n,r){if(typeof t=="function"){const[a,l]=tA(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=tA(r);t=t(n!==void 0?n:e.custom,a,l)}return t}const Qg=e=>Array.isArray(e),zL=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),qL=e=>Qg(e)?e[e.length-1]||0:e;function xf(e){const t=yn(e)?e.get():e;return zL(t)?t.toValue():t}function HL({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,l){const c={latestValues:GL(r,a,l,e),renderState:t()};return n&&(c.onMount=f=>n({props:r,current:f,...c}),c.onUpdate=f=>n(f)),c}const kx=e=>(t,n)=>{const r=G.useContext(Cd),a=G.useContext(Rd),l=()=>HL(e,t,r,a);return n?l():cv(l)};function GL(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=xf(l[b]);let{initial:c,animate:f}=e;const m=Dd(e),p=Rx(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Id(_)){const b=Array.isArray(_)?_:[_];for(let S=0;S<b.length;S++){const I=wv(e,b[S]);if(I){const{transitionEnd:j,transition:k,...M}=I;for(const Z in M){let K=M[Z];if(Array.isArray(K)){const tt=y?K.length-1:0;K=K[tt]}K!==null&&(a[Z]=K)}for(const Z in j)a[Z]=j[Z]}}}return a}function xv(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(yn(r[c])||t.style&&yn(t.style[c])||Vx(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const KL={useVisualState:kx({scrapeMotionValuesFromProps:xv,createRenderState:Tv})};function Lx(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function jx(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}const Ux=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fx(e,t,n,r){jx(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Ux.has(a)?a:gv(a),t.attrs[a])}function Bx(e,t,n){const r=xv(e,t,n);for(const a in e)if(yn(e[a])||yn(t[a])){const l=yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const eA=["x","y","width","height","cx","cy","r"],QL={useVisualState:kx({scrapeMotionValuesFromProps:Bx,createRenderState:Px,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let l=!!e.drag;if(!l){for(const f in a)if(Ua.has(f)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let f=0;f<eA.length;f++){const m=eA[f];e[m]!==t[m]&&(c=!0)}c&&ue.read(()=>{Lx(n,r),ue.render(()=>{Av(r,a,Sv(n.tagName),e.transformTemplate),Fx(n,r)})})}})};function YL(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...bv(r)?QL:KL,preloadedFeatures:e,useRender:BL(a),createVisualElement:t,Component:r};return vL(c)}}function rc(e,t,n){const r=e.getProps();return wv(r,t,n!==void 0?n:r.custom,e)}function Rv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const zx=new Set(["width","height","top","left","right","bottom",...yl]);function Cv(e,t){e.indexOf(t)===-1&&e.push(t)}function Iv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Dv{constructor(){this.subscriptions=[]}add(t){return Cv(this.subscriptions,t),()=>Iv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qx(e,t){return t?e*(1e3/t):0}let Rf;function $L(){Rf=void 0}const Gi={now:()=>(Rf===void 0&&Gi.set(sn.isProcessing||iL.useManualTiming?sn.timestamp:performance.now()),Rf),set:e=>{Rf=e,queueMicrotask($L)}},nA=30,XL=e=>!isNaN(parseFloat(e));class WL{constructor(t,n={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=Gi.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Gi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=XL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dv);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nA);return qx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(e,t){return new WL(e,t)}function ZL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sc(n))}function JL(e,t){const n=rc(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=qL(l[c]);ZL(e,c,f)}}function t3(e){return!!(yn(e)&&e.add)}function Yg(e,t){const n=e.getValue("willChange");if(t3(n))return n.add(t)}function Hx(e){return e.props[Cx]}const Ki=e=>e*1e3,Qi=e=>e/1e3;function Nv(e){let t;return()=>(t===void 0&&(t=e()),t)}const e3=Nv(()=>window.ScrollTimeline!==void 0);class n3{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(e3()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class i3 extends n3{then(t,n){return this.finished.finally(t).then(()=>{})}}const Vv=e=>Array.isArray(e)&&typeof e[0]=="number",r3={};function s3(e,t){const n=Nv(e);return()=>r3[t]??n()}const ac=s3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gx=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Pu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$g={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function Kx(e,t){if(e)return typeof e=="function"&&ac()?Gx(e,t):Vv(e)?Pu(e):Array.isArray(e)?e.map(n=>Kx(n,t)||$g.easeOut):$g[e]}function a3(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=Kx(f,a);return Array.isArray(_)&&(y.easing=_),e.animate(y,{delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:p})}function Ov(e){return typeof e=="function"&&"applyToOptions"in e}function Qx(e){return!!(typeof e=="function"&&ac()||!e||typeof e=="string"&&(e in $g||ac())||Vv(e)||Array.isArray(e)&&e.every(Qx))}function iA(e,t){e.timeline=t,e.onfinish=null}const Yx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,o3=1e-7,l3=12;function u3(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=Yx(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>o3&&++f<l3);return c}function wc(e,t,n,r){if(e===t&&n===r)return li;const a=l=>u3(l,0,1,e,n);return l=>l===0||l===1?l:Yx(a(l),t,r)}const $x=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Xx=e=>t=>1-e(1-t),Wx=wc(.33,1.53,.69,.99),Mv=Xx(Wx),Zx=$x(Mv),Jx=e=>(e*=2)<1?.5*Mv(e):.5*(2-Math.pow(2,-10*(e-1))),Pv=e=>1-Math.sin(Math.acos(e)),tR=Xx(Pv),eR=$x(Pv),nR=e=>/^0[^.\s]+$/u.test(e);function c3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nR(e):!0}const zu=e=>Math.round(e*1e5)/1e5,kv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function h3(e){return e==null}const f3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lv=(e,t)=>n=>!!(typeof n=="string"&&f3.test(n)&&n.startsWith(e)||t&&!h3(n)&&Object.prototype.hasOwnProperty.call(n,t)),iR=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(kv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},d3=e=>Nr(0,255,e),Wp={...vl,transform:e=>Math.round(d3(e))},Ea={test:Lv("rgb","red"),parse:iR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wp.transform(e)+", "+Wp.transform(t)+", "+Wp.transform(n)+", "+zu(ic.transform(r))+")"};function m3(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Xg={test:Lv("#"),parse:m3,transform:Ea.transform},Fo={test:Lv("hsl","hue"),parse:iR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hi.transform(zu(t))+", "+Hi.transform(zu(n))+", "+zu(ic.transform(r))+")"},dn={test:e=>Ea.test(e)||Xg.test(e)||Fo.test(e),parse:e=>Ea.test(e)?Ea.parse(e):Fo.test(e)?Fo.parse(e):Xg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ea.transform(e):Fo.transform(e)},p3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(kv))==null?void 0:t.length)||0)+(((n=e.match(p3))==null?void 0:n.length)||0)>0}const rR="number",sR="color",y3="var",v3="var(",rA="${}",_3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(_3,m=>(dn.test(m)?(r.color.push(l),a.push(sR),n.push(dn.parse(m))):m.startsWith(v3)?(r.var.push(l),a.push(y3),n.push(m)):(r.number.push(l),a.push(rR),n.push(parseFloat(m))),++l,rA)).split(rA);return{values:n,split:f,indexes:r,types:a}}function aR(e){return oc(e).values}function oR(e){const{split:t,types:n}=oc(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===rR?l+=zu(a[c]):f===sR?l+=dn.transform(a[c]):l+=a[c]}return l}}const E3=e=>typeof e=="number"?0:e;function T3(e){const t=aR(e);return oR(e)(t.map(E3))}const Ns={test:g3,parse:aR,createTransformer:oR,getAnimatableNone:T3},b3=new Set(["brightness","contrast","saturate","opacity"]);function A3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(kv)||[];if(!r)return e;const a=n.replace(r,"");let l=b3.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const S3=/\b([a-z-]*)\(.*?\)/gu,Wg={...Ns,getAnimatableNone:e=>{const t=e.match(S3);return t?t.map(A3).join(" "):e}},w3={..._v,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Wg,WebkitFilter:Wg},lR=e=>w3[e];function uR(e,t){let n=lR(e);return n!==Wg&&(n=Ns),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const x3=new Set(["auto","none","0"]);function R3(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!x3.has(l)&&oc(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=uR(n,a)}const Ta=e=>e*180/Math.PI,Zg=e=>{const t=Ta(Math.atan2(e[1],e[0]));return Jg(t)},C3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Zg,rotateZ:Zg,skewX:e=>Ta(Math.atan(e[1])),skewY:e=>Ta(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jg=e=>(e=e%360,e<0&&(e+=360),e),sA=Zg,aA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),oA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),I3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aA,scaleY:oA,scale:e=>(aA(e)+oA(e))/2,rotateX:e=>Jg(Ta(Math.atan2(e[6],e[5]))),rotateY:e=>Jg(Ta(Math.atan2(-e[2],e[0]))),rotateZ:sA,rotate:sA,skewX:e=>Ta(Math.atan(e[4])),skewY:e=>Ta(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function lA(e){return e.includes("scale")?1:0}function ty(e,t){if(!e||e==="none")return lA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=I3,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C3,a=f}if(!a)return lA(t);const l=r[t],c=a[1].split(",").map(N3);return typeof l=="function"?l(c):c[l]}const D3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ty(n,t)};function N3(e){return parseFloat(e.trim())}const uA=e=>e===vl||e===At,V3=new Set(["x","y","z"]),O3=yl.filter(e=>!V3.has(e));function M3(e){const t=[];return O3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ol={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ty(t,"x"),y:(e,{transform:t})=>ty(t,"y")};ol.translateX=ol.x;ol.translateY=ol.y;const ba=new Set;let ey=!1,ny=!1;function cR(){if(ny){const e=Array.from(ba).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=M3(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ny=!1,ey=!1,ba.forEach(e=>e.complete()),ba.clear()}function hR(){ba.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ny=!0)})}function P3(){hR(),cR()}class jv{constructor(t,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ba.add(this),ey||(ey=!0,ue.read(hR),ue.resolveKeyframes(cR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=a==null?void 0:a.get(),f=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&n){const m=r.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),a&&c===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ba.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ba.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),k3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L3(e){const t=k3.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function dR(e,t,n=1){const[r,a]=L3(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return fR(c)?parseFloat(c):c}return vv(a)?dR(a,t,n+1):a}const mR=e=>t=>t.test(e),j3={test:e=>e==="auto",parse:e=>e},pR=[vl,At,Hi,ds,xL,wL,j3],cA=e=>pR.find(mR(e));class gR extends jv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),vv(p))){const y=dR(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!zx.has(r)||t.length!==2)return;const[a,l]=t,c=cA(a),f=cA(l);if(c!==f)if(uA(c)&&uA(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)c3(t[a])&&r.push(a);r.length&&R3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ol[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=ol[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const hA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ns.test(e)||e==="0")&&!e.startsWith("url("));function U3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function F3(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=hA(a,t),f=hA(l,t);return!c||!f?!1:U3(e)||(n==="spring"||Ov(n))&&r}const B3=e=>e!==null;function Nd(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(B3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const z3=40;class yR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gi.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>z3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&P3(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Gi.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:c,onComplete:f,onUpdate:m,isGenerator:p}=this.options;if(!p&&!F3(t,r,a,l))if(c)this.options.duration=0;else{m&&m(Nd(t,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,n);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Wf=2e4;function Uv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wf;)t+=n,r=e.next(t);return t>=Wf?1/0:t}const ve=(e,t,n)=>e+(t-e)*n;function Zp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function q3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=Zp(m,f,e+1/3),l=Zp(m,f,e),c=Zp(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Zf(e,t){return n=>n>0?t:e}const Jp=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},H3=[Xg,Ea,Fo],G3=e=>H3.find(t=>t.test(e));function fA(e){const t=G3(e);if(!t)return!1;let n=t.parse(e);return t===Fo&&(n=q3(n)),n}const dA=(e,t)=>{const n=fA(e),r=fA(t);if(!n||!r)return Zf(e,t);const a={...n};return l=>(a.red=Jp(n.red,r.red,l),a.green=Jp(n.green,r.green,l),a.blue=Jp(n.blue,r.blue,l),a.alpha=ve(n.alpha,r.alpha,l),Ea.transform(a))},K3=(e,t)=>n=>t(e(n)),xc=(...e)=>e.reduce(K3),iy=new Set(["none","hidden"]);function Q3(e,t){return iy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Y3(e,t){return n=>ve(e,t,n)}function Fv(e){return typeof e=="number"?Y3:typeof e=="string"?vv(e)?Zf:dn.test(e)?dA:W3:Array.isArray(e)?vR:typeof e=="object"?dn.test(e)?dA:$3:Zf}function vR(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>Fv(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function $3(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Fv(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function X3(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],f=e.values[c]??0;n[a]=f,r[l]++}return n}const W3=(e,t)=>{const n=Ns.createTransformer(t),r=oc(e),a=oc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?iy.has(e)&&!a.values.length||iy.has(t)&&!r.values.length?Q3(e,t):xc(vR(X3(r,a),a.values),n):Zf(e,t)};function _R(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ve(e,t,n):Fv(e)(e,t)}function Z3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Uv(r),Wf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Qi(a)}}const J3=5;function ER(e,t,n){const r=Math.max(t-J3,0);return qx(n-e(r),t-r)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mA=.001;function t4({duration:e=be.duration,bounce:t=be.bounce,velocity:n=be.velocity,mass:r=be.mass}){let a,l,c=1-t;c=Nr(be.minDamping,be.maxDamping,c),e=Nr(be.minDuration,be.maxDuration,Qi(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,S=ry(p,c),I=Math.exp(-_);return mA-b/S*I},l=p=>{const _=p*c*e,b=_*n+n,S=Math.pow(c,2)*Math.pow(p,2)*e,I=Math.exp(-_),j=ry(Math.pow(p,2),c);return(-a(p)+mA>0?-1:1)*((b-S)*I)/j}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=n4(a,l,f);if(e=Ki(e),isNaN(m))return{stiffness:be.stiffness,damping:be.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const e4=12;function n4(e,t,n){let r=n;for(let a=1;a<e4;a++)r=r-e(r)/t(r);return r}function ry(e,t){return e*Math.sqrt(1-t*t)}const i4=["duration","bounce"],r4=["stiffness","damping","mass"];function pA(e,t){return t.some(n=>e[n]!==void 0)}function s4(e){let t={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...e};if(!pA(e,r4)&&pA(e,i4))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Nr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:be.mass,stiffness:a,damping:l}}else{const n=t4(e);t={...t,...n,mass:be.mass},t.isResolvedFromDuration=!0}return t}function Jf(e=be.visualDuration,t=be.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:S}=s4({...n,velocity:-Qi(n.velocity||0)}),I=b||0,j=p/(2*Math.sqrt(m*y)),k=c-l,M=Qi(Math.sqrt(m/y)),Z=Math.abs(k)<5;r||(r=Z?be.restSpeed.granular:be.restSpeed.default),a||(a=Z?be.restDelta.granular:be.restDelta.default);let K;if(j<1){const X=ry(M,j);K=at=>{const N=Math.exp(-j*M*at);return c-N*((I+j*M*k)/X*Math.sin(X*at)+k*Math.cos(X*at))}}else if(j===1)K=X=>c-Math.exp(-M*X)*(k+(I+M*k)*X);else{const X=M*Math.sqrt(j*j-1);K=at=>{const N=Math.exp(-j*M*at),x=Math.min(X*at,300);return c-N*((I+j*M*k)*Math.sinh(x)+X*k*Math.cosh(x))/X}}const tt={calculatedDuration:S&&_||null,next:X=>{const at=K(X);if(S)f.done=X>=_;else{let N=0;j<1&&(N=X===0?Ki(I):ER(K,X,at));const x=Math.abs(N)<=r,C=Math.abs(c-at)<=a;f.done=x&&C}return f.value=f.done?c:at,f},toString:()=>{const X=Math.min(Uv(tt),Wf),at=Gx(N=>tt.next(X*N).value,X,30);return X+"ms "+at},toTransition:()=>{}};return tt}Jf.applyToOptions=e=>{const t=Z3(e,100,Jf);return e.ease=ac()?t.ease:"easeOut",e.duration=Ki(t.duration),e.type="keyframes",e};function gA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},S=x=>f!==void 0&&x<f||m!==void 0&&x>m,I=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let j=n*t;const k=_+j,M=c===void 0?k:c(k);M!==k&&(j=M-_);const Z=x=>-j*Math.exp(-x/r),K=x=>M+Z(x),tt=x=>{const C=Z(x),O=K(x);b.done=Math.abs(C)<=p,b.value=b.done?M:O};let X,at;const N=x=>{S(b.value)&&(X=x,at=Jf({keyframes:[b.value,I(b.value)],velocity:ER(K,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:x=>{let C=!1;return!at&&X===void 0&&(C=!0,tt(x),N(x)),X!==void 0&&x>=X?at.next(x-X):(!C&&tt(x),b)}}}const a4=wc(.42,0,1,1),o4=wc(0,0,.58,1),TR=wc(.42,0,.58,1),l4=e=>Array.isArray(e)&&typeof e[0]!="number",u4={linear:li,easeIn:a4,easeInOut:TR,easeOut:o4,circIn:Pv,circInOut:eR,circOut:tR,backIn:Mv,backInOut:Zx,backOut:Wx,anticipate:Jx},yA=e=>{if(Vv(e)){Ax(e.length===4);const[t,n,r,a]=e;return wc(t,n,r,a)}else if(typeof e=="string")return u4[e];return e},lc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};function c4(e,t,n){const r=[],a=n||_R,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||li:t;f=xc(m,f)}r.push(f)}return r}function h4(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(Ax(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=c4(t,r,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=lc(e[_],e[_+1],y);return f[_](b)};return n?y=>p(Nr(e[0],e[l-1],y)):p}function f4(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=lc(0,t,r);e.push(ve(n,1,a))}}function d4(e){const t=[0];return f4(t,e.length-1),t}function m4(e,t){return e.map(n=>n*t)}function p4(e,t){return e.map(()=>t||TR).splice(0,e.length-1)}function td({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=l4(r)?r.map(yA):yA(r),l={done:!1,value:t[0]},c=m4(n&&n.length===t.length?n:d4(t),e),f=h4(c,t,{ease:Array.isArray(a)?a:p4(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const g4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ue.update(t,!0),stop:()=>Ds(t),now:()=>sn.isProcessing?sn.timestamp:Gi.now()}},y4={decay:gA,inertia:gA,tween:td,keyframes:td,spring:Jf},v4=e=>e/100;class Bv extends yR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:n,motionValue:r,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||jv,f=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,f,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,f=Ov(n)?n:y4[n]||td;let m,p;f!==td&&typeof t[0]!="number"&&(m=xc(v4,_R(t[0],t[1])),t=[0,100]);const y=f({...this.options,keyframes:t});l==="mirror"&&(p=f({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Uv(y));const{calculatedDuration:_}=y,b=_+a,S=b*(r+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:_,resolvedDuration:b,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:m,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:b,repeat:S,repeatType:I,repeatDelay:j,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const M=this.currentTime-b*(this.speed>=0?1:-1),Z=this.speed>=0?M<0:M>y;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let K=this.currentTime,tt=l;if(S){const x=Math.min(this.currentTime,y)/_;let C=Math.floor(x),O=x%1;!O&&x>=1&&(O=1),O===1&&C--,C=Math.min(C,S+1),!!(C%2)&&(I==="reverse"?(O=1-O,j&&(O-=j/_)):I==="mirror"&&(tt=c)),K=Nr(0,1,O)*_}const X=Z?{done:!1,value:m[0]}:tt.next(K);f&&(X.value=f(X.value));let{done:at}=X;!Z&&p!==null&&(at=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return N&&a!==void 0&&(X.value=Nd(m,this.options,a)),k&&k(X.value),N&&this.finish(),X}get duration(){const{resolved:t}=this;return t?Qi(t.calculatedDuration):0}get time(){return Qi(this.currentTime)}set time(t){t=Ki(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=g4,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const _4=new Set(["opacity","clipPath","filter","transform"]),E4=Nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ed=10,T4=2e4;function b4(e){return Ov(e.type)||e.type==="spring"||!Qx(e.ease)}function A4(e,t){const n=new Bv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let l=0;for(;!r.done&&l<T4;)r=n.sample(l),a.push(r.value),l+=ed;return{times:void 0,keyframes:a,duration:l-ed,ease:"linear"}}const bR={anticipate:Jx,backInOut:Zx,circInOut:eR};function S4(e){return e in bR}class vA extends yR{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new gR(l,(c,f)=>this.onKeyframesResolved(c,f),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:l,type:c,motionValue:f,name:m,startTime:p}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&ac()&&S4(l)&&(l=bR[l]),b4(this.options)){const{onComplete:_,onUpdate:b,motionValue:S,element:I,...j}=this.options,k=A4(t,j);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,a=k.times,l=k.ease,c="keyframes"}const y=a3(f.owner.current,m,t,{...this.options,duration:r,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(iA(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;f.set(Nd(t,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Qi(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Qi(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ki(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return li;const{animation:r}=n;iA(r,t)}return li}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:l,ease:c,times:f}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:b,...S}=this.options,I=new Bv({...S,keyframes:r,duration:a,type:l,ease:c,times:f,isGenerator:!0}),j=Ki(this.time);p.setWithVelocity(I.sample(j-ed).value,I.sample(j).value,ed)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:l,damping:c,type:f}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=n.owner.getProps();return E4()&&r&&_4.has(r)&&(r!=="transform"||!p)&&!m&&!a&&l!=="mirror"&&c!==0&&f!=="inertia"}}const w4={type:"spring",stiffness:500,damping:25,restSpeed:10},x4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),R4={type:"keyframes",duration:.8},C4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I4=(e,{keyframes:t})=>t.length>2?R4:Ua.has(e)?e.startsWith("scale")?x4(t[1]):w4:C4;function D4({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const zv=(e,t,n,r={},a,l)=>c=>{const f=Rv(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ki(m);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};D4(f)||(y={...y,...I4(e,y)}),y.duration&&(y.duration=Ki(y.duration)),y.repeatDelay&&(y.repeatDelay=Ki(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const b=Nd(y.keyframes,f);if(b!==void 0)return ue.update(()=>{y.onUpdate(b),y.onComplete()}),new i3([])}return!l&&vA.supports(y)?new vA(y):new Bv(y)};function N4({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AR(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||p&&N4(p,y))continue;const S={delay:n,...Rv(l||{},y)};let I=!1;if(window.MotionHandoffAnimation){const k=Hx(e);if(k){const M=window.MotionHandoffAnimation(k,y,ue);M!==null&&(S.startTime=M,I=!0)}}Yg(e,y),_.start(zv(y,_,b,e.shouldReduceMotion&&zx.has(y)?{type:!1}:S,e,I));const j=_.animation;j&&m.push(j)}return c&&Promise.all(m).then(()=>{ue.update(()=>{c&&JL(e,c)})}),m}function sy(e,t,n={}){var m;const r=rc(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(AR(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=a;return V4(e,t,y+p,_,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function V4(e,t,n=0,r=0,a=1,l){const c=[],f=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(e.variantChildren).sort(O4).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(sy(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function O4(e,t){return e.sortNodePosition(t)}function M4(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>sy(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=sy(e,t,n);else{const a=typeof t=="function"?rc(e,t,n.custom):t;r=Promise.all(AR(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function SR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const P4=mv.length;function wR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?wR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<P4;n++){const r=mv[n],a=e.props[r];(ec(a)||a===!1)&&(t[r]=a)}return t}const k4=[...dv].reverse(),L4=dv.length;function j4(e){return t=>Promise.all(t.map(({animation:n,options:r})=>M4(e,n,r)))}function U4(e){let t=j4(e),n=_A(),r=!0;const a=m=>(p,y)=>{var b;const _=rc(e,y,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(_){const{transition:S,transitionEnd:I,...j}=_;p={...p,...j,...I}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=wR(e.parent)||{},_=[],b=new Set;let S={},I=1/0;for(let k=0;k<L4;k++){const M=k4[k],Z=n[M],K=p[M]!==void 0?p[M]:y[M],tt=ec(K),X=M===m?Z.isActive:null;X===!1&&(I=k);let at=K===y[M]&&K!==p[M]&&tt;if(at&&r&&e.manuallyAnimateOnMount&&(at=!1),Z.protectedKeys={...S},!Z.isActive&&X===null||!K&&!Z.prevProp||Id(K)||typeof K=="boolean")continue;const N=F4(Z.prevProp,K);let x=N||M===m&&Z.isActive&&!at&&tt||k>I&&tt,C=!1;const O=Array.isArray(K)?K:[K];let P=O.reduce(a(M),{});X===!1&&(P={});const{prevResolvedValues:F={}}=Z,V={...F,...P},_t=lt=>{x=!0,b.has(lt)&&(C=!0,b.delete(lt)),Z.needsAnimating[lt]=!0;const ht=e.getValue(lt);ht&&(ht.liveStyle=!1)};for(const lt in V){const ht=P[lt],Dt=F[lt];if(S.hasOwnProperty(lt))continue;let Tt=!1;Qg(ht)&&Qg(Dt)?Tt=!SR(ht,Dt):Tt=ht!==Dt,Tt?ht!=null?_t(lt):b.add(lt):ht!==void 0&&b.has(lt)?_t(lt):Z.protectedKeys[lt]=!0}Z.prevProp=K,Z.prevResolvedValues=P,Z.isActive&&(S={...S,...P}),r&&e.blockInitialAnimation&&(x=!1),x&&(!(at&&N)||C)&&_.push(...O.map(lt=>({animation:lt,options:{type:M}})))}if(b.size){const k={};if(typeof p.initial!="boolean"){const M=rc(e,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(k.transition=M.transition)}b.forEach(M=>{const Z=e.getBaseTarget(M),K=e.getValue(M);K&&(K.liveStyle=!0),k[M]=Z??null}),_.push({animation:k})}let j=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(b=>{var S;return(S=b.animationState)==null?void 0:S.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=_A(),r=!0}}}function F4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!SR(t,e):!1}function ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _A(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class ks{constructor(t){this.isMounted=!1,this.node=t}update(){}}class B4 extends ks{constructor(t){super(t),t.animationState||(t.animationState=U4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Id(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let z4=0;class q4 extends ks{constructor(){super(...arguments),this.id=z4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const H4={animation:{Feature:B4},exit:{Feature:q4}},gi={x:!1,y:!1};function xR(){return gi.x||gi.y}function G4(e){return e==="x"||e==="y"?gi[e]?null:(gi[e]=!0,()=>{gi[e]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function uc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const qv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Rc(e){return{point:{x:e.pageX,y:e.pageY}}}const K4=e=>t=>qv(t)&&e(t,Rc(t));function qu(e,t,n,r){return uc(e,t,K4(n),r)}function RR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Q4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Y4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const CR=1e-4,$4=1-CR,X4=1+CR,IR=.01,W4=0-IR,Z4=0+IR;function Rn(e){return e.max-e.min}function J4(e,t,n){return Math.abs(e-t)<=n}function EA(e,t,n,r=.5){e.origin=r,e.originPoint=ve(t.min,t.max,e.origin),e.scale=Rn(n)/Rn(t),e.translate=ve(n.min,n.max,e.origin)-e.originPoint,(e.scale>=$4&&e.scale<=X4||isNaN(e.scale))&&(e.scale=1),(e.translate>=W4&&e.translate<=Z4||isNaN(e.translate))&&(e.translate=0)}function Hu(e,t,n,r){EA(e.x,t.x,n.x,r?r.originX:void 0),EA(e.y,t.y,n.y,r?r.originY:void 0)}function TA(e,t,n){e.min=n.min+t.min,e.max=e.min+Rn(t)}function tj(e,t,n){TA(e.x,t.x,n.x),TA(e.y,t.y,n.y)}function bA(e,t,n){e.min=t.min-n.min,e.max=e.min+Rn(t)}function Gu(e,t,n){bA(e.x,t.x,n.x),bA(e.y,t.y,n.y)}const AA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:AA(),y:AA()}),SA=()=>({min:0,max:0}),Re=()=>({x:SA(),y:SA()});function ai(e){return[e("x"),e("y")]}function tg(e){return e===void 0||e===1}function ay({scale:e,scaleX:t,scaleY:n}){return!tg(e)||!tg(t)||!tg(n)}function va(e){return ay(e)||DR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function DR(e){return wA(e.x)||wA(e.y)}function wA(e){return e&&e!=="0%"}function nd(e,t,n){const r=e-n,a=t*r;return n+a}function xA(e,t,n,r,a){return a!==void 0&&(e=nd(e,a,r)),nd(e,n,r)+t}function oy(e,t=0,n=1,r,a){e.min=xA(e.min,t,n,r,a),e.max=xA(e.max,t,n,r,a)}function NR(e,{x:t,y:n}){oy(e.x,t.translate,t.scale,t.originPoint),oy(e.y,n.translate,n.scale,n.originPoint)}const RA=.999999999999,CA=1.0000000000001;function ej(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&qo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,NR(e,c)),r&&va(l.latestValues)&&qo(e,l.latestValues))}t.x<CA&&t.x>RA&&(t.x=1),t.y<CA&&t.y>RA&&(t.y=1)}function zo(e,t){e.min=e.min+t,e.max=e.max+t}function IA(e,t,n,r,a=.5){const l=ve(e.min,e.max,a);oy(e,t,n,l,r)}function qo(e,t){IA(e.x,t.x,t.scaleX,t.scale,t.originX),IA(e.y,t.y,t.scaleY,t.scale,t.originY)}function VR(e,t){return RR(Y4(e.getBoundingClientRect(),t))}function nj(e,t,n){const r=VR(e,n),{scroll:a}=t;return a&&(zo(r.x,a.offset.x),zo(r.y,a.offset.y)),r}const OR=({current:e})=>e?e.ownerDocument.defaultView:null,DA=(e,t)=>Math.abs(e-t);function ij(e,t){const n=DA(e.x,t.x),r=DA(e.y,t.y);return Math.sqrt(n**2+r**2)}class MR{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ng(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=ij(_.offset,{x:0,y:0})>=3;if(!b&&!S)return;const{point:I}=_,{timestamp:j}=sn;this.history.push({...I,timestamp:j});const{onStart:k,onMove:M}=this.handlers;b||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=eg(b,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:S,onSessionEnd:I,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ng(_.type==="pointercancel"?this.lastMoveEventInfo:eg(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,k),I&&I(_,k)},!qv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=Rc(t),f=eg(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=sn;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,ng(f,this.history)),this.removeListeners=xc(qu(this.contextWindow,"pointermove",this.handlePointerMove),qu(this.contextWindow,"pointerup",this.handlePointerUp),qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ds(this.updatePoint)}}function eg(e,t){return t?{point:t(e.point)}:e}function NA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ng({point:e},t){return{point:e,delta:NA(e,PR(t)),offset:NA(e,rj(t)),velocity:sj(t,.1)}}function rj(e){return e[0]}function PR(e){return e[e.length-1]}function sj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=PR(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ki(t)));)n--;if(!r)return{x:0,y:0};const l=Qi(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function aj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ve(n,e,r.max):Math.min(e,n)),e}function VA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function oj(e,{top:t,left:n,bottom:r,right:a}){return{x:VA(e.x,n,a),y:VA(e.y,t,r)}}function OA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function lj(e,t){return{x:OA(e.x,t.x),y:OA(e.y,t.y)}}function uj(e,t){let n=.5;const r=Rn(e),a=Rn(t);return a>r?n=lc(t.min,t.max-r,e.min):r>a&&(n=lc(e.min,e.max-a,t.min)),Nr(0,1,n)}function cj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ly=.35;function hj(e=ly){return e===!1?e=0:e===!0&&(e=ly),{x:MA(e,"left","right"),y:MA(e,"top","bottom")}}function MA(e,t,n){return{min:PA(e,t),max:PA(e,n)}}function PA(e,t){return typeof e=="number"?e:e[t]||0}const fj=new WeakMap;class dj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rc(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:S,onDragStart:I}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G4(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(k=>{let M=this.getAxisMotionValue(k).get()||0;if(Hi.test(M)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const K=Z.layout.layoutBox[k];K&&(M=Rn(K)*(parseFloat(M)/100))}}this.originPoint[k]=M}),I&&ue.postRender(()=>I(y,_)),Yg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:I,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=_;if(S&&this.currentDirection===null){this.currentDirection=mj(k),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",_.point,k),this.updateAxis("y",_.point,k),this.visualElement.render(),j&&j(y,_)},f=(y,_)=>this.stop(y,_),m=()=>ai(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new MR(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:OR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!of(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=aj(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Uo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=oj(r.layoutBox,t):this.constraints=!1,this.elastic=hj(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ai(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=cj(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=nj(r,a.root,this.visualElement.getTransformPagePoint());let c=lj(a.layout.layoutBox,l);if(n){const f=n(Q4(c));this.hasMutatedConstraints=!!f,f&&(c=RR(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ai(y=>{if(!of(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,I={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,I)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Yg(this.visualElement,t),r.start(zv(t,r,0,n,this.visualElement,!1))}stopAnimation(){ai(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ai(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ai(n=>{const{drag:r}=this.getProps();if(!of(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-ve(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ai(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=uj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ai(c=>{if(!of(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ve(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;fj.set(this.visualElement,this);const t=this.visualElement.current,n=qu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Uo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(r);const c=uc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ai(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ly,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function of(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class pj extends ks{constructor(t){super(t),this.removeGroupControls=li,this.removeListeners=li,this.controls=new dj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}unmount(){this.removeGroupControls(),this.removeListeners()}}const kA=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class gj extends ks{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(t){this.session=new MR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:kA(t),onStart:kA(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=qu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=LA(e,t.target.x),r=LA(e,t.target.y);return`${n}% ${r}%`}},yj={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ns.parse(e);if(a.length>5)return r;const l=Ns.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=ve(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class vj extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;SL(_j),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kR(e){const[t,n]=bx(),r=G.useContext(uv);return A.jsx(vj,{...e,layoutGroup:r,switchLayoutGroup:G.useContext(Ix),isPresent:t,safeToRemove:n})}const _j={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:yj};function Ej(e,t,n){const r=yn(e)?e:sc(e);return r.start(zv("",r,t,n)),r.animation}function Tj(e){return e instanceof SVGElement&&e.tagName!=="svg"}const bj=(e,t)=>e.depth-t.depth;class Aj{constructor(){this.children=[],this.isDirty=!1}add(t){Cv(this.children,t),this.isDirty=!0}remove(t){Iv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bj),this.isDirty=!1,this.children.forEach(t)}}function Sj(e,t){const n=Gi.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Ds(r),e(l-t))};return ue.read(r,!0),()=>Ds(r)}const LR=["TopLeft","TopRight","BottomLeft","BottomRight"],wj=LR.length,jA=e=>typeof e=="string"?parseFloat(e):e,UA=e=>typeof e=="number"||At.test(e);function xj(e,t,n,r,a,l){a?(e.opacity=ve(0,n.opacity!==void 0?n.opacity:1,Rj(r)),e.opacityExit=ve(t.opacity!==void 0?t.opacity:1,0,Cj(r))):l&&(e.opacity=ve(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<wj;c++){const f=`border${LR[c]}Radius`;let m=FA(t,f),p=FA(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||UA(m)===UA(p)?(e[f]=Math.max(ve(jA(m),jA(p),r),0),(Hi.test(p)||Hi.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=ve(t.rotate||0,n.rotate||0,r))}function FA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Rj=jR(0,.5,tR),Cj=jR(.5,.95,li);function jR(e,t,n){return r=>r<e?0:r>t?1:n(lc(e,t,r))}function BA(e,t){e.min=t.min,e.max=t.max}function ri(e,t){BA(e.x,t.x),BA(e.y,t.y)}function zA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qA(e,t,n,r,a){return e-=t,e=nd(e,1/n,r),a!==void 0&&(e=nd(e,1/a,r)),e}function Ij(e,t=0,n=1,r=.5,a,l=e,c=e){if(Hi.test(t)&&(t=parseFloat(t),t=ve(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=ve(l.min,l.max,r);e===l&&(f-=t),e.min=qA(e.min,t,n,f,a),e.max=qA(e.max,t,n,f,a)}function HA(e,t,[n,r,a],l,c){Ij(e,t[n],t[r],t[a],t.scale,l,c)}const Dj=["x","scaleX","originX"],Nj=["y","scaleY","originY"];function GA(e,t,n,r){HA(e.x,t,Dj,n?n.x:void 0,r?r.x:void 0),HA(e.y,t,Nj,n?n.y:void 0,r?r.y:void 0)}function KA(e){return e.translate===0&&e.scale===1}function UR(e){return KA(e.x)&&KA(e.y)}function QA(e,t){return e.min===t.min&&e.max===t.max}function Vj(e,t){return QA(e.x,t.x)&&QA(e.y,t.y)}function YA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function FR(e,t){return YA(e.x,t.x)&&YA(e.y,t.y)}function $A(e){return Rn(e.x)/Rn(e.y)}function XA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Oj{constructor(){this.members=[]}add(t){Cv(this.members,t),t.scheduleRender()}remove(t){if(Iv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mj(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:S,skewY:I}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),S&&(r+=`skewX(${S}deg) `),I&&(r+=`skewY(${I}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const ig=["","X","Y","Z"],Pj={visibility:"hidden"},WA=1e3;let kj=0;function rg(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Hx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BR(r)}function zR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=kj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Uj),this.nodes.forEach(Hj),this.nodes.forEach(Gj),this.nodes.forEach(Fj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Aj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Dv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Tj(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||m)&&(this.isLayoutDirty=!0),e){let _;const b=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=Sj(b,250),Cf.hasAnimatedSinceResize&&(Cf.hasAnimatedSinceResize=!1,this.nodes.forEach(JA))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeLayoutChanged:S,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||y.getDefaultTransition()||Xj,{onLayoutAnimationStart:k,onLayoutAnimationComplete:M}=y.getProps(),Z=!this.targetLayout||!FR(this.targetLayout,I),K=!b&&S;if(this.options.layoutRoot||this.resumeFrom||K||b&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,K);const tt={...Rv(j,"layout"),onPlay:k,onComplete:M};(y.shouldReduceMotion||this.options.layoutRoot)&&(tt.delay=0,tt.type=!1),this.startAnimation(tt)}else b||JA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZA);return}this.isUpdating||this.nodes.forEach(zj),this.isUpdating=!1,this.nodes.forEach(qj),this.nodes.forEach(Lj),this.nodes.forEach(jj),this.clearAllSnapshots();const f=Gi.now();sn.delta=Nr(0,1e3/60,f-sn.timestamp),sn.timestamp=f,sn.isProcessing=!0,Xp.update.process(sn),Xp.preRender.process(sn),Xp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bj),this.sharedNodes.forEach(Qj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!UR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(f||va(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),Wj(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Re();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Zj))){const{scroll:y}=this.root;y&&(zo(f.x,y.offset.x),zo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Re();if(ri(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&ri(f,c),zo(f.x,_.offset.x),zo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Re();ri(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&qo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),va(y.latestValues)&&qo(m,y.latestValues)}return va(this.latestValues)&&qo(m,this.latestValues),m}removeTransform(c){const f=Re();ri(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!va(p.latestValues))continue;ay(p.latestValues)&&p.updateSnapshot();const y=Re(),_=p.measurePageBox();ri(y,_),GA(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return va(this.latestValues)&&GA(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Gu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),NR(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Gu(this.relativeTargetOrigin,this.target,S.target),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ay(this.parent.latestValues)||DR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ri(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;ej(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Re());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zA(this.prevProjectionDelta.x,this.projectionDelta.x),zA(this.prevProjectionDelta.y,this.projectionDelta.y)),Hu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!XA(this.projectionDelta.x,this.prevProjectionDelta.x)||!XA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Re(),S=m?m.source:void 0,I=this.layout?this.layout.source:void 0,j=S!==I,k=this.getStack(),M=!k||k.members.length<=1,Z=!!(j&&!M&&this.options.crossfade===!0&&!this.path.some($j));this.animationProgress=0;let K;this.mixTargetDelta=tt=>{const X=tt/1e3;tS(_.x,c.x,X),tS(_.y,c.y,X),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yj(this.relativeTarget,this.relativeTargetOrigin,b,X),K&&Vj(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Re()),ri(K,this.relativeTarget)),j&&(this.animationValues=y,xj(y,p,this.latestValues,X,Z,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Cf.hasAnimatedSinceResize=!0,this.currentAnimation=Ej(0,WA,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&qR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Re();const _=Rn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=Rn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}ri(f,m),qo(f,y),Hu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Oj),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&rg("z",c,p,this.animationValues);for(let y=0;y<ig.length;y++)rg(`rotate${ig[y]}`,c,p,this.animationValues),rg(`skew${ig[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Pj;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=xf(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=xf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=Mj(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:b}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in nc){if(y[S]===void 0)continue;const{correct:I,applyTo:j,isCSSVariable:k}=nc[S],M=f.transform==="none"?y[S]:I(y[S],p);if(j){const Z=j.length;for(let K=0;K<Z;K++)f[j[K]]=M}else k?this.options.visualElement.renderState.vars[S]=M:f[S]=M}return this.options.layoutId&&(f.pointerEvents=p===this?xf(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(ZA),this.root.sharedNodes.clear()}}}function Lj(e){e.updateLayout()}function jj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?ai(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],S=Rn(b);b.min=r[_].min,b.max=b.min+S}):qR(l,t.layoutBox,r)&&ai(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],S=Rn(r[_]);b.max=b.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+S)});const f=Bo();Hu(f,r,t.layoutBox);const m=Bo();c?Hu(m,e.applyTransform(a,!0),t.measuredBox):Hu(m,r,t.layoutBox);const p=!UR(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:S}=_;if(b&&S){const I=Re();Gu(I,t.layoutBox,b.layoutBox);const j=Re();Gu(j,r,S.layoutBox),FR(I,j)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=I,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Uj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Bj(e){e.clearSnapshot()}function ZA(e){e.clearMeasurements()}function zj(e){e.isLayoutDirty=!1}function qj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function JA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hj(e){e.resolveTargetDelta()}function Gj(e){e.calcProjection()}function Kj(e){e.resetSkewAndRotation()}function Qj(e){e.removeLeadSnapshot()}function tS(e,t,n){e.translate=ve(t.translate,0,n),e.scale=ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function eS(e,t,n,r){e.min=ve(t.min,n.min,r),e.max=ve(t.max,n.max,r)}function Yj(e,t,n,r){eS(e.x,t.x,n.x,r),eS(e.y,t.y,n.y,r)}function $j(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Xj={duration:.45,ease:[.4,0,.1,1]},nS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iS=nS("applewebkit/")&&!nS("chrome/")?Math.round:li;function rS(e){e.min=iS(e.min),e.max=iS(e.max)}function Wj(e){rS(e.x),rS(e.y)}function qR(e,t,n){return e==="position"||e==="preserve-aspect"&&!J4($A(t),$A(n),.2)}function Zj(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Jj=zR({attachResizeListener:(e,t)=>uc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sg={current:void 0},HR=zR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sg.current){const e=new Jj({});e.mount(window),e.setOptions({layoutScroll:!0}),sg.current=e}return sg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tU={pan:{Feature:gj},drag:{Feature:pj,ProjectionNode:HR,MeasureLayout:kR}};function eU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function GR(e,t){const n=eU(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function sS(e){return!(e.pointerType==="touch"||xR())}function nU(e,t,n={}){const[r,a,l]=GR(e,n),c=f=>{if(!sS(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{sS(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}function aS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ue.postRender(()=>l(t,Rc(t)))}class iU extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=nU(t,(n,r)=>(aS(this.node,r,"Start"),a=>aS(this.node,a,"End"))))}unmount(){}}class rU extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xc(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const KR=(e,t)=>t?e===t?!0:KR(e,t.parentElement):!1,sU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aU(e){return sU.has(e.tagName)||e.tabIndex!==-1}const ku=new WeakSet;function oS(e){return t=>{t.key==="Enter"&&e(t)}}function ag(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const oU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=oS(()=>{if(ku.has(n))return;ag(n,"down");const a=oS(()=>{ag(n,"up")}),l=()=>ag(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function lS(e){return qv(e)&&!xR()}function lU(e,t,n={}){const[r,a,l]=GR(e,n),c=f=>{const m=f.currentTarget;if(!lS(f)||ku.has(m))return;ku.add(m);const p=t(m,f),y=(S,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),!(!lS(S)||!ku.has(m))&&(ku.delete(m),typeof p=="function"&&p(S,{success:I}))},_=S=>{y(S,m===window||m===document||n.useGlobalTarget||KR(m,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),f instanceof HTMLElement&&(f.addEventListener("focus",p=>oU(p,a)),!aU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function uS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ue.postRender(()=>l(t,Rc(t)))}class uU extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=lU(t,(n,r)=>(uS(this.node,r,"Start"),(a,{success:l})=>uS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uy=new WeakMap,og=new WeakMap,cU=e=>{const t=uy.get(e.target);t&&t(e)},hU=e=>{e.forEach(cU)};function fU({root:e,...t}){const n=e||document;og.has(n)||og.set(n,{});const r=og.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(hU,{root:e,...t})),r[a]}function dU(e,t,n){const r=fU(t);return uy.set(e,n),r.observe(e),()=>{uy.delete(e),r.unobserve(e)}}const mU={some:0,all:1};class pU extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:mU[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return dU(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gU(t,n))&&this.startObserver()}unmount(){}}function gU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yU={inView:{Feature:pU},tap:{Feature:uU},focus:{Feature:rU},hover:{Feature:iU}},vU={layout:{ProjectionNode:HR,MeasureLayout:kR}},cy={current:null},QR={current:!1};function _U(){if(QR.current=!0,!!hv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cy.current=e.matches;e.addListener(t),t()}else cy.current=!1}const EU=[...pR,dn,Ns],TU=e=>EU.find(mR(e)),bU=new WeakMap;function AU(e,t,n){for(const r in t){const a=t[r],l=n[r];if(yn(a))e.addValue(r,a);else if(yn(l))e.addValue(r,sc(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,sc(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const cS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SU{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Gi.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Dd(n),this.isVariantNode=Rx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in b){const I=b[S];m[S]!==void 0&&yn(I)&&I.set(m[S],!1)}}mount(t){this.current=t,bU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),QR.current||_U(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ds(this.notifyUpdate),Ds(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ua.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in al){const n=al[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cS.length;r++){const a=cS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=AU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=sc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(fR(r)||nR(r))?r=parseFloat(r):!TU(r)&&Ns.test(n)&&(r=uR(t,n)),this.setBaseTarget(t,yn(r)?r.get():r)),yn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=wv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!yn(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class YR extends SU{constructor(){super(...arguments),this.KeyframeResolver=gR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wU(e){return window.getComputedStyle(e)}class xU extends YR{constructor(){super(...arguments),this.type="html",this.renderInstance=jx}readValueFromInstance(t,n){if(Ua.has(n))return D3(t,n);{const r=wU(t),a=(yv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VR(t,n)}build(t,n,r){Ev(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return xv(t,n,r)}}class RU extends YR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Lx(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ua.has(n)){const r=lR(n);return r&&r.default||0}return n=Ux.has(n)?n:gv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Bx(t,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&ue.postRender(this.updateDimensions)}build(t,n,r){Av(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){Fx(t,n,r,a)}mount(t){this.isSVGTag=Sv(t.tagName),super.mount(t)}}const CU=(e,t)=>bv(e)?new RU(t):new xU(t,{allowProjection:e!==G.Fragment}),IU=YL({...H4,...yU,...tU,...vU},CU),Ae=cL(IU);var lf={},hS;function DU(){if(hS)return lf;hS=1,lf.match=l,lf.parse=c;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,a=/(dpi|dpcm|dppx)?$/;function l(y,_){return c(y).some(function(b){var S=b.inverse,I=b.type==="all"||_.type===b.type;if(I&&S||!(I||S))return!1;var j=b.expressions.every(function(k){var M=k.feature,Z=k.modifier,K=k.value,tt=_[M];if(!tt)return!1;switch(M){case"orientation":case"scan":return tt.toLowerCase()===K.toLowerCase();case"width":case"height":case"device-width":case"device-height":K=p(K),tt=p(tt);break;case"resolution":K=m(K),tt=m(tt);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":K=f(K),tt=f(tt);break;case"grid":case"color":case"color-index":case"monochrome":K=parseInt(K,10)||1,tt=parseInt(tt,10)||0;break}switch(Z){case"min":return tt>=K;case"max":return tt<=K;default:return tt===K}});return j&&!S||!j&&S})}function c(y){return y.split(",").map(function(_){_=_.trim();var b=_.match(e),S=b[1],I=b[2],j=b[3]||"",k={};return k.inverse=!!S&&S.toLowerCase()==="not",k.type=I?I.toLowerCase():"all",j=j.match(/\([^\)]+\)/g)||[],k.expressions=j.map(function(M){var Z=M.match(t),K=Z[1].toLowerCase().match(n);return{modifier:K[1],feature:K[2],value:Z[2]}}),k})}function f(y){var _=Number(y),b;return _||(b=y.match(/^(\d+)\s*\/\s*(\d+)$/),_=b[1]/b[2]),_}function m(y){var _=parseFloat(y),b=String(y).match(a)[1];switch(b){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function p(y){var _=parseFloat(y),b=String(y).match(r)[1];switch(b){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}return lf}var lg,fS;function NU(){if(fS)return lg;fS=1;var e=DU().match,t=typeof window<"u"?window.matchMedia:null;function n(a,l,c){var f=this,m;t&&!c&&(m=t.call(window,a)),m?(this.matches=m.matches,this.media=m.media,m.addListener(_)):(this.matches=e(a,l),this.media=a),this.addListener=p,this.removeListener=y,this.dispose=b;function p(S){m&&m.addListener(S)}function y(S){m&&m.removeListener(S)}function _(S){f.matches=S.matches,f.media=S.media}function b(){m&&m.removeListener(_)}}function r(a,l,c){return new n(a,l,c)}return lg=r,lg}var VU=NU();const OU=CS(VU);var MU=/[A-Z]/g,PU=/^ms-/,ug={};function kU(e){return"-"+e.toLowerCase()}function $R(e){if(ug.hasOwnProperty(e))return ug[e];var t=e.replace(MU,kU);return ug[e]=PU.test(t)?"-"+t:t}function LU(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(let l=0;l<a;l++){const c=n[l];if(e[c]!==t[c]||!Object.prototype.hasOwnProperty.call(t,c))return!1}return!0}var cg={exports:{}},hg,dS;function jU(){if(dS)return hg;dS=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hg=e,hg}var fg,mS;function UU(){if(mS)return fg;mS=1;var e=jU();function t(){}function n(){}return n.resetWarningCache=t,fg=function(){function r(c,f,m,p,y,_){if(_!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},fg}var pS;function FU(){return pS||(pS=1,cg.exports=UU()()),cg.exports}var BU=FU();const Xt=CS(BU),xn=Xt.oneOfType([Xt.string,Xt.number]),XR={all:Xt.bool,grid:Xt.bool,aural:Xt.bool,braille:Xt.bool,handheld:Xt.bool,print:Xt.bool,projection:Xt.bool,screen:Xt.bool,tty:Xt.bool,tv:Xt.bool,embossed:Xt.bool},zU={orientation:Xt.oneOf(["portrait","landscape"]),scan:Xt.oneOf(["progressive","interlace"]),aspectRatio:Xt.string,deviceAspectRatio:Xt.string,height:xn,deviceHeight:xn,width:xn,deviceWidth:xn,color:Xt.bool,colorIndex:Xt.bool,monochrome:Xt.bool,resolution:xn,type:Object.keys(XR)},{type:C5,...qU}=zU,HU={minAspectRatio:Xt.string,maxAspectRatio:Xt.string,minDeviceAspectRatio:Xt.string,maxDeviceAspectRatio:Xt.string,minHeight:xn,maxHeight:xn,minDeviceHeight:xn,maxDeviceHeight:xn,minWidth:xn,maxWidth:xn,minDeviceWidth:xn,maxDeviceWidth:xn,minColor:Xt.number,maxColor:Xt.number,minColorIndex:Xt.number,maxColorIndex:Xt.number,minMonochrome:Xt.number,maxMonochrome:Xt.number,minResolution:xn,maxResolution:xn,...qU},GU={...XR,...HU};var KU={all:GU};const QU=e=>`not ${e}`,YU=(e,t)=>{const n=$R(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?QU(n):`(${n}: ${t})`},$U=e=>e.join(" and "),XU=e=>{const t=[];return Object.keys(KU.all).forEach(n=>{const r=e[n];r!=null&&t.push(YU(n,r))}),$U(t)},WU=G.createContext(void 0),ZU=e=>e.query||XU(e),gS=e=>e?Object.keys(e).reduce((n,r)=>(n[$R(r)]=e[r],n),{}):void 0,WR=()=>{const e=G.useRef(!1);return G.useEffect(()=>{e.current=!0},[]),e.current},JU=e=>{const t=G.useContext(WU),n=()=>gS(e)||gS(t),[r,a]=G.useState(n);return G.useEffect(()=>{const l=n();LU(r,l)||a(l)},[e,t]),r},t9=e=>{const t=()=>ZU(e),[n,r]=G.useState(t);return G.useEffect(()=>{const a=t();n!==a&&r(a)},[e]),n},e9=(e,t)=>{const n=()=>OU(e,t||{},!!t),[r,a]=G.useState(n),l=WR();return G.useEffect(()=>{if(l){const c=n();return a(c),()=>{c&&c.dispose()}}},[e,t]),r},n9=e=>{const[t,n]=G.useState(e.matches);return G.useEffect(()=>{const r=a=>{n(a.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},Pr=(e,t,n)=>{const r=JU(t),a=t9(e);if(!a)throw new Error("Invalid or missing MediaQuery!");const l=e9(a,r),c=n9(l);return WR(),G.useEffect(()=>{},[c]),G.useEffect(()=>()=>{l&&l.dispose()},[]),c},Oo=new Map;function i9(e,t){const n=t==null?void 0:t.serializer,[r]=G.useState(t==null?void 0:t.defaultValue),[a]=G.useState(t==null?void 0:t.defaultServerValue);return r9(e,r,a,t==null?void 0:t.storageSync,n==null?void 0:n.parse,n==null?void 0:n.stringify)}function r9(e,t,n,r=!0,a=s9,l=JSON.stringify){const c=G.useRef({string:null,parsed:void 0}),f=G.useSyncExternalStore(G.useCallback(y=>{const _=b=>{e===b&&y()};return hy.add(_),()=>{hy.delete(_)}},[e]),()=>{const y=uf(()=>localStorage.getItem(e))??null;if(Oo.has(e))c.current.parsed=Oo.get(e);else if(y!==c.current.string){let _;try{_=y===null?t:a(y)}catch{_=t}c.current.parsed=_}return c.current.string=y,t!==void 0&&y===null&&uf(()=>{const _=l(t);localStorage.setItem(e,_),c.current={string:_,parsed:t}}),c.current.parsed},()=>n??t),m=G.useCallback(y=>{const _=y instanceof Function?y(c.current.parsed):y;try{localStorage.setItem(e,l(_)),Oo.delete(e)}catch{Oo.set(e,_)}dg(e)},[e,l]),p=G.useCallback(()=>{uf(()=>localStorage.removeItem(e)),Oo.delete(e),dg(e)},[e]);return G.useEffect(()=>{if(!r)return;const y=_=>{_.key===e&&_.storageArea===uf(()=>localStorage)&&dg(e)};return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)},[e,r]),G.useMemo(()=>[f,m,{isPersistent:f===t||!Oo.has(e),removeItem:p}],[e,m,f,t,p])}const hy=new Set;function dg(e){for(const t of[...hy])t(e)}function s9(e){return e==="undefined"?void 0:JSON.parse(e)}function uf(e){try{return e()}catch{}}function Cc(){const e=Pr({query:"(prefers-color-scheme: dark)"},void 0),[t,n]=i9("colorScheme",{defaultValue:void 0}),r=G.useMemo(()=>t===void 0?!!e:t,[t,e]);return G.useEffect(()=>{r?document.body.classList.add("dark"):document.body.classList.remove("dark")},[r]),{isDark:r,setIsDark:n}}const a9="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.502%2011.342a.703.703%200%2000-.588.128%207.499%207.499%200%2001-2.275%201.33%207.123%207.123%200%2001-2.581.46A7.516%207.516%200%20018.74%2011.06a7.516%207.516%200%2001-2.198-5.316c0-.87.153-1.713.41-2.48.28-.817.69-1.559%201.226-2.197a.652.652%200%2000-.102-.92.703.703%200%2000-.588-.128C5.316.607%203.425%201.91%202.07%203.649A10.082%2010.082%200%20000%209.783C0%2012.57%201.125%2015.1%202.965%2016.94a10.04%2010.04%200%20007.156%202.965c2.352%200%204.524-.818%206.262-2.173a10.078%2010.078%200%20003.579-5.597.62.62%200%2000-.46-.793z'%20fill='%237E88C3'%20fill-rule='nonzero'/%3e%3c/svg%3e",o9="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.817%2016.18a.96.96%200%2001.953.848l.007.112v1.535a.96.96%200%2001-1.913.112l-.006-.112V17.14c0-.53.43-.96.96-.96zm-4.5-1.863c.347.346.373.89.08%201.266l-.08.09-1.085%201.087a.96.96%200%2001-1.437-1.267l.08-.09%201.086-1.086a.959.959%200%20011.357%200zm10.356%200l1.086%201.086a.959.959%200%2011-1.357%201.357l-1.085-1.086a.959.959%200%20111.356-1.357zM9.817%204.9a4.924%204.924%200%20014.918%204.918%204.924%204.924%200%2001-4.918%204.918A4.924%204.924%200%20014.9%209.818%204.924%204.924%200%20019.817%204.9zm8.858%203.958a.96.96%200%20110%201.919H17.14a.96.96%200%20110-1.92h1.535zm-16.18%200a.96.96%200%2001.112%201.912l-.112.007H.96a.96.96%200%2001-.112-1.913l.112-.006h1.534zm14.264-5.983a.96.96%200%20010%201.357l-1.086%201.086a.96.96%200%2011-1.356-1.357l1.085-1.086a.96.96%200%20011.357%200zm-12.617-.08l.09.08%201.086%201.086A.96.96%200%20014.05%205.398l-.09-.08-1.086-1.086a.959.959%200%20011.267-1.436zM9.817%200c.53%200%20.96.43.96.96v1.535a.96.96%200%2001-1.92%200V.96c0-.53.43-.96.96-.96z'%20fill='%23858BB2'%20fill-rule='nonzero'/%3e%3c/svg%3e";function l9(){const{isDark:e,setIsDark:t}=Cc(),n={initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{duration:.3}};function r(){t(!e)}return A.jsxs("button",{onClick:r,className:"cursor-pointer p-4 relative overflow-hidden",children:[A.jsx("span",{className:"sr-only",children:"Toggle dark mode"}),A.jsx(Xi,{children:A.jsx(Ae.img,{src:e?a9:o9,alt:e?"moon":"sun",width:20,height:20,variants:n,initial:"initial",animate:"animate",exit:"exit",className:"absolute inset-0 m-auto"},e?"dark":"light")})]})}const u9="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20stroke=''%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20stroke='%23858BB2'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M20%2012h-9.5m7.5%203l3-3-3-3m-5-2V6a2%202%200%2000-2-2H6a2%202%200%2000-2%202v12a2%202%200%20002%202h5a2%202%200%20002-2v-1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",In=xS.withTypes(),un=QC.withTypes();YC.withTypes();function c9(){const e=Vr(),t=In(),{userInfo:n}=un(lv);async function r(){const a=yc();if(n)try{await WN(a),t(gn(`Goodbye ${n==null?void 0:n.name}`)),t(Sk()),e("/login")}catch(l){console.log(l)}}return A.jsxs("button",{className:"cursor-pointer p-4 lg:relative lg:left-0.5",onClick:r,children:[A.jsx("span",{className:"sr-only",children:"logout"}),A.jsx("img",{src:u9,alt:"",width:25,height:25})]})}function h9(){return A.jsxs("header",{className:"absolute z-50 left-0 right-0 lg:fixed lg:top-0 lg:bottom-0 lg:right-auto flex lg:flex-col lg:rounded-tr-3xl lg:rounded-br-3xl dark:bg-[#1E2139] bg-[#373B53]",children:[A.jsx(Xk,{}),A.jsxs("div",{className:"flex justify-center items-center ml-auto lg:py-[16px] lg:px-[12px] lg:ml-0 lg:mt-auto flex-row lg:flex-col lg:justify-center lg:gap-0.5",children:[A.jsx(l9,{}),A.jsx(c9,{})]}),A.jsx("div",{className:"w-px h-[4.5rem] md:h-20 lg:h-px lg:w-[103px] bg-[#494E6E]"}),A.jsx(Zk,{})]})}const f9={fadeOut:{opacity:0},fadeIn:{opacity:1}};function d9({message:e}){return A.jsx(Ae.div,{className:"absolute left-1/2 -translate-x-1/2 rounded p-2 md:p-4 text-xs bg-[#9277ff0d] dark:bg-[#1E2139] dark:text-white top-20 md:top-25 lg:top-6",role:"alert",variants:f9,initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",children:e||"This is awesome notification"})}const m9=G.memo(function(){const{message:t,shown:n}=un(Ok),r=In(),a=yc(),l=Vr(),c=G.useCallback(()=>{const f=setTimeout(()=>{r(Mk())},2e3);return()=>clearTimeout(f)},[r]);return G.useEffect(()=>{c()},[n,r,c]),G.useEffect(()=>{(async()=>{await a.authStateReady(),a.currentUser?(r(Ak({id:a.currentUser.uid,email:a.currentUser.email,name:a.currentUser.displayName})),l(`${a.currentUser.uid}/invoices`)):l("/login")})()},[r,a,l]),A.jsxs(Yk,{children:[A.jsx(Xi,{children:n&&A.jsx(d9,{message:t})}),A.jsx(h9,{}),A.jsx("main",{className:"lg:w-[730px] lg:mx-auto grow flex flex-col",children:A.jsx(IS,{})})]})});function p9(){return A.jsx(A.Fragment,{children:A.jsx(IS,{})})}function ZR({status:e,className:t=""}){const n={paid:"bg-[var(--light-green)]",pending:"bg-[var(--light-orange)]",draft:"bg-[var(--light-grey-black)] dark:bg-[#282B43]"},r={paid:"text-[var(--green)]",pending:"text-[var(--orange)]",draft:"text-[#373B53] dark:text-[#DFE3FA]"},a={paid:"bg-[var(--green)]",pending:"bg-[var(--orange)]",draft:"bg-[#373B53] dark:bg-[#DFE3FA]"},l=n[e],c=r[e],f=a[e];return A.jsx("div",{className:`py-3 inline w-[104px] rounded-md ${t} ${l}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${f}`}),A.jsx("span",{className:`font-bold capitalize leading-[15px] -tracking-[0.25px] ${c}`,children:e})]})})}const JR="data:image/svg+xml,%3csvg%20width='7'%20height='10'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201l4%204-4%204'%20stroke='%237C5DFA'%20stroke-width='2'%20fill='none'%20fill-rule='evenodd'/%3e%3c/svg%3e";function g9(e){const n=e.toString().split("."),r=n[0];let a=n[1];const l=r.split("").reverse();a&&a.split("").length===1&&(a+=0);const c=[];for(let f=0;f<l.length;f++){if(f!==0&&!(f%3)){c.push(","),c.push(l[f]);continue}c.push(l[f])}return a?c.reverse().join("")+"."+a:c.reverse().join("")+".00"}function y9({total:e}){const t=g9(e);return A.jsxs("div",{className:"col-start-1 row-start-3 md:col-start-auto md:row-start-auto font-bold -tracking-[0.25px] text-[var(--deep-black) leading-6 mt-[9px] md:mt-0 dark:text-white md:order-4 md:justify-self-center",children:["£ ",t]})}function v9({invoice:e}){const t=Pr({query:"(min-width: 768px)"});return A.jsx(cc,{to:`${e.id}`,children:A.jsxs("div",{className:"relative grid grid-cols-2 md:grid-cols-5 md:grid-rows-1 items-center p-6 md:p-0 md:pl-6 md:py-4 md:pr-12 bg-white rounded-lg drop-shadow-[0px_10px_10px_-10px_rgba(72, 84, 159, 0.1)] dark:bg-[var(--purple-black)] ",children:[A.jsxs("div",{className:"col-start-1 row-start-1 md:col-start-auto md:row-start-auto font-bold -tracking-[0.25px] text-[var(--deep-black)] leading-6 dark:text-white",children:[A.jsx("span",{className:"text-[var(--blue-gray)] dark:text-[var(--A07)]",children:"#"}),e.id]}),A.jsx("div",{className:"col-start-1 row-start-2 md:col-start-auto md:row-start-auto text-xs -tracking-[0.1px] text-[var(--blue-gray)] leading-[15px] mt-6 md:mt-0 dark:text-[var(--A05)]",children:e.paymentDue}),A.jsx(y9,{total:e.total}),A.jsx("div",{className:"col-start-2 row-start-1 md:col-start-auto md:row-start-auto justify-self-end text-xs -tracking-[0.1px] text-[var(--blue-gray)] leading-[15px] dark:text-white md:order-3 md:justify-self-start",children:e.clientName}),A.jsx(ZR,{status:e.status,className:"col-start-2 row-start-2 row-span-2 justify-self-end mt-6 md:mt-0 md:col-start-auto md:row-start-auto md:order-5"}),t&&A.jsx("img",{src:JR,"aria-hidden":"true",alt:"",width:7,height:10,className:"absolute right-6"})]})})}const _9="/assets/illustration-empty-Czz_H9Xz.svg";function E9(){return A.jsxs("div",{className:"h-full flex flex-col justify-center max-w-[242px] mt-[102px] md:mt-[154px] lg:mt-[85px]",children:[A.jsx("img",{src:_9,alt:"",width:242,height:200}),A.jsx("h1",{className:"text-2xl text-[var(--A08)] font-bold mt-[42px]",children:"There is nothing here"}),A.jsx("p",{className:"text-[var(--A06)] text-center mt-[23px]",children:"Create an invoice by clicking the New button and get started"})]})}function T9(e,t,n){G.useEffect(()=>{e!==t&&window.scrollTo({top:0,behavior:"smooth"})},[n,e,t])}const b9="data:image/svg+xml,%3csvg%20width='11'%20height='11'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.313%2010.023v-3.71h3.71v-2.58h-3.71V.023h-2.58v3.71H.023v2.58h3.71v3.71z'%20fill='%237C5DFA'%20fill-rule='nonzero'/%3e%3c/svg%3e";var Hv=RS();function Gv({children:e,shown:t,className:n,variants:r,initial:a,animate:l,exit:c,showModal:f=!0,backdrop:m=!1}){const p=G.useRef(null);G.useEffect(()=>{var _,b,S;if(t&&f)return(_=p.current)==null?void 0:_.showModal();if(t&&!f)return(b=p.current)==null?void 0:b.show();if(!t)return(S=p.current)==null?void 0:S.close()},[t,f]);const y={fadeOut:{opacity:0},fadeIn:{opacity:1}};return Hv.createPortal(A.jsxs("div",{children:[m&&A.jsx(Ae.div,{variants:y,initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",className:"absolute top-0 bottom-0 left-0 right-0 bg-[#0000006a]"}),A.jsx(Ae.dialog,{className:n,ref:p,variants:r,initial:a,animate:l,exit:c,children:e})]}),document.getElementById("root"))}function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(null,arguments)}function Vs(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A9=46,S9=/\\(\\)?/g,w9=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),x9=function(t){var n=[];return t.charCodeAt(0)===A9&&n.push(""),t.replace(w9,function(r,a,l,c){var f=r;l?f=c.replace(S9,"$1"):a&&(f=a.trim()),n.push(f)}),n},cf={},R9=/[.[\]]+/,t2=function(t){if(t==null||!t.length)return[];if(typeof t!="string")throw new Error("toPath() expects a string");return cf[t]==null&&(t.endsWith("[]")?cf[t]=t.split(R9).filter(Boolean):cf[t]=x9(t)),cf[t]},ge=function(t,n){for(var r=t2(n),a=t,l=0;l<r.length;l++){var c=r[l];if(a==null||typeof a!="object"||Array.isArray(a)&&isNaN(c))return;a=a[c]}return a};function C9(e){var t=I9(e,"string");return typeof t=="symbol"?t:String(t)}function I9(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D9=function e(t,n,r,a,l){if(n>=r.length)return a;var c=r[n];if(isNaN(c)){var f;if(t==null){var m,p=e(void 0,n+1,r,a,l);return p===void 0?void 0:(m={},m[c]=p,m)}if(Array.isArray(t))throw new Error("Cannot set a non-numeric property on an array");var y=e(t[c],n+1,r,a,l);if(y===void 0){var _=Object.keys(t).length;if(t[c]===void 0&&_===0)return;if(t[c]!==void 0&&_<=1)return!isNaN(r[n-1])&&!l?{}:void 0;t[c];var b=Vs(t,[c].map(C9));return b}return $t({},t,(f={},f[c]=y,f))}var S=Number(c);if(t==null){var I=e(void 0,n+1,r,a,l);if(I===void 0)return;var j=[];return j[S]=I,j}if(!Array.isArray(t))throw new Error("Cannot set a numeric property on an object");var k=t[S],M=e(k,n+1,r,a,l),Z=[].concat(t);if(l&&M===void 0){if(Z.splice(S,1),Z.length===0)return}else Z[S]=M;return Z},si=function(t,n,r,a){if(a===void 0&&(a=!1),t==null)throw new Error("Cannot call setIn() with "+String(t)+" state");if(n==null)throw new Error("Cannot call setIn() with "+String(n)+" key");return D9(t,0,t2(n),r,a)},yS="FINAL_FORM/form-error",$o="FINAL_FORM/array-error";function vS(e,t){var n=e.errors,r=e.initialValues,a=e.lastSubmittedValues,l=e.submitErrors,c=e.submitFailed,f=e.submitSucceeded,m=e.submitting,p=e.values,y=t.active,_=t.blur,b=t.change,S=t.data,I=t.focus,j=t.modified,k=t.modifiedSinceLastSubmit,M=t.name,Z=t.touched,K=t.validating,tt=t.visited,X=ge(p,M),at=ge(n,M);at&&at[$o]&&(at=at[$o]);var N=l&&ge(l,M),x=r&&ge(r,M),C=t.isEqual(x,X),O=!!(a&&!t.isEqual(ge(a,M),X)),P=!at&&!N;return{active:y,blur:_,change:b,data:S,dirty:!C,dirtySinceLastSubmit:O,error:at,focus:I,initial:x,invalid:!P,length:Array.isArray(X)?X.length:void 0,modified:j,modifiedSinceLastSubmit:k,name:M,pristine:C,submitError:N,submitFailed:c,submitSucceeded:f,submitting:m,touched:Z,valid:P,value:X,visited:tt,validating:K}}var Kv=["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","value","visited","validating"],Li=function(t,n){if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var r=Object.keys(t),a=Object.keys(n);if(r.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<r.length;c++){var f=r[c];if(!l(f)||t[f]!==n[f])return!1}return!0};function e2(e,t,n,r,a,l){var c=!1;return a.forEach(function(f){r[f]&&(e[f]=t[f],(!n||(~l.indexOf(f)?!Li(t[f],n[f]):t[f]!==n[f]))&&(c=!0))}),c}var N9=["data"],V9=function(t,n,r,a){var l={blur:t.blur,change:t.change,focus:t.focus,name:t.name},c=e2(l,t,n,r,Kv,N9)||!n;return c||a?l:void 0},n2=["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitting","submitError","submitErrors","submitFailed","submitSucceeded","touched","valid","validating","values","visited"],O9=["touched","visited"];function _S(e,t,n,r){var a={},l=e2(a,e,t,n,n2,O9)||!t;return l||r?a:void 0}var ES=function(t){var n,r;return function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(!n||l.length!==n.length||l.some(function(f,m){return!Li(n[m],f)}))&&(n=l,r=t.apply(void 0,l)),r}},mg=function(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"},i2="4.20.10",M9=function(t,n){return t===n},Ho=function e(t){return Object.keys(t).some(function(n){var r=t[n];return r&&typeof r=="object"&&!(r instanceof Error)?e(r):typeof r<"u"})};function P9(e){var t=e.active,n=e.dirtySinceLastSubmit,r=e.modifiedSinceLastSubmit,a=e.error,l=e.errors,c=e.initialValues,f=e.pristine,m=e.submitting,p=e.submitFailed,y=e.submitSucceeded,_=e.submitError,b=e.submitErrors,S=e.valid,I=e.validating,j=e.values;return{active:t,dirty:!f,dirtySinceLastSubmit:n,modifiedSinceLastSubmit:r,error:a,errors:l,hasSubmitErrors:!!(_||b&&Ho(b)),hasValidationErrors:!!(a||Ho(l)),invalid:!S,initialValues:c,pristine:f,submitting:m,submitFailed:p,submitSucceeded:y,submitError:_,submitErrors:b,valid:S,validating:I>0,values:j}}function r2(e,t,n,r,a,l){var c=a(n,r,t,l);return c?(e(c),!0):!1}function TS(e,t,n,r,a){var l=e.entries;Object.keys(l).forEach(function(c){var f=l[Number(c)];if(f){var m=f.subscription,p=f.subscriber,y=f.notified;r2(p,m,t,n,r,a||!y)&&(f.notified=!0)}})}function k9(e){if(!e)throw new Error("No config specified");var t=e.debug,n=e.destroyOnUnregister,r=e.keepDirtyOnReinitialize,a=e.initialValues,l=e.mutators,c=e.onSubmit,f=e.validate,m=e.validateOnBlur;if(!c)throw new Error("No onSubmit function specified");var p={subscribers:{index:0,entries:{}},fieldSubscribers:{},fields:{},formState:{asyncErrors:{},dirtySinceLastSubmit:!1,modifiedSinceLastSubmit:!1,errors:{},initialValues:a&&$t({},a),invalid:!1,pristine:!0,submitting:!1,submitFailed:!1,submitSucceeded:!1,resetWhileSubmitting:!1,valid:!0,validating:0,values:a?$t({},a):{}},lastFormState:void 0},y=0,_=!1,b=!1,S=!1,I=0,j={},k=function(U){return function(Y){return delete j[U],Y}},M=function(U,Y,ot){var ut=ge(U.formState.values,Y),gt=ot(ut);U.formState.values=si(U.formState.values,Y,gt)||{}},Z=function(U,Y,ot){if(U.fields[Y]){var ut,gt;U.fields=$t({},U.fields,(ut={},ut[ot]=$t({},U.fields[Y],{name:ot,blur:function(){return Tt.blur(ot)},change:function(Mt){return Tt.change(ot,Mt)},focus:function(){return Tt.focus(ot)},lastFieldState:void 0}),ut)),delete U.fields[Y],U.fieldSubscribers=$t({},U.fieldSubscribers,(gt={},gt[ot]=U.fieldSubscribers[Y],gt)),delete U.fieldSubscribers[Y];var Rt=ge(U.formState.values,Y);U.formState.values=si(U.formState.values,Y,void 0)||{},U.formState.values=si(U.formState.values,ot,Rt),delete U.lastFormState}},K=function(U){return function(){if(l){for(var Y={formState:p.formState,fields:p.fields,fieldSubscribers:p.fieldSubscribers,lastFormState:p.lastFormState},ot=arguments.length,ut=new Array(ot),gt=0;gt<ot;gt++)ut[gt]=arguments[gt];var Rt=l[U](ut,Y,{changeValue:M,getIn:ge,renameField:Z,resetFieldState:Tt.resetFieldState,setIn:si,shallowEqual:Li});return p.formState=Y.formState,p.fields=Y.fields,p.fieldSubscribers=Y.fieldSubscribers,p.lastFormState=Y.lastFormState,x(void 0,function(){C(),W()}),Rt}}},tt=l?Object.keys(l).reduce(function(pt,U){return pt[U]=K(U),pt},{}):{},X=function(U){var Y=[];if(f){var ot=f($t({},p.formState.values));mg(ot)?Y.push(ot.then(function(ut){return U(ut,!0)})):U(ot,!1)}return Y},at=function(U){return Object.keys(U.validators).reduce(function(Y,ot){var ut=U.validators[Number(ot)]();return ut&&Y.push(ut),Y},[])},N=function(U,Y){var ot=[],ut=at(U);if(ut.length){var gt;ut.forEach(function(Rt){var jt=Rt(ge(p.formState.values,U.name),p.formState.values,Rt.length===0||Rt.length===3?vS(p.formState,p.fields[U.name]):void 0);if(jt&&mg(jt)){U.validating=!0;var Mt=jt.then(function(Nt){p.fields[U.name]&&(p.fields[U.name].validating=!1,Y(Nt))});ot.push(Mt)}else gt||(gt=jt)}),Y(gt)}return ot},x=function(U,Y){if(_){b=!0,Y();return}var ot=p.fields,ut=p.formState,gt=$t({},ot),Rt=Object.keys(gt);if(!f&&!Rt.some(function(_n){return at(gt[_n]).length})){Y();return}var jt=!1;if(U){var Mt=gt[U];if(Mt){var Nt=Mt.validateFields;Nt&&(jt=!0,Rt=Nt.length?Nt.concat(U):[U])}}var Jt={},fe={},Pe={},cn=[].concat(X(function(_n,En){En?fe=_n||{}:Jt=_n||{}}),Rt.reduce(function(_n,En){return _n.concat(N(ot[En],function(Dn){Pe[En]=Dn}))},[])),de=cn.length>0,ce=++I,ke=Promise.all(cn).then(k(ce));de&&(j[ce]=ke);var Fa=function(En){var Dn=$t({},jt?ut.errors:{},Jt,En?fe:ut.asyncErrors),Wi=function(Gn){Rt.forEach(function(Qt){if(ot[Qt]){var Bt=ge(Jt,Qt),Tn=ge(Dn,Qt),Ge=at(gt[Qt]).length,Ba=Pe[Qt];Gn(Qt,Ge&&Ba||f&&Bt||(!Bt&&!jt?Tn:void 0))}})};Wi(function(ui,Gn){Dn=si(Dn,ui,Gn)||{}}),Wi(function(ui,Gn){if(Gn&&Gn[$o]){var Qt=ge(Dn,ui),Bt=[].concat(Qt);Bt[$o]=Gn[$o],Dn=si(Dn,ui,Bt)}}),Li(ut.errors,Dn)||(ut.errors=Dn),En&&(ut.asyncErrors=fe),ut.error=Jt[yS]};if(de&&(p.formState.validating++,Y()),Fa(!1),Y(),de){var kr=function(){p.formState.validating--,Y(),p.formState.validating===0&&p.lastFormState.validating&&W()};ke.then(function(){I>ce||Fa(!0)}).then(kr,kr)}},C=function(U){if(!y){var Y=p.fields,ot=p.fieldSubscribers,ut=p.formState,gt=$t({},Y),Rt=function(Mt){var Nt=gt[Mt],Jt=vS(ut,Nt),fe=Nt.lastFieldState;Nt.lastFieldState=Jt;var Pe=ot[Mt];Pe&&TS(Pe,Jt,fe,V9,fe===void 0)};U?Rt(U):Object.keys(gt).forEach(Rt)}},O=function(){Object.keys(p.fields).forEach(function(U){p.fields[U].touched=!0})},P=function(){return!!(p.formState.error||Ho(p.formState.errors))},F=function(){var U=p.fields,Y=p.formState,ot=p.lastFormState,ut=$t({},U),gt=Object.keys(ut),Rt=!1,jt=gt.reduce(function(de,ce){var ke=!ut[ce].isEqual(ge(Y.values,ce),ge(Y.initialValues||{},ce));return ke&&(Rt=!0,de[ce]=!0),de},{}),Mt=gt.reduce(function(de,ce){var ke=Y.lastSubmittedValues||{};return ut[ce].isEqual(ge(Y.values,ce),ge(ke,ce))||(de[ce]=!0),de},{});Y.pristine=!Rt,Y.dirtySinceLastSubmit=!!(Y.lastSubmittedValues&&Object.values(Mt).some(function(de){return de})),Y.modifiedSinceLastSubmit=!!(Y.lastSubmittedValues&&Object.keys(ut).some(function(de){return ut[de].modifiedSinceLastSubmit})),Y.valid=!Y.error&&!Y.submitError&&!Ho(Y.errors)&&!(Y.submitErrors&&Ho(Y.submitErrors));var Nt=P9(Y),Jt=gt.reduce(function(de,ce){return de.modified[ce]=ut[ce].modified,de.touched[ce]=ut[ce].touched,de.visited[ce]=ut[ce].visited,de},{modified:{},touched:{},visited:{}}),fe=Jt.modified,Pe=Jt.touched,cn=Jt.visited;return Nt.dirtyFields=ot&&Li(ot.dirtyFields,jt)?ot.dirtyFields:jt,Nt.dirtyFieldsSinceLastSubmit=ot&&Li(ot.dirtyFieldsSinceLastSubmit,Mt)?ot.dirtyFieldsSinceLastSubmit:Mt,Nt.modified=ot&&Li(ot.modified,fe)?ot.modified:fe,Nt.touched=ot&&Li(ot.touched,Pe)?ot.touched:Pe,Nt.visited=ot&&Li(ot.visited,cn)?ot.visited:cn,ot&&Li(ot,Nt)?ot:Nt},V=function(){return t&&!0&&t(F(),Object.keys(p.fields).reduce(function(U,Y){return U[Y]=p.fields[Y],U},{}))},_t=!1,ne=!1,W=function pt(){if(_t)ne=!0;else{if(_t=!0,V(),!y&&!(_&&S)){var U=p.lastFormState,Y=F();Y!==U&&(p.lastFormState=Y,TS(p.subscribers,Y,U,_S))}_t=!1,ne&&(ne=!1,pt())}},lt=function(){return Object.keys(p.fields).some(function(U){return p.fields[U].beforeSubmit&&p.fields[U].beforeSubmit()===!1})},ht=function(){return Object.keys(p.fields).forEach(function(U){return p.fields[U].afterSubmit&&p.fields[U].afterSubmit()})},Dt=function(){return Object.keys(p.fields).forEach(function(U){return p.fields[U].modifiedSinceLastSubmit=!1})};x(void 0,function(){W()});var Tt={batch:function(U){y++,U(),y--,C(),W()},blur:function(U){var Y=p.fields,ot=p.formState,ut=Y[U];ut&&(delete ot.active,Y[U]=$t({},ut,{active:!1,touched:!0}),m?x(U,function(){C(),W()}):(C(),W()))},change:function(U,Y){var ot=p.fields,ut=p.formState;if(ge(ut.values,U)!==Y){M(p,U,function(){return Y});var gt=ot[U];gt&&(ot[U]=$t({},gt,{modified:!0,modifiedSinceLastSubmit:!!ut.lastSubmittedValues})),m?(C(),W()):x(U,function(){C(),W()})}},get destroyOnUnregister(){return!!n},set destroyOnUnregister(pt){n=pt},focus:function(U){var Y=p.fields[U];Y&&!Y.active&&(p.formState.active=U,Y.active=!0,Y.visited=!0,C(),W())},mutators:tt,getFieldState:function(U){var Y=p.fields[U];return Y&&Y.lastFieldState},getRegisteredFields:function(){return Object.keys(p.fields)},getState:function(){return F()},initialize:function(U){var Y=p.fields,ot=p.formState,ut=$t({},Y),gt=typeof U=="function"?U(ot.values):U;r||(ot.values=gt);var Rt=r?Object.keys(ut).reduce(function(jt,Mt){var Nt=ut[Mt],Jt=Nt.isEqual(ge(ot.values,Mt),ge(ot.initialValues||{},Mt));return Jt||(jt[Mt]=ge(ot.values,Mt)),jt},{}):{};ot.initialValues=gt,ot.values=gt,Object.keys(Rt).forEach(function(jt){ot.values=si(ot.values,jt,Rt[jt])||{}}),x(void 0,function(){C(),W()})},isValidationPaused:function(){return _},pauseValidation:function(U){U===void 0&&(U=!0),_=!0,S=U},registerField:function(U,Y,ot,ut){ot===void 0&&(ot={}),p.fieldSubscribers[U]||(p.fieldSubscribers[U]={index:0,entries:{}});var gt=p.fieldSubscribers[U].index++;p.fieldSubscribers[U].entries[gt]={subscriber:ES(Y),subscription:ot,notified:!1};var Rt=p.fields[U]||{active:!1,afterSubmit:ut&&ut.afterSubmit,beforeSubmit:ut&&ut.beforeSubmit,data:ut&&ut.data||{},isEqual:ut&&ut.isEqual||M9,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,name:U,touched:!1,valid:!0,validateFields:ut&&ut.validateFields,validators:{},validating:!1,visited:!1};Rt.blur=Rt.blur||function(){return Tt.blur(U)},Rt.change=Rt.change||function(fe){return Tt.change(U,fe)},Rt.focus=Rt.focus||function(){return Tt.focus(U)},p.fields[U]=Rt;var jt=!1,Mt=ut&&ut.silent,Nt=function(){Mt&&p.fields[U]?C(U):(W(),C())};if(ut){jt=!!(ut.getValidator&&ut.getValidator()),ut.getValidator&&(p.fields[U].validators[gt]=ut.getValidator);var Jt=ge(p.formState.values,U)===void 0;ut.initialValue!==void 0&&(Jt||ge(p.formState.values,U)===ge(p.formState.initialValues,U))&&(p.formState.initialValues=si(p.formState.initialValues||{},U,ut.initialValue),p.formState.values=si(p.formState.values,U,ut.initialValue),x(void 0,Nt)),ut.defaultValue!==void 0&&ut.initialValue===void 0&&ge(p.formState.initialValues,U)===void 0&&Jt&&(p.formState.values=si(p.formState.values,U,ut.defaultValue))}return jt?x(void 0,Nt):Nt(),function(){var fe=!1;p.fields[U]&&(fe=!!(p.fields[U].validators[gt]&&p.fields[U].validators[gt]()),delete p.fields[U].validators[gt]);var Pe=!!p.fieldSubscribers[U];Pe&&delete p.fieldSubscribers[U].entries[gt];var cn=Pe&&!Object.keys(p.fieldSubscribers[U].entries).length;cn&&(delete p.fieldSubscribers[U],delete p.fields[U],fe&&(p.formState.errors=si(p.formState.errors,U,void 0)||{}),n&&(p.formState.values=si(p.formState.values,U,void 0,!0)||{})),Mt||(fe?x(void 0,function(){W(),C()}):cn&&W())}},reset:function(U){U===void 0&&(U=p.formState.initialValues),p.formState.submitting&&(p.formState.resetWhileSubmitting=!0),p.formState.submitFailed=!1,p.formState.submitSucceeded=!1,delete p.formState.submitError,delete p.formState.submitErrors,delete p.formState.lastSubmittedValues,Tt.initialize(U||{})},resetFieldState:function(U){p.fields[U]=$t({},p.fields[U],{active:!1,lastFieldState:void 0,modified:!1,touched:!1,valid:!0,validating:!1,visited:!1}),x(void 0,function(){C(),W()})},restart:function(U){U===void 0&&(U=p.formState.initialValues),Tt.batch(function(){for(var Y in p.fields)Tt.resetFieldState(Y),p.fields[Y]=$t({},p.fields[Y],{active:!1,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,touched:!1,valid:!0,validating:!1,visited:!1});Tt.reset(U)})},resumeValidation:function(){_=!1,S=!1,b&&x(void 0,function(){C(),W()}),b=!1},setConfig:function(U,Y){switch(U){case"debug":t=Y;break;case"destroyOnUnregister":n=Y;break;case"initialValues":Tt.initialize(Y);break;case"keepDirtyOnReinitialize":r=Y;break;case"mutators":l=Y,Y?(Object.keys(tt).forEach(function(ot){ot in Y||delete tt[ot]}),Object.keys(Y).forEach(function(ot){tt[ot]=K(ot)})):Object.keys(tt).forEach(function(ot){delete tt[ot]});break;case"onSubmit":c=Y;break;case"validate":f=Y,x(void 0,function(){C(),W()});break;case"validateOnBlur":m=Y;break;default:throw new Error("Unrecognised option "+U)}},submit:function(){var U=p.formState;if(!U.submitting){if(delete U.submitErrors,delete U.submitError,U.lastSubmittedValues=$t({},U.values),P()){O(),Dt(),p.formState.submitFailed=!0,W(),C();return}var Y=Object.keys(j);if(Y.length){Promise.all(Y.map(function(Mt){return j[Number(Mt)]})).then(Tt.submit,console.error);return}var ot=lt();if(!ot){var ut,gt=!1,Rt=function(Nt){U.submitting=!1;var Jt=U.resetWhileSubmitting;return Jt&&(U.resetWhileSubmitting=!1),Nt&&Ho(Nt)?(U.submitFailed=!0,U.submitSucceeded=!1,U.submitErrors=Nt,U.submitError=Nt[yS],O()):(Jt||(U.submitFailed=!1,U.submitSucceeded=!0),ht()),W(),C(),gt=!0,ut&&ut(Nt),Nt};U.submitting=!0,U.submitFailed=!1,U.submitSucceeded=!1,U.lastSubmittedValues=$t({},U.values),Dt();var jt=c(U.values,Tt,Rt);if(!gt){if(jt&&mg(jt))return W(),C(),jt.then(Rt,function(Mt){throw Rt(),Mt});if(c.length>=3)return W(),C(),new Promise(function(Mt){ut=Mt});Rt(jt)}}}},subscribe:function(U,Y){if(!U)throw new Error("No callback given.");if(!Y)throw new Error("No subscription provided. What values do you want to listen to?");var ot=ES(U),ut=p.subscribers,gt=ut.index++;ut.entries[gt]={subscriber:ot,subscription:Y,notified:!1};var Rt=F();return r2(ot,Y,Rt,Rt,_S,!0),function(){delete ut.entries[gt]}}};return Tt}var L9=["render","children","component"];function s2(e,t,n){var r=e.render,a=e.children,l=e.component,c=Vs(e,L9);if(l)return G.createElement(l,Object.assign(t,c,{children:a,render:r}));if(r)return r(a===void 0?Object.assign(t,c):Object.assign(t,c,{children:a}));if(typeof a!="function")throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+n);return a(Object.assign(t,c))}function fs(e,t,n){n===void 0&&(n=function(l,c){return l===c});var r=Xo.useRef(e);Xo.useEffect(function(){n(e,r.current)||(t(),r.current=e)})}function j9(e){var t=Xo.useRef();return t.current||(t.current=e()),t.current}var bS=function(t,n){if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var r=Object.keys(t),a=Object.keys(n);if(r.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<r.length;c++){var f=r[c];if(!l(f)||t[f]!==n[f])return!1}return!0},U9=function(t){return!!(t&&typeof t.stopPropagation=="function")},a2=G.createContext();function o2(e){var t=Xo.useRef(e);return Xo.useEffect(function(){t.current=e}),t}var l2="6.5.8",u2=function(t,n,r){r.forEach(function(a){Object.defineProperty(t,a,{get:function(){return n[a]},enumerable:!0})})},c2=function(t,n){return u2(t,n,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},F9=function(t,n){return u2(t,n,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])},B9=["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"],z9={"final-form":i2,"react-final-form":l2},h2=n2.reduce(function(e,t){return e[t]=!0,e},{});function q9(e){var t=e.debug,n=e.decorators,r=n===void 0?[]:n,a=e.destroyOnUnregister,l=e.form,c=e.initialValues,f=e.initialValuesEqual,m=e.keepDirtyOnReinitialize,p=e.mutators,y=e.onSubmit,_=e.subscription,b=_===void 0?h2:_,S=e.validate,I=e.validateOnBlur,j=Vs(e,B9),k={debug:t,destroyOnUnregister:a,initialValues:c,keepDirtyOnReinitialize:m,mutators:p,onSubmit:y,validate:S,validateOnBlur:I},M=j9(function(){var x=l||k9(k);return x.pauseValidation(),x}),Z=G.useState(function(){var x={};return M.subscribe(function(C){x=C},b)(),x}),K=Z[0],tt=Z[1],X=o2(K);G.useEffect(function(){M.isValidationPaused()&&M.resumeValidation();var x=[M.subscribe(function(C){bS(C,X.current)||tt(C)},b)].concat(r?r.map(function(C){return C(M)}):[]);return function(){M.pauseValidation(),x.reverse().forEach(function(C){return C()})}},r),fs(t,function(){M.setConfig("debug",t)}),fs(a,function(){M.destroyOnUnregister=!!a}),fs(m,function(){M.setConfig("keepDirtyOnReinitialize",m)}),fs(c,function(){M.setConfig("initialValues",c)},f||bS),fs(p,function(){M.setConfig("mutators",p)}),fs(y,function(){M.setConfig("onSubmit",y)}),fs(S,function(){M.setConfig("validate",S)}),fs(I,function(){M.setConfig("validateOnBlur",I)});var at=function(C){return C&&(typeof C.preventDefault=="function"&&C.preventDefault(),typeof C.stopPropagation=="function"&&C.stopPropagation()),M.submit()},N={form:$t({},M,{reset:function(C){U9(C)?M.reset():M.reset(C)}}),handleSubmit:at};return c2(N,K),G.createElement(a2.Provider,{value:M},s2($t({},j,{__versions:z9}),N,"ReactFinalForm"))}function _l(e){var t=G.useContext(a2);if(!t)throw new Error((e||"useForm")+" must be used inside of a <Form> component");return t}function H9(e){var t={},n=t.onChange,r=t.subscription,a=r===void 0?h2:r,l=_l("useFormState"),c=G.useRef(!0),f=G.useRef(n);f.current=n;var m=G.useState(function(){var b={};return l.subscribe(function(S){b=S},a)(),n&&n(b),b}),p=m[0],y=m[1];G.useEffect(function(){return l.subscribe(function(b){c.current?c.current=!1:(y(b),f.current&&f.current(b))},a)},[]);var _={};return c2(_,p),_}var G9=typeof window<"u"&&window.navigator&&window.navigator.product&&window.navigator.product==="ReactNative",K9=function(t){var n=[];if(t)for(var r=0;r<t.length;r++){var a=t[r];a.selected&&n.push(a.value)}return n},Q9=function(t,n,r,a){if(!a&&t.nativeEvent&&t.nativeEvent.text!==void 0||a&&t.nativeEvent)return t.nativeEvent.text;var l=t,c=l.target,f=c.type,m=c.value,p=c.checked;switch(f){case"checkbox":if(r!==void 0){if(p)return Array.isArray(n)?n.concat(r):[r];if(!Array.isArray(n))return n;var y=n.indexOf(r);return y<0?n:n.slice(0,y).concat(n.slice(y+1))}else return!!p;case"select-multiple":return K9(t.target.options);default:return m}};function pg(e){var t=G.useRef(e);return G.useEffect(function(){t.current=e}),G.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current.apply(null,r)},[])}var Y9=Kv.reduce(function(e,t){return e[t]=!0,e},{}),gg=function(t,n){return t===void 0?"":t},$9=function(t,n){return t===""?void 0:t},X9=function(t,n){return t===n};function Qv(e,t){t===void 0&&(t={});var n=t,r=n.afterSubmit,a=n.allowNull,l=n.component,c=n.data,f=n.defaultValue,m=n.format,p=m===void 0?gg:m,y=n.formatOnBlur,_=n.initialValue,b=n.multiple,S=n.parse,I=S===void 0?$9:S,j=n.subscription,k=j===void 0?Y9:j,M=n.type,Z=n.validateFields,K=n.value,tt=_l("useField"),X=o2(t),at=function(ne,W){return tt.registerField(e,ne,k,{afterSubmit:r,beforeSubmit:function(){var ht=X.current,Dt=ht.beforeSubmit,Tt=ht.formatOnBlur,pt=ht.format,U=pt===void 0?gg:pt;if(Tt){var Y=tt.getFieldState(e),ot=Y.value,ut=U(ot,e);ut!==ot&&tt.change(e,ut)}return Dt&&Dt()},data:c,defaultValue:f,getValidator:function(){return X.current.validate},initialValue:_,isEqual:function(ht,Dt){return(X.current.isEqual||X9)(ht,Dt)},silent:W,validateFields:Z})},N=G.useRef(!0),x=G.useState(function(){var _t={},ne=tt.destroyOnUnregister;return tt.destroyOnUnregister=!1,at(function(W){_t=W},!0)(),tt.destroyOnUnregister=ne,_t}),C=x[0],O=x[1];G.useEffect(function(){return at(function(_t){N.current?N.current=!1:O(_t)},!1)},[e,c,f,_]);var P={};F9(P,C);var F={name:e,get value(){var _t=C.value;return y?l==="input"&&(_t=gg(_t)):_t=p(_t,e),_t===null&&!a&&(_t=""),M==="checkbox"||M==="radio"?K:l==="select"&&b?_t||[]:_t},get checked(){var _t=C.value;if(M==="checkbox")return _t=p(_t,e),K===void 0?!!_t:!!(Array.isArray(_t)&&~_t.indexOf(K));if(M==="radio")return p(_t,e)===K},onBlur:pg(function(_t){if(C.blur(),y){var ne=tt.getFieldState(C.name);C.change(p(ne.value,C.name))}}),onChange:pg(function(_t){var ne=_t&&_t.target?Q9(_t,C.value,K,G9):_t;C.change(I(ne,e))}),onFocus:pg(function(_t){return C.focus()})};b&&(F.multiple=b),M!==void 0&&(F.type=M);var V={input:F,meta:P};return V}var W9=["afterSubmit","allowNull","beforeSubmit","children","component","data","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","name","parse","subscription","type","validate","validateFields","value"],rn=G.forwardRef(function(t,n){var r=t.afterSubmit,a=t.allowNull,l=t.beforeSubmit,c=t.children,f=t.component,m=t.data,p=t.defaultValue,y=t.format,_=t.formatOnBlur,b=t.initialValue,S=t.isEqual,I=t.multiple,j=t.name,k=t.parse,M=t.subscription,Z=t.type,K=t.validate,tt=t.validateFields,X=t.value,at=Vs(t,W9),N=Qv(j,{afterSubmit:r,allowNull:a,beforeSubmit:l,children:c,component:f,data:m,defaultValue:p,format:y,formatOnBlur:_,initialValue:b,isEqual:S,multiple:I,parse:k,subscription:M,type:Z,validate:K,validateFields:tt,value:X});if(typeof c=="function")return c($t({},N,at));if(typeof f=="string")return G.createElement(f,$t({},N.input,{children:c,ref:n},at));if(!j)throw new Error("prop name cannot be undefined in <Field> component");return s2($t({children:c,component:f,ref:n},at),N,"Field("+j+")")});const f2="data:image/svg+xml,%3csvg%20width='11'%20height='7'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201l4.228%204.228L9.456%201'%20stroke='%237C5DFA'%20stroke-width='2'%20fill='none'%20fill-rule='evenodd'/%3e%3c/svg%3e",Yv=e=>{const t=G.useRef(null);return G.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e()};return document.addEventListener("mouseup",n),document.addEventListener("touchend",n),()=>{document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}},[e]),t},d2=["Net 1 Day","Net 7 Days","Net 14 Days","Net 30 Days"];function Z9({input:e}){const{termsOpen:t,option:n}=un(Qk),r=xS(),a=G.useRef(null),l="cursor-pointer font-bold text-base leading-[15px] -tracking-[0.25px] px-5 py-4",{isDark:c}=Cc(),f=G.useRef("");function m(){t||r(Mu(!0)),t&&(a.current=window.setTimeout(()=>{r(Mu(!1))},100)),r($f(!1))}G.useEffect(()=>{if(a.current)return()=>{clearTimeout(a.current)}},[]);function p(b){const I=b.target.innerText;r(Kk(I)),e.onChange(I),r(Mu(!1))}const y={fadeOut:{opacity:0},fadeIn:{opacity:1}},_=Yv(()=>{r(Mu(!1))});return G.useEffect(()=>{t&&c&&(f.current="#7C5DFA"),t&&!c&&(f.current="#7C5DFA"),!t&&c&&(f.current="#252945"),!t&&!c&&(f.current="#DFE3FA")},[c,t]),A.jsxs("div",{className:"relative",ref:_,children:[A.jsxs(Ae.button,{className:"flex items-center justify-between py-[18px] px-[20px] border rounded-sm cursor-pointer w-full hover:border-[#7C5DFA] dark:bg-[#1E2139] dark:text-white focus-visible:outline-[#9277FF]",onClick:m,whileHover:{borderColor:"#7C5DFA"},style:{borderColor:f.current},type:"button",children:[A.jsx(Ae.span,{className:"font-bold text-base leading-[15px] -tracking-[0.25px]",initial:!1,animate:{scale:[.99,1.1,1]},transition:{duration:.4},children:n},n),A.jsx(Ae.img,{src:f2,alt:"",animate:{rotate:t?180:0}})]}),A.jsx(Xi,{children:t&&A.jsx(Ae.div,{className:"absolute top-18 rounded-lg bg-white w-full z-10 dark:bg-[#1E2139] dark:text-white",initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",variants:y,transition:{ease:"easeOut",duration:.3},children:A.jsx("ul",{className:"divide-y divide-[#DFE3FA] dark:divide-[rgb(20,22,39)]",onClick:p,children:d2.map(b=>A.jsx(Ae.li,{className:l,whileHover:{color:"#7C5DFA"},children:b},b))})})})]})}const J9="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14%202h-.667V.667A.667.667%200%200012.667%200H12a.667.667%200%2000-.667.667V2H4.667V.667A.667.667%200%20004%200h-.667a.667.667%200%2000-.666.667V2H2C.897%202%200%202.897%200%204v10c0%201.103.897%202%202%202h12c1.103%200%202-.897%202-2V4c0-1.103-.897-2-2-2zm.667%2012c0%20.367-.3.667-.667.667H2A.668.668%200%20011.333%2014V6.693h13.334V14z'%20fill='%237E88C3'%20fill-rule='nonzero'%20opacity='.5'/%3e%3c/svg%3e",m2="data:image/svg+xml,%3csvg%20width='7'%20height='10'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.342.886L2.114%205.114l4.228%204.228'%20stroke='%239277FF'%20stroke-width='2'%20fill='none'%20fill-rule='evenodd'/%3e%3c/svg%3e";function t6({date:e,setDate:t,calendar:n,setCalendar:r}){const[a,l,c]=e,f=yx(l,c),m=Kg(l,c),p=G.useRef("forward"),y=G.useRef(null),_=In();function b(k){const M=k.target,Z=parseInt(M.innerText),K=M.getAttribute("data-next"),tt=M.getAttribute("data-prev");if(K==="true"){let at=l+1;return at>11&&(at=0),S(),t([Z,at,c])}if(tt==="true"){let at=l-1;return at<0&&(at=11),I(),t([Z,at,c])}t([Z,l,c]);const X=K==="true"||tt==="true";y.current=window.setTimeout(()=>{_($f(!1))},X?2200:400)}G.useEffect(()=>{if(y.current!==null)return()=>{window.clearTimeout(y.current)}},[]);function S(){const k=Gg.length-1,M=l+1;if(p.current="forward",t([1,l,c]),M>k){t([a,0,c+1]);return}t([a,M,c])}function I(){const k=l-1;if(p.current="back",t([1,l,c]),k<0){t([1,11,c-1]);return}t([a,k,c])}G.useEffect(()=>{r(vx(l,c))},[c,l,r]);const j={initial:k=>({x:k==="forward"?500:-500}),exit:k=>({x:k==="back"?500:-500})};return G.useEffect(()=>{t([a,l,c])},[a,l,c,r,t]),A.jsxs("div",{className:"overflow-x-hidden relative pb-[31px] min-h-[290px]",children:[A.jsxs("div",{className:"month flex justify-between items-center px-[16px] pt-[26px] pb-[32px]",children:[A.jsxs("button",{className:"p-1 flex justify-center items-center cursor-pointer",onClick:I,type:"button",children:[A.jsx("span",{className:"sr-only",children:"Previous month"}),A.jsx("img",{src:m2,alt:"",width:7,height:10})]}),A.jsx("span",{className:"font-bold text-base leading-[15px] -tracking-[0.25px] dark:text-[#DFE3FA]",children:`${Gg[l]} ${c}`}),A.jsxs("button",{className:"p-1 flex justify-center items-center cursor-pointer",onClick:S,type:"button",children:[A.jsx("span",{className:"sr-only",children:"Previous month"}),A.jsx("img",{src:JR,alt:"",width:7,height:10})]})]}),A.jsx(Xi,{initial:!1,mode:"sync",custom:p.current,children:A.jsx(Ae.div,{className:"days grid grid-cols-7 grid-rows-6 absolute left-0 right-0",onClick:b,variants:j,custom:p.current,initial:"initial",animate:{x:0,opacity:1},exit:"exit",transition:{type:"spring",bounce:.2},children:n.map((k,M)=>{const Z=a===k,K=M+1<f,tt=M-f>=m-1,X=!(K||tt);let at;return X&&Z&&(at="text-[#7C5DFA]"),X&&!Z&&(at="text-[#0C0E16] dark:text-[#DFE3FA]"),X||(at="text-[#0c0e161e] dark:text-[#59617daa]"),A.jsx("button",{className:`text-center font-bold text-base leading-[15px] -tracking-[0.25px] py-2 ${at} cursor-pointer `,"data-prev":K,"data-next":tt,type:"button",children:k},M)})},l)})]})}function e6({input:e}){const[t,n]=G.useState(e.value||[wd,Da,Ia]),[r,a]=G.useState(vx(Da,Ia)),{isDark:l}=Cc(),c=un(qk),f=In(),[m,p,y]=t,{calendarOpen:_}=c,b=G.useRef(""),S={fadeOut:{opacity:0},fadeIn:{opacity:1}};function I(){f($f(!_)),f(Mu(!1))}const j=Yv(()=>{f($f(!1))});return G.useEffect(()=>{_&&l&&(b.current="#7C5DFA"),_&&!l&&(b.current="#7C5DFA"),!_&&l&&(b.current="#252945"),!_&&!l&&(b.current="#DFE3FA")},[l,_]),G.useEffect(()=>{e.onChange(t)},[t,e]),A.jsxs("div",{className:"relative",ref:j,children:[A.jsxs(Ae.button,{className:"flex items-center justify-between py-[18px] px-[20px] border rounded-sm cursor-pointer w-full hover:border-[#7C5DFA] dark:bg-[#1E2139] dark:text-white focus-visible:outline-[#9277FF]",onClick:I,whileHover:{borderColor:"#7C5DFA"},style:{borderColor:b.current},type:"button",children:[A.jsx(Ae.span,{className:"font-bold text-base leading-[15px] -tracking-[0.25px]",initial:!1,animate:{scale:[.99,1.1,1]},transition:{duration:.4},children:`${m} ${Gg[p]} ${y}`},m),A.jsx("img",{src:J9,alt:""})]}),A.jsx(Xi,{children:_&&A.jsx(Ae.div,{className:"absolute top-18 bg-white z-10 w-full rounded-lg dark:bg-[#252945]",initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",variants:S,transition:{ease:"easeOut"},children:A.jsx(t6,{date:t,setDate:n,calendar:r,setCalendar:a})})})]})}function Ic({children:e,onClickHandler:t,type:n}){const{isDark:r}=Cc();return A.jsx(Ae.button,{className:"py-4 px-6 max-h-12 rounded-full text-[15px] font-bold -tracking-[0.25px] cursor-pointer text-[var(--A07)] dark:text-[var(--A05)] flex items-center justify-center",onClick:t,whileHover:{backgroundColor:r?"#FFFFFF":"#DFE3FA"},whileTap:{scale:.98},style:{backgroundColor:r?"#252945":"#F9FAFE"},type:n,children:e})}var n6=["render","children","component"];function i6(e,t){var n=e.render,r=e.children,a=e.component,l=Vs(e,n6);if(a)return G.createElement(a,$t({},l,{children:r,render:n}));if(n)return n(r===void 0?l:$t({},l,{children:r}));if(typeof r!="function")throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+t);return r(l)}var r6=function(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&!t.some(function(r,a){return r!==n[a]})};function s6(e){var t=Xo.useRef();return t.current||(t.current=e()),t.current}var a6=["length"],o6=["meta","input"],l6=Kv.reduce(function(e,t){return e[t]=!0,e},{}),u6=function(t,n){var r=n===void 0?{}:n,a=r.subscription,l=a===void 0?l6:a,c=r.defaultValue,f=r.initialValue,m=r.isEqual,p=m===void 0?r6:m,y=r.validate,_=_l("useFieldArray"),b=_.mutators,S=!!(b&&b.push&&b.pop);if(!S)throw new Error("Array mutators not found. You need to provide the mutators from final-form-arrays to your form");var I=G.useMemo(function(){return Object.keys(b).reduce(function(x,C){return x[C]=function(){for(var O=arguments.length,P=new Array(O),F=0;F<O;F++)P[F]=arguments[F];return b[C].apply(b,[t].concat(P))},x},{})},[t,b]),j=s6(function(){return function(x,C,O){if(y){var P=y(x,C,O);if(!P||Array.isArray(P))return P;var F=[];return F[$o]=P,F}}}),k=Qv(t,{subscription:$t({},l,{length:!0}),defaultValue:c,initialValue:f,isEqual:p,validate:j,format:function(C){return C}}),M=k.meta,Z=M.length,K=Vs(M,a6),tt=k.input,X=Vs(k,o6),at=function(C){for(var O=Z||0,P=0;P<O;P++)C(t+"["+P+"]",P)},N=function(C){for(var O=Z||0,P=[],F=0;F<O;F++)P.push(C(t+"["+F+"]",F));return P};return{fields:$t({name:t,forEach:at,length:Z||0,map:N},I,X,{value:tt.value}),meta:K}},c6="3.1.3",h6=["name","subscription","defaultValue","initialValue","isEqual","validate"],f6={"final-form":i2,"react-final-form":l2,"react-final-form-arrays":c6},d6=function(t){var n=t.name,r=t.subscription,a=t.defaultValue,l=t.initialValue,c=t.isEqual,f=t.validate,m=Vs(t,h6),p=u6(n,{subscription:r,defaultValue:a,initialValue:l,isEqual:c,validate:f}),y=p.fields,_=p.meta;return i6($t({fields:y,meta:$t({},_,{__versions:f6})},m),"FieldArray("+n+")")};const m6="data:image/svg+xml,%3csvg%20width='13'%20height='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.583%203.556v10.666c0%20.982-.795%201.778-1.777%201.778H2.694a1.777%201.777%200%2001-1.777-1.778V3.556h10.666zM8.473%200l.888.889h3.111v1.778H.028V.889h3.11L4.029%200h4.444z'%20fill='%23888EB0'%20fill-rule='nonzero'/%3e%3c/svg%3e";function p6({name:e,index:t,remove:n}){var b,S,I,j;const r="flex flex-col gap-[9px]",a="text-xs leading-[15px] -tracking-[0.1px] text-[#7E88C3] dark:text-[#DFE3FA]",l="py-[18px] px-[20px] border border-[#DFE3FA] rounded-sm text-base font-bold leading-[15px] -tracking-0.25px text-[#0C0E16] dark:bg-[#1E2139] dark:text-white dark:border-[#252945] focus:border-[#9277FF] focus-visible:border-[#9277FF] focus-visible:outline-none",c="text-xs leading-[15px] -tracking-[0.1px] text-rose-400",{values:f}=H9(),m=parseFloat(((S=(b=f.items)==null?void 0:b[t])==null?void 0:S.quantity)||0),p=parseFloat(((j=(I=f.items)==null?void 0:I[t])==null?void 0:j.price)||0),y=m*p,_=_l();return G.useEffect(()=>{_.change(`${e}.total`,y)},[m,p,y,_,e]),A.jsxs("div",{className:"item grid grid-cols-1 grid-rows-2 gap-[25px]",children:[A.jsx(rn,{name:`${e}.name`,children:({input:k,meta:M})=>A.jsxs("label",{className:r,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:a,children:"Item Name"}),A.jsx("span",{className:c,children:M.touched&&M.visited&&M.error?M.error:""})]}),A.jsx("input",{...k,type:"text",className:l})]})}),A.jsxs("div",{className:"grid grid-cols-[23%_25%_25%_auto] gap-4 relative",children:[A.jsx(rn,{name:`${e}.quantity`,children:({input:k,meta:M})=>A.jsxs("label",{className:r,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:a,children:"Qty."}),A.jsx("span",{className:c,children:M.touched&&M.visited&&M.error?M.error:""})]}),A.jsx("input",{...k,type:"number",className:l,min:0})]})}),A.jsx(rn,{name:`${e}.price`,children:({input:k,meta:M})=>A.jsxs("label",{className:r,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:a,children:"Price"}),A.jsx("span",{className:c,children:M.touched&&M.visited&&M.error?M.error:""})]}),A.jsx("input",{...k,type:"number",className:l,min:0})]})}),A.jsx(rn,{name:`${e}.total`,children:({input:k})=>A.jsxs("label",{className:r,children:[A.jsx("span",{className:a,children:"Total"}),A.jsx("div",{className:"h-full flex flex-col justify-center",children:A.jsx("span",{className:"font-bold leading-15px text-base text-[#888EB0] overflow-scroll",...k,children:y.toFixed(2)})})]})}),A.jsx("div",{className:"absolute justify-self-end top-7",children:A.jsxs("button",{className:"cursor-pointer ml-auto p-4 focus-visible:outline-[#9277FF]",onClick:()=>{_.batch(()=>{n("items",t)})},children:[A.jsx("span",{className:"sr-only",children:"Delete item"}),A.jsx("img",{src:m6,alt:"",width:13,height:16})]})})]})]})}function g6({push:e,remove:t,onSkipValidation:n}){const[r,a]=G.useState(""),l="font-bold text-lg leading-8 -tracking-[0.38px] text-[#777F98]",c="text-xs leading-[15px] -tracking-[0.1px] text-rose-400",f=_l(),m=Qv("items");return G.useEffect(()=>{m.input.value.length===0?a("Required"):a("")},[m.input.value.length]),A.jsxs("fieldset",{className:"flex flex-col mt-[69px]",children:[A.jsxs("div",{className:"flex justify-between items-center mb-[22px]",children:[A.jsx("legend",{className:l,children:"Item List"}),A.jsx("span",{className:c,children:r||""})]}),A.jsxs("div",{className:"items flex flex-col gap-[49px]",children:[A.jsx(d6,{name:"items",children:({fields:p})=>p.map((y,_)=>A.jsx(p6,{name:y,index:_,remove:t},y))}),A.jsx(Ic,{type:"button",onClickHandler:()=>{f.batch(()=>{n(!0),e("items",{name:"",quantity:null,price:null,total:0})}),setTimeout(()=>{n(!1)},0)},children:"+ Add New Item"})]})]})}function fy(){return fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(this,arguments)}function Na(e,t,n,r){n[r]=fy({},e[t],{name:r,change:e[r]&&e[r].change,blur:e[r]&&e[r].blur,focus:e[r]&&e[r].focus,lastFieldState:void 0}),n[r].change||delete n[r].change,n[r].blur||delete n[r].blur,n[r].focus||delete n[r].focus}var Vd=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},p2=function(t,n,r){var a=t[0],l=t[1],c=t[2],f=r.changeValue;f(n,a,function(y){var _=[].concat(y||[]);return _.splice(l,0,c),_});var m=new RegExp("^"+Vd(a)+"\\[(\\d+)\\](.*)"),p={};Object.keys(n.fields).forEach(function(y){var _=m.exec(y);if(_){var b=Number(_[1]);if(b>=l){var S=a+"["+(b+1)+"]"+_[2];Na(n.fields,y,p,S);return}}p[y]=n.fields[y]}),n.fields=p},y6=function(t,n,r){var a=t[0],l=t[1],c=r.changeValue;c(n,a,function(f){return f?[].concat(f,l):l})},v6=function(t,n,r){var a=t[0],l=t[1],c=t[2],f=r.changeValue;if(l!==c){f(n,a,function(S){var I=[].concat(S||[]),j=I[l];return I.splice(l,1),I.splice(c,0,j),I});var m={},p=new RegExp("^"+Vd(a)+"\\[(\\d+)\\](.*)"),y,_,b;l>c?(y=c,_=l,b=1):(y=l,_=c,b=-1),Object.keys(n.fields).forEach(function(S){var I=p.exec(S);if(I){var j=Number(I[1]);if(j===l){var k=a+"["+c+"]"+I[2];Na(n.fields,S,m,k);return}if(y<=j&&j<=_){var M=a+"["+(j+b)+"]"+I[2];Na(n.fields,S,m,M);return}}m[S]=n.fields[S]}),n.fields=m}},$v=function(t,n,r){var a=t[0],l=t[1],c=r.changeValue,f=r.getIn,m=r.setIn,p;c(n,a,function(b){if(!b)return b;var S=[].concat(b);return p=S[l],S.splice(l,1),S.length>0?S:void 0});var y=new RegExp("^"+Vd(a)+"\\[(\\d+)\\](.*)"),_={};return Object.keys(n.fields).forEach(function(b){var S=y.exec(b);if(S){var I=Number(S[1]);if(I===l){if(b===a+"["+l+"]"){var j="formState.submitErrors."+a,k=f(n,j);Array.isArray(k)&&(k.splice(l,1),n=m(n,j,k))}return}if(I>l){var M=a+"["+(I-1)+"]"+S[2];Na(n.fields,b,_,M);return}}_[b]=n.fields[b]}),n.fields=_,p},_6=function(t,n,r){var a=t[0],l=r.getIn,c=l(n.formState.values,a);return c&&c.length>0?$v([a,c.length-1],n,r):void 0},E6=function(t,n,r){var a=t[0],l=t[1],c=r.changeValue;c(n,a,function(f){return f?[].concat(f,[l]):[l]})},T6=function(t,n){for(var r=0,a=t.length-1,l=0;r<=a;){if(l=Math.floor((r+a)/2),t[l]===n)return l;t[l]>n?a=l-1:r=l+1}return~r},b6=function(t,n,r){var a=t[0],l=t[1],c=r.changeValue;if(l.length===0)return[];var f=[].concat(l);f.sort();for(var m=f.length-1;m>0;m-=1)f[m]===f[m-1]&&f.splice(m,1);var p=[];c(n,a,function(b){if(p=l.map(function(k){return b&&b[k]}),!b)return b;for(var S=[].concat(b),I=f.length-1;I>=0;I-=1){var j=f[I];S.splice(j,1)}return S.length>0?S:void 0});var y=new RegExp("^"+Vd(a)+"\\[(\\d+)\\](.*)"),_={};return Object.keys(n.fields).forEach(function(b){var S=y.exec(b);if(S){var I=Number(S[1]),j=T6(f,I);if(j>=0)return;if(I>f[0]){var k=a+"["+(I-~j)+"]"+S[2];Na(n.fields,b,_,k);return}}_[b]=n.fields[b]}),n.fields=_,p},A6=function(t,n,r){var a=t[0];return $v([a,0],n,r)},S6=function(t,n,r){var a=t[0],l=t[1],c=t[2],f=r.changeValue;if(l!==c){f(n,a,function(_){var b=[].concat(_||[]),S=b[l];return b[l]=b[c],b[c]=S,b});var m=a+"["+l+"]",p=a+"["+c+"]",y={};Object.keys(n.fields).forEach(function(_){if(_.substring(0,m.length)===m){var b=_.substring(m.length),S=p+b;Na(n.fields,_,y,S)}else if(_.substring(0,p.length)===p){var I=_.substring(p.length),j=m+I;Na(n.fields,_,y,j)}else y[_]=n.fields[_]}),n.fields=y}},w6=function(t,n,r){var a=t[0],l=t[1];return p2([a,0,l],n,r)},x6=function(t,n,r){var a=t[0],l=t[1],c=t[2],f=r.changeValue;f(n,a,function(m){var p=[].concat(m||[]);return p.splice(l,1,c),p})},R6={insert:p2,concat:y6,move:v6,pop:_6,push:E6,remove:$v,removeBatch:b6,shift:A6,swap:S6,unshift:w6,update:x6};const C6={senderStreet:"",senderCity:"",senderPostCode:"",senderCountry:"",clientsName:"",clientsEmail:"",clientsStreet:"",clientsCity:"",clientsPostCode:"",clientsCountry:"",invoiceDate:[wd,Da,Ia],paymentTerm:"Net 1 Day",description:"",items:[{name:"",quantity:0,price:0,total:0}]};class Xv extends Error{constructor(t,n){super(t),this.publicId=n,this.name="ErrorWithId"}}const I6=e=>/\d/.test(e);function D6(e){const t={};t.senderStreet=AS(e.senderStreet,"Address"),t.senderCity=hf(e.senderCity),t.senderPostCode=SS(e.senderPostCode),t.senderCountry=hf(e.senderCountry),t.clientsName=N6(e.clientsName),t.clientsEmail=V6(e.clientsEmail),t.clientsStreet=AS(e.clientsStreet,"Address"),t.clientsCity=hf(e.clientsCity),t.clientsPostCode=SS(e.clientsPostCode),t.clientsCountry=hf(e.clientsCountry),t.invoiceDate=O6(e.invoiceDate),t.paymentTerm=M6(e.paymentTerm),t.description=P6(e.description);const n=k6(e.items);return n&&(t.items=n),t}function AS(e,t){if(!e)return"Required";if(e.length<5)return`To short ${t}`}function hf(e){if(!e)return"Required";if(I6(e))return"No Numbers"}function SS(e){if(!e)return"Required";if(!/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d-]+$/.test(e))return"Invalid Post Code"}function N6(e){if(!e)return"Required"}function V6(e){if(!e)return"Required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return"Invalid Email"}function O6(e){if(!e)return"Required";if(!Array.isArray(e)||e.length!==3)return"Wrong format"}function M6(e){if(!e)return"Required";if(!d2.includes(e))return"Wrong format"}function P6(e){if(!e)return"Required"}function k6(e){if(!e||e.length===0)return"At least one item is required";const t=e.map(r=>{const a={};return r.name||(a.name="Required"),r.quantity||(a.quantity="Required"),r.price||(a.price="Required"),a});return t.some(r=>Object.keys(r).length>0)?t:void 0}function Wv(e=[wd,Da,Ia]){const t=new Date(e[2],e[1],e[0]),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${a}`}function Od(e){const t=/\d+/,n=e.match(t)[0];return parseInt(n)}function Zv(e){const t=new Date,n=Od(e);t.setDate(t.getDate()+n);const r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${r}-${a}-${l}`}function Jv(e){return e.reduce((t,n)=>t+=n.total||0,0)}function L6(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=e.charAt(Math.floor(Math.random()*e.length)),n=e.charAt(Math.floor(Math.random()*e.length)),r=Math.floor(1e3+Math.random()*9e3);return`${t}${n}${r}`}async function g2(){let e,t=!0;for(;t;)e=L6(),t=!(await ox(nx(Q1(gl,"invoices"),ix("id","==",e)))).empty;if(e)return e}async function y2(e,t){try{const n=bc(gl,"invoices",e);return await lx(n,t),t}catch(n){throw console.error("Error writing invoice:",n),new Xv("Failed to write invoice to the database.",e)}}async function j6(e,t){const n=bc(gl,"invoices",e);try{return await ux(n,{...t}),t}catch(r){throw console.error("Error updating invoice:",r),new Error("Failed to update invoice to the database.")}}async function U6(e,t){try{const n=await g2();if(n)return{id:n,userId:e,createdAt:Wv(t.invoiceDate),paymentDue:Zv(t.paymentTerm),paymentTerms:Od(t.paymentTerm),total:Jv(t.items),description:t.description,status:"pending",clientAddress:{city:t.clientsCity,country:t.clientsCountry,postCode:t.clientsPostCode,street:t.clientsStreet},clientEmail:t.clientsEmail,clientName:t.clientsName,senderAddress:{city:t.senderCity,country:t.senderCountry,postCode:t.senderPostCode,street:t.senderStreet},items:t.items}}catch{throw new Error("Unable to create ID")}}function F6(e){return{createdAt:Wv(e.invoiceDate),paymentDue:Zv(e.paymentTerm),paymentTerms:Od(e.paymentTerm),total:Jv(e.items),description:e.description,clientAddress:{city:e.clientsCity,country:e.clientsCountry,postCode:e.clientsPostCode,street:e.clientsStreet},clientEmail:e.clientsEmail,clientName:e.clientsName,senderAddress:{city:e.senderCity,country:e.senderCountry,postCode:e.senderPostCode,street:e.senderStreet},items:e.items}}async function B6(e,t){var n;try{const r=await g2();if(r)return{userId:e,id:r,status:"draft",createdAt:Wv(t.invoiceDate),paymentDue:Zv(t.paymentTerm),paymentTerms:Od(t.paymentTerm),total:(n=t.items)!=null&&n.length?Jv(t.items):0,description:t.description||"",clientAddress:{city:t.clientsCity||"",country:t.clientsCountry||"",postCode:t.clientsPostCode||"",street:t.clientsStreet||""},clientEmail:t.clientsEmail||"",clientName:t.clientsName||"",senderAddress:{city:t.senderCity||"",country:t.senderCountry||"",postCode:t.senderPostCode||"",street:t.senderStreet||""},items:t.items||[]}}catch(r){throw console.log(r),new Error("Unable to create ID")}}function z6({children:e,onClickHandler:t,type:n,className:r=""}){const{isDark:a}=Cc(),l="bg-[#373B53]",c=a?"#1E2139":"#0C0E16",f=a?"text-[#DFE3FA]":"text-[#888EB0]";return A.jsx(Ae.button,{className:`${l} ${f} py-4 px-6 max-h-12 rounded-full text-[15px] font-bold -tracking-[0.25px] cursor-pointer dark:text-[#DFE3FA] flex items-center justify-center ${r}`,onClick:t,whileHover:{backgroundColor:c},whileTap:{scale:.98},type:n,children:e})}function t0({children:e,onClickHandler:t=void 0,type:n}){return A.jsx(Ae.button,{className:"bg-[#7c5dfa] py-4 px-6 max-h-12 rounded-full text-[15px] font-bold -tracking-[0.25px] cursor-pointer text-white flex items-center justify-center",onClick:t,whileHover:{backgroundColor:"#9277FF"},whileTap:{scale:.98},type:n,children:e})}function q6({submitForm:e,component:t}){const n=Pr({query:"(min-width: 640px)"}),r=In(),a=Vr(),l=_l(),{userId:c}=Oa();return A.jsxs("div",{className:"py-[22px] flex justify-center md:justify-center gap-2",children:[A.jsx(Ic,{onClickHandler:()=>{if(n){r(Ui(!1));return}a(-1)},type:"button",children:"Cancel"}),A.jsx(z6,{onClickHandler:async()=>{const{values:f}=l.getState();try{const m=await B6(c,f);if(r(fx(m)),m&&y2(m.id,m),!t){a(-1);return}r(Ui(!1))}catch(m){m instanceof Xv&&(r(gn(m.message)),r(dx(m.publicId))),r(Ui(!1))}},className:"ml-auto",children:"Save as Draft"}),A.jsx(t0,{onClickHandler:t?()=>{e()}:void 0,type:"submit",children:"Save Changes"})]})}function H6({submitForm:e,component:t}){const n=Pr({query:"(min-width: 640px)"}),r=In(),a=Vr();return A.jsxs("div",{className:"py-[22px] flex justify-end gap-2",children:[A.jsx(Ic,{onClickHandler:()=>{if(n){r(Ui(!1));return}a(-1)},type:"button",children:"Cancel"}),A.jsx(t0,{onClickHandler:t?()=>{e()}:void 0,type:"submit",children:"Save Changes"})]})}function Md({component:e=!1,mode:t,invoiceValues:n=void 0}){const[r,a]=G.useState(!1),l="flex flex-col gap-[25px]",c="font-bold leading-[15px] text-base -tracking-[0.25px] text-[#7C5DFA] mb-6",f="flex flex-col gap-[9px]",m="text-xs leading-[15px] -tracking-[0.1px] text-[#7E88C3] dark:text-[#DFE3FA]",p="text-xs leading-[15px] -tracking-[0.1px] text-rose-400",y="py-[18px] px-[20px] border border-[#DFE3FA] rounded-sm text-base font-bold leading-[15px] -tracking-0.25px text-[#0C0E16] dark:bg-[#1E2139] dark:text-white dark:border-[#252945] focus:border-[#9277FF] focus-visible:border-[#9277FF] focus-visible:outline-none",{userId:_,invoiceId:b}=Oa(),S=In(),I=Vr(),j=un(ja);async function k(M){if(t==="edit"&&b){const Z=F6(M),K=j.invoices.find(tt=>tt.id===b);S(Kb({invoiceId:b,changes:Z}));try{if(await j6(b,Z),S(gn(`Invoice ${b} been updated`)),!e){I(-1);return}S(Ui(!1))}catch(tt){S(Kb({invoiceId:b,changes:K})),S(gn(tt)),S(Ui(!1))}}if(t==="new"&&_)try{const Z=await U6(_,M);if(Z&&(S(fx(Z)),await y2(Z.id,Z),S(gn("New invoice been created"))),!e){I(-1);return}S(Ui(!1))}catch(Z){Z instanceof Error&&S(gn(Z.message)),Z instanceof Xv&&(S(gn(Z.message)),S(dx(Z.publicId))),S(Ui(!1))}}return A.jsx(q9,{onSubmit:k,initialValues:t==="edit"?n:C6,mutators:{...R6},validate:r?void 0:D6,subscription:{submitting:!0,pristine:!0},validateOnBlur:!0,render:({handleSubmit:M,form:{mutators:{push:Z,remove:K}}})=>A.jsxs("form",{className:"flex flex-col dark:bg-[#141625]",onSubmit:M,children:[A.jsxs("fieldset",{className:l,children:[A.jsx("legend",{className:c,children:"Bill From"}),A.jsx(rn,{name:"senderStreet",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Street Address"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})}),A.jsx(rn,{name:"senderCity",type:"text",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"City"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})}),A.jsx(rn,{name:"senderPostCode",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Post Code"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})}),A.jsx(rn,{name:"senderCountry",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Country"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})})]}),A.jsxs("fieldset",{className:l+" mt-10",children:[A.jsx("legend",{className:c,children:"Bill To"}),A.jsx(rn,{name:"clientsName",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Client’s Name"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})}),A.jsx(rn,{name:"clientsEmail",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Client’s Email"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"email",className:y})]})}),A.jsx(rn,{name:"clientsStreet",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Street Address"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})}),A.jsx(rn,{name:"clientsCity",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"City"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})}),A.jsx(rn,{name:"clientsPostCode",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Post Code"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})}),A.jsx(rn,{name:"clientsCountry",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Country"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})})]}),A.jsxs("div",{className:l+" mt-[25px]",children:[A.jsxs("label",{className:f,children:[A.jsx("span",{className:m,children:"Invoice Date"}),A.jsx(rn,{name:"invoiceDate",component:e6})]}),A.jsxs("label",{className:f,children:[A.jsx("span",{className:m,children:"Payment Terms"}),A.jsx(rn,{name:"paymentTerm",component:Z9})]}),A.jsx(rn,{name:"description",children:({input:tt,meta:X})=>A.jsxs("label",{className:f,children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:m,children:"Project Description"}),A.jsx("span",{className:p,children:X.touched&&X.error?X.error:""})]}),A.jsx("input",{...tt,type:"text",className:y})]})})]}),A.jsx(g6,{push:Z,remove:K,onSkipValidation:a}),A.jsxs("div",{className:"relative mt-22",children:[A.jsx("div",{className:"absolute -top-16 -left-6 -right-6 h-16 bg-linear-to-b from-transparent to-black/10 md:hidden"}),t==="new"?A.jsx(q6,{submitForm:M,component:e}):A.jsx(H6,{submitForm:M,component:e})]})]})})}function G6(){const e=Pr({query:"(min-width: 640px)"}),t=In(),{openForm:n}=un(gx);function r(){t(Ui(!0))}const a={close:{x:"-50vw",transition:{duration:.2}},open:{x:0,transition:{type:"spring",bounce:.25}}};return A.jsxs(cc,{to:e?"":"new",children:[A.jsxs(Ae.button,{className:"bg-[#7c5dfa] py-3 px-4 max-h-12 rounded-full text-[15px] font-bold -tracking-[0.25px] cursor-pointer text-white flex gap-3 items-center",onClick:e?r:void 0,whileHover:{backgroundColor:"#9277FF"},whileTap:{scale:.98},children:[A.jsx("div",{className:"bg-white rounded-full p-[11px]",children:A.jsx("img",{src:b9,alt:"",width:11,height:11,"aria-hidden":"true"})}),e?"New Invoice":"New"]}),e&&Hv.createPortal(A.jsx(Xi,{children:n&&A.jsx(Gv,{shown:n,className:"w-[616px] h-full px-14 pt-[59px] pb-8 absolute bottom-0 top-20 lg:top-0 lg:left-20 rounded-r-[20px] max-h-none dark:bg-[#141625] overflow-y-scroll backdrop:bg-[#0000006a]",variants:a,initial:"close",animate:"open",exit:"close",showModal:!1,backdrop:!0,children:A.jsx(Md,{component:!0,mode:"new"})},"newForm")}),document.getElementById("root"))]})}function K6({label:e}){const t=un(NS),n=In(),[r,a]=G.useState(!1),[l,c]=G.useState(!1);G.useEffect(()=>{a(t.includes(e))},[t,e]);const f=()=>{const m=!r;a(m),n(m?uI(e):cI(e))};return A.jsxs("label",{className:"flex gap-[12px] items-center cursor-pointer px-4 py-[7.5px]",onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:[A.jsxs("div",{className:"relative flex items-center",children:[A.jsx(Ae.input,{className:"appearance-none w-4 h-4 border-2 border-transparent rounded-sm bg-[var(--A05)]",type:"checkbox",checked:r,onChange:f,animate:{borderColor:l?"var(--A01)":"#7c5dfa00"}}),A.jsx(Xi,{initial:!0,children:r&&A.jsx("svg",{className:"absolute top-[43%] left-[50%] -translate-x-1/2 -translate-y-1/2",width:"10",height:"8",xmlns:"http://www.w3.org/2000/svg",children:A.jsx(Ae.path,{d:"M1.5 4.5l2.124 2.124L8.97 1.28",stroke:"var(--purple)",strokeWidth:"2",fill:"none",fillRule:"evenodd",initial:{pathLength:0},animate:{pathLength:1},exit:{pathLength:0},transition:{type:"tween",duration:.2,ease:r?"easeOut":"easeIn"}})})})]}),A.jsx("span",{className:"font-bold -tracking-[0.25px] leading-[15px]",children:e})]})}const Q6=["Draft","Pending","Paid"];function Y6(){const[e,t]=G.useState(!1),n=Pr({query:"(min-width: 640px)"});function r(){t(!e)}const a=Yv(()=>{t(!1)}),l={fadeOut:{opacity:0},fadeIn:{opacity:1}};return A.jsxs("div",{className:"relative flex items-center",ref:a,children:[A.jsxs("button",{className:"px-4 py-1.5 flex gap-3 items-center cursor-pointer",onClick:r,children:[A.jsx("span",{className:"dark:text-white font-bold -tracking-[0.25px]",children:n?"Filter by status":"Filter"}),A.jsx(Ae.img,{src:f2,"aria-hidden":"true",alt:"",width:8,height:4,animate:{rotate:e?180:0}})]}),A.jsx(Xi,{children:e&&A.jsx(Ae.div,{className:"absolute top-14 left-[50%] bg-white rounded-lg px-[8px] py-[13.5px] shadow-md -translate-x-1/2 z-10 dark:bg-[var(--A04)] dark:text-white",variants:l,initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",children:A.jsx("ul",{children:Q6.map(c=>A.jsx("li",{children:A.jsx(K6,{label:c})},c))})})})]})}function $6({invoicesAmount:e}){return A.jsxs("nav",{className:"mt-[104px] md:mt-[141px] lg:mt-[77px] flex items-center",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("h1",{className:"text-2xl tracking-[-0.75px] md:text-4xl text-[var(--deep-black)] font-bold dark:text-white",children:"Invoices"}),A.jsxs("p",{className:"mt-1.5 text-base leading-[15px] tracking-[-0.1px] text-[var(--blue-gray)]",children:[e," invoices"]})]}),A.jsxs("div",{className:"ml-auto flex gap-[2.54px]",children:[A.jsx(Y6,{}),A.jsx(G6,{})]})]})}function X6(){const{invoices:e}=un(ja),[t,n]=G.useState(e),r=G.useRef(e.length),a=un(NS);T9(e.length,r.current,e);const l=G.useCallback(c=>String(c).charAt(0).toUpperCase()+String(c).slice(1),[]);return G.useEffect(()=>{if(a.length){const c=e.filter(f=>{const m=l(f.status);return a.includes(m)});n(c)}else n(e)},[a,e,l]),A.jsxs("section",{className:"pb-[105px] md:pb-[173]",children:[A.jsx($6,{invoicesAmount:t.length}),A.jsx("div",{className:"mt-[32px] md:mt-[55px] lg:mt-[64px] flex flex-col gap-4 items-center",children:t.length?t.map(c=>A.jsx(v9,{invoice:c},c.id)):A.jsx(E9,{})})]})}function W6({data:e}){return A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("span",{className:"font-bold leading-[15px] -tracking-[0.25px] text-[var(--A08)] dark:text-white",children:e.name}),A.jsx("span",{className:"font-bold text-[var(--A07)] leading-[15px] -tracking-[0.25px]",children:`${e.quantity} x £ ${e.price}`})]}),A.jsxs("span",{className:"font-bold leading-[15px] -tracking-[0.25px] text-[var(--A08)] dark:text-white",children:["£ ",e.total]})]})}function Pd({href:e}){return A.jsx("nav",{className:"mt-[105px] md:mt-[129px] lg:mt-[65px]",children:A.jsx(cc,{to:e,className:"inline-block font-bold -tracking-[0.25px] leading-[15px] p-4 dark:text-white",children:A.jsxs("div",{className:"flex items-center gap-[23.66px]",children:[A.jsx("img",{src:m2,alt:"",width:7,height:10,"aria-hidden":"true"}),"Go back"]})})})}function v2({children:e,onClickHandler:t}){return A.jsx(Ae.button,{className:"bg-[var(--red)] py-4 px-6 max-h-12 rounded-full text-[15px] font-bold -tracking-[0.25px] cursor-pointer text-white flex items-center justify-center",onClick:t,whileHover:{backgroundColor:"#FF9797"},whileTap:{scale:.98},children:e})}function Z6({onConfirm:e,onCancel:t}){return A.jsxs("div",{className:"bg-white px-8 pt-[34px] pb-8 dark:bg-[#1E2139]",children:[A.jsx("strong",{className:"block text-2xl  font-bold -tracking-[0.25px] text-[var(--deep-black)] leading-8 dark:text-white col-start-1 mb-2 md:mb-3",children:"Confirm Deletion"}),A.jsx("p",{className:"text-xs font-medium -tracking-[0.1px] leading-[15px] text-[var(--A06)] mb-[22px] md:mb-4 dark:text-[#DFE3FA] mt-3 mb-[14px]",children:"Are you sure you want to delete invoice #XM9141? This action cannot be undone."}),A.jsxs("div",{className:"flex justify-end gap-2",children:[A.jsx(Ic,{onClickHandler:()=>{t(!0)},children:"Cancel"}),A.jsx(v2,{onClickHandler:()=>{e(!0)},children:"Delete"})]})]})}function J6(){const[e,t]=G.useState(!1),[n,r]=G.useState(!1),[a,l]=G.useState(!1),{invoiceId:c}=Oa(),f=In(),m=Vr(),{error:p,success:y,deleted:_}=un(ja);G.useEffect(()=>{y&&_&&(m(-1),f(gn(y)),f(Yf())),p&&(f(gn(p)),f(Yf()))},[y,p,m,f,_]),G.useEffect(()=>{e&&n&&c&&f(Sf(c)),e&&a&&(t(!1),l(!1))},[n,f,c,e,a]);const b={fadeOut:{opacity:0},fadeIn:{opacity:1}};return A.jsxs(A.Fragment,{children:[A.jsx(v2,{onClickHandler:()=>{t(!0)},children:"Delete"}),A.jsx(Xi,{children:e&&A.jsx(Gv,{shown:e,className:"rounded-lg absolute top-1/2 -translate-y-1/2 backdrop:bg-[#0000006a] left-6 right-6 md:left-1/2 transform md:-translate-x-1/2",variants:b,initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",children:A.jsx(Z6,{onConfirm:r,onCancel:l})},"delete-message")})]})}function t5(){const{invoiceId:e}=Oa(),t=In(),{error:n,success:r,updated:a}=un(ja);G.useEffect(()=>{n&&(t(gn(n)),t(Yf())),r&&a&&(t(gn(r)),t(Yf()))},[n,r,t,a]);function l(){t(wf(e))}return A.jsx(t0,{onClickHandler:l,type:"button",children:"Mark as Paid"})}function e5(e){switch(e){case 1:return"Net 1 Day";case 7:return"Net 7 Days";case 14:return"Net 14 Days";case 30:return"Net 30 Days";default:return"Select Terms"}}function _2(e){if(e)return{senderStreet:e.senderAddress.street,senderCity:e.senderAddress.city,senderPostCode:e.senderAddress.postCode,senderCountry:e.senderAddress.country,clientsName:e.clientName,clientsEmail:e.clientEmail,clientsStreet:e.clientAddress.street,clientsCity:e.clientAddress.city,clientsPostCode:e.clientAddress.postCode,clientsCountry:e.clientAddress.country,invoiceDate:Fk(e.createdAt),paymentTerm:e5(e.paymentTerms),description:e.description,items:e.items}}function n5(){const e=Pr({query:"(min-width: 640px)"}),t=In(),{openForm:n}=un(gx),{invoiceId:r}=Oa(),{invoices:a}=un(ja),l=a.find(p=>p.id===r),c=G.useMemo(()=>_2(l),[l]);function f(){t(Ui(!0))}const m={close:{x:"-50vw",transition:{duration:.2}},open:{x:0,transition:{type:"spring",bounce:.25}}};return A.jsxs(cc,{to:e?"":"edit",children:[A.jsx(Ic,{onClickHandler:e?f:void 0,children:"Edit"}),e&&Hv.createPortal(A.jsx(Xi,{children:n&&A.jsx(Gv,{shown:n,className:"w-[616px] h-full px-14 pt-[59px] pb-8 absolute bottom-0 top-20 lg:top-0 lg:left-20 rounded-r-[20px] max-h-none dark:bg-[#141625] overflow-y-scroll backdrop:bg-[#0000006a]",variants:m,initial:"close",animate:"open",exit:"close",showModal:!1,backdrop:!0,children:A.jsx(Md,{component:!0,mode:"edit",invoiceValues:c})},"editForm")}),document.getElementById("root"))]})}function i5({status:e}){const t=Pr({query:"(min-width: 640px)"}),{updated:n}=un(ja),r=G.useRef(e);return G.useEffect(()=>{n&&(r.current="paid")},[n]),A.jsxs("div",{className:"status bg-white rounded-lg p-6 flex items-center justify-between dark:bg-[var(--A03)] mt-[31px] md:justify-start",children:[A.jsx("span",{className:"text-xs -tracking-[0.1px] leading-[15px] text-[#858BB2] md:mr-5",children:"Status"}),A.jsx(ZR,{status:r.current}),t&&A.jsx(E2,{className:"ml-auto"})]})}function r5({id:e,description:t}){return A.jsxs("div",{className:"id font-bold -tracking-[0.25px] text-[var(--deep-black)] leading-6 dark:text-white col-start-1",children:[A.jsx("span",{className:"text-[var(--blue-gray)] dark:text-[var(--A07)]",children:"#"}),e,A.jsx("div",{className:"description text-xs font-medium -tracking-[0.1px] leading-[15px] text-[var(--A07)]",children:t})]})}function s5({senderAddress:e}){return A.jsxs("div",{className:"address flex flex-col col-start-1 row-start-2 md:col-start-4 md:row-start-1",children:[A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:e.street}),A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:e.city}),A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:e.postCode}),A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:e.country})]})}function a5({createdAt:e,paymentDue:t}){return A.jsxs("div",{className:"col-start-1 row-start-3 row-span-2 flex flex-col justify-between md:row-start-2",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:"Invoice Date"}),A.jsx("time",{className:"font-bold leading-[15px] -tracking-[0.25px] mt-[13px] col-start-1 text-[var(--A08)] dark:text-white",dateTime:e,children:e})]}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:"Payment Due"}),A.jsx("time",{className:"font-bold leading-[15px] -tracking-[0.25px] mt-[13px] col-start-1 text-[var(--A08)] dark:text-white",dateTime:t,children:t})]})]})}function o5({clientEmail:e}){return A.jsxs("div",{className:"email flex flex-col col-start-1 row-start-5 md:col-start-3 md:row-start-2",children:[A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:"Sent to"}),A.jsx("strong",{className:"font-bold leading-[15px] -tracking-[0.25px] mt-[13px] col-start-1 row-start-5 text-[var(--A08)] dark:text-white",children:A.jsx("a",{href:`mailto:${e}`,children:e})})]})}function l5({clientName:e,clientAddress:t}){return A.jsxs("div",{className:"client flex flex-col col-start-2 row-start-3 row-span-2 md:col-start-2 md:row-start-2",children:[A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:"Bill to"}),A.jsx("span",{className:"name font-bold leading-[15px] -tracking-[0.25px] mt-[13px] col-start-1 text-[var(--A08)] dark:text-white",children:e}),A.jsxs("div",{className:"address flex flex-col mt-[7px]",children:[A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:t.street}),A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:t.city}),A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:t.postCode}),A.jsx("span",{className:"text-xs font-medium -tracking-[0.1px] leading-[18px] text-[var(--A07)]",children:t.country})]})]})}function u5({items:e}){return A.jsx("div",{className:"items p-6 bg-[#F9FAFE] flex flex-col gap-6 rounded-t-lg dark:bg-[var(--A04)]",children:e.map((t,n)=>A.jsx(W6,{data:t},t.name+n))})}function c5({total:e}){return A.jsxs("div",{className:"total bg-[#373B53] dark:bg-[var(--A08)] px-6 py-8 flex justify-between rounded-b-lg",children:[A.jsx("span",{className:"text-xs text-white leading-[18px] -tracking-[0.1px] font-regular",children:"Grand Total"}),A.jsxs("span",{className:"text-[2,13333333rem] text-white leading-[18px] -tracking-[0.5px] font-bold",children:["£",e]})]})}function E2({className:e}){const t=e||"";return A.jsxs("div",{className:`controls absolute -left-[24px] -right-[24px] bottom-[0px] px-6 py-[21px] flex gap-2 bg-white justify-center md:static md:py-0 md:px-0 ${t} dark:bg-[#1E2139]`,children:[A.jsx(n5,{}),A.jsx(J6,{}),A.jsx(t5,{})]})}function h5(){const e=Pr({query:"(max-width: 640px)"}),t=WC(),{userId:n}=Oa();return A.jsxs("section",{className:"details relative pb-[147px]",children:[A.jsx(Pd,{href:`/${n}/invoices`}),A.jsx(i5,{status:t.status}),A.jsxs("div",{className:"wrapper bg-white rounded-lg p-6 mt-4 dark:bg-[var(--A03)] grid grid-cols-2 grid-rows-[repeat(6, auto)] gap-y-[31px] md:grid-cols-4 md:grid-rows-[repeat(4,auto)] md:gap-y-[21px]",children:[A.jsx(r5,{id:t.id,description:t.description}),A.jsx(s5,{senderAddress:t.senderAddress}),A.jsx(a5,{createdAt:t.createdAt,paymentDue:t.paymentDue}),A.jsx(o5,{clientEmail:t.clientEmail}),A.jsx(l5,{clientName:t.clientName,clientAddress:t.clientAddress}),A.jsxs("div",{className:"items-list pt-[38px] col-span-2 row-start-6 md:col-span-4 md:row-start-4",children:[A.jsx(u5,{items:t.items}),A.jsx(c5,{total:t.total})]})]}),e&&A.jsx(E2,{})]})}async function T2({userId:e}){try{const t=Q1(gl,"invoices"),n=nx(t,ix("userId","==",e),mk("createdAt","desc")),a=(await ox(n)).docs.map(l=>({id:l.id,...l.data()}));if(a.length)return xd.dispatch(Hg(a)),a}catch(t){console.error("Error fetching invoices:",t)}}function wS(e,t){return t.find(n=>n.id===e)}async function f5({userId:e}){const t=xd.getState();if(t.invoices.invoices.length)return t.invoices.invoices;await T2({userId:e})}async function d5({invoiceId:e,userId:t}){const n=xd.getState();if(n.invoices.invoices.length===0){const a=await T2({userId:t});if(a){const l=wS(e,a);if(!l)throw new Error(`Invoice with ID ${e} not found`);return l}}const r=wS(e,n.invoices.invoices);if(!r)throw new Error(`Invoice with ID ${e} not found`);return r}function m5(){const[e,t]=G.useState(""),[n,r]=G.useState(""),{loading:a,userInfo:l,error:c,success:f}=un(lv),m=In(),p=Vr();function y(){t(""),r("")}function _(M){M.preventDefault(),y(),m(Af({email:e,password:n}))}G.useEffect(()=>{f&&l&&(y(),p(`/${l.id}/invoices`),m(gn(`Nice to see you ${l.name}`))),c&&m(gn(c))},[f,c,p,l,m]);const b="grid grid-cols-2 items-center",S="col-start-1 text-[#373B53] dark:text-white transition",I="py-3 px-4 border border-[#373B53] rounded-sm text-base font-bold leading-[15px] -tracking-0.25px text-[#0C0E16] dark:bg-[#1E2139] dark:text-white dark:border-[#252945] focus:border-[#9277FF] focus-visible:border-[#9277FF] focus-visible:outline-none",j="mt-4 flex gap-2",k="cursor-pointer border border-[#373B53] text-[#373B53] px-4 py-1.5 rounded-sm hover:text-[#7C5DFA] hover:border-[#7C5DFA] dark:border-[#DFE3FA] dark:text-[#DFE3FA] transition";return A.jsx("div",{className:"h-screen flex justify-center items-center",children:A.jsxs("form",{className:"grid gap-y-2",onSubmit:_,children:[A.jsxs("div",{className:b,children:[A.jsx("label",{htmlFor:"email",className:S,children:"Email"}),A.jsx("input",{type:"email",id:"email",className:I,onChange:M=>{t(M.target.value)},value:e,autoComplete:"email"})]}),A.jsxs("div",{className:b,children:[A.jsx("label",{htmlFor:"password",className:S,children:"Password"}),A.jsx("input",{id:"password",type:"password",className:I,onChange:M=>{r(M.target.value)},value:n,autoComplete:"on"})]}),A.jsxs("div",{className:j,children:[A.jsx("button",{className:k,type:"submit",children:a?"Loading":"Log in"}),A.jsx(cc,{className:k,to:"/register",children:"Sign Up"})]})]})})}function p5(){const[e,t]=G.useState(""),[n,r]=G.useState(""),[a,l]=G.useState(""),{loading:c,userInfo:f,error:m,success:p}=un(lv),y=In(),_=Vr();function b(){t(""),r(""),l("")}function S(K){K.preventDefault(),y(bf({email:e,password:n,displayName:a}))}G.useEffect(()=>{p&&f&&(b(),_(`/${f.id}/invoices`),y(gn(`Nice to see you ${f.name}`))),m&&y(gn(m))},[c,f,m,p,_,y,a]);const I="grid grid-cols-2 items-center",j="col-start-1 text-[#373B53] dark:text-white transition",k="py-3 px-4 border border-[#373B53] rounded-sm text-base font-bold leading-[15px] -tracking-0.25px text-[#0C0E16] dark:bg-[#1E2139] dark:text-white dark:border-[#252945] focus:border-[#9277FF] focus-visible:border-[#9277FF] focus-visible:outline-none";return A.jsxs(A.Fragment,{children:[A.jsx(Pd,{href:"/login"}),A.jsx("section",{className:"grow flex justify-center items-center",children:A.jsxs("form",{action:"",className:"grid gap-y-2 -mt-[188px] lg:-mt-[112px]",onSubmit:S,noValidate:!0,children:[A.jsxs("div",{className:I,children:[A.jsx("label",{htmlFor:"name",className:j,children:"Name"}),A.jsx("input",{type:"text",id:"name",className:k,onChange:K=>{l(K.target.value)},value:a,autoComplete:"given-name"})]}),A.jsxs("div",{className:I,children:[A.jsx("label",{htmlFor:"email",className:j,children:"Email"}),A.jsx("input",{type:"email",id:"email",className:k,onChange:K=>{t(K.target.value)},value:e,autoComplete:"email"})]}),A.jsxs("div",{className:I,children:[A.jsx("label",{htmlFor:"password",className:j,children:"Password"}),A.jsx("input",{id:"password",type:"password",className:k,onChange:K=>{r(K.target.value)},value:n})]}),A.jsx("div",{className:"mt-4 flex gap-2",children:A.jsx("button",{className:"cursor-pointer border border-[#373B53] text-[#373B53] px-4 py-1.5 rounded-sm hover:text-[#7C5DFA] hover:border-[#7C5DFA] dark:border-[#DFE3FA] dark:text-[#DFE3FA] transition",disabled:c,style:{cursor:c?"not-allowed":"pointer"},children:c?"Loading...":"Register"})})]})})]})}function g5({children:e}){const t=yc(),n=Vr(),r=In();return XN(t,a=>{a||(r(gn("Please login")),n("/login"))}),A.jsx(A.Fragment,{children:e})}function y5(){return A.jsxs("div",{className:"bg-white dark:bg-[#141625] absolute z-0 top-0 bottom-0 left-0 right-0 px-6",children:[A.jsx(Pd,{href:"../invoices"}),A.jsx("h1",{className:"font-bold text-2xl leading-8 -tracking-[0.5px] text-[#0C0E16] mb-[22px] mt-[10px]",children:"New Invoices"}),A.jsx(Md,{mode:"new"})]})}function v5(){const{invoiceId:e}=Oa(),{invoices:t}=un(ja),n=t.find(a=>a.id===e),r=_2(n);return A.jsxs("div",{className:"bg-white dark:bg-[#141625] absolute z-0 top-0 bottom-0 left-0 right-0 px-6",children:[A.jsx(Pd,{href:"../invoices"}),A.jsxs("h1",{className:"font-bold text-2xl leading-8 -tracking-[0.5px] text-[#0C0E16] mb-[22px] mt-[10px]",children:["Edit  ",A.jsx("span",{className:"text-[#888EB0]",children:"#"}),e==null?void 0:e.toUpperCase()]}),A.jsx(Md,{mode:"edit",invoiceValues:r})]})}function _5(){const e=JC();return console.log(e),A.jsxs("div",{className:"error-boundary",children:[A.jsx("h1",{children:"Something went wrong!"}),A.jsx("p",{children:e instanceof Error?e.message:"Unknown error occurred."})]})}const E5=ZC([{element:A.jsx(m9,{}),children:[{path:"/",children:[{path:"/register",element:A.jsx(p5,{})},{path:"/login",element:A.jsx(m5,{})},{path:"/:userId",children:[{element:A.jsx(g5,{children:A.jsx(p9,{})}),children:[{path:"invoices",loader:({params:e})=>f5(e),hydrateFallbackElement:A.jsx("div",{children:"Loading..."}),element:A.jsx(X6,{}),errorElement:A.jsx(_5,{}),children:[]},{path:"invoices/new",element:A.jsx(y5,{})},{path:"invoices/:invoiceId",element:A.jsx(h5,{}),loader:({params:e})=>d5(e),hydrateFallbackElement:A.jsx("div",{children:"Loading..."})},{path:"invoices/:invoiceId/edit",element:A.jsx(v5,{})}]}]}]}]}]);oI.createRoot(document.getElementById("root")).render(A.jsx(G.StrictMode,{children:A.jsx($C,{store:xd,children:A.jsx(tI,{router:E5})})}));
